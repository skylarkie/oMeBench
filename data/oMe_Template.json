[
  {
    "reaction_id": "NR-001",
    "name": "Base-catalyzed Aldol addition",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])([*:2])C=O",
      "C([*:1])([*:2])C=O"
    ],
    "products_smiles": [
      "C([*:1])([*:2])C(O)C([*:1])([*:2])C=O"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=C[O-]",
        "rationale": "The base abstracts the relatively acidic α-hydrogen due to resonance stabilization of the resulting enolate by the adjacent carbonyl group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])([*:2])C([O-])C([*:1])([*:2])C=O",
        "rationale": "The nucleophilic enolate carbon attacks the electrophilic carbonyl carbon of another molecule, driven by the strong polarization of the C=O bond."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])C(O)C([*:1])([*:2])C=O",
        "rationale": "The alkoxide intermediate is protonated by solvent or conjugate acid, yielding the stable β-hydroxy carbonyl product."
      }
    ],
    "description": "Under basic conditions, an α-hydrogen is deprotonated to form an enolate, which then attacks the carbonyl carbon of another molecule, forming a β-hydroxy carbonyl compound. The base catalyzes both enolate formation and final protonation of the alkoxide intermediate."
  },
  {
    "reaction_id": "NR-002",
    "name": "Acid-catalyzed Aldol addition",
    "level": "easy",
    "reactants_smiles": [
      "C(=O)([*:1])C[*:2]",
      "C(=O)([*:1])C[*:2]"
    ],
    "products_smiles": [
      "C(=O)([*:1])C([*:2])C(O)(C[*:2])[*:1]"
    ],
    "conditions": "Acid (H3O+)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=C[*:2])(O)[*:1]",
        "rationale": "Acid catalysis protonates the carbonyl oxygen, increasing α-proton acidity and enabling enol formation via resonance stabilization of the resulting cation."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[OH+]=C([*:1])C[*:2]",
        "rationale": "Protonation of the second carbonyl oxygen enhances its electrophilicity by withdrawing electron density, making it more susceptible to nucleophilic attack."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[OH+]=C([*:1])C([*:2])C(O)(C[*:2])[*:1]",
        "rationale": "The nucleophilic enol π-system attacks the activated carbonyl carbon, favored by strong electrophilicity and minimal steric hindrance at the reaction site."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C([*:1])C([*:2])C(O)(C[*:2])[*:1]",
        "rationale": "Deprotonation restores the neutral β-hydroxyketone, driven by the stability of the carbonyl and alcohol functional groups under acidic workup."
      }
    ],
    "description": "Under acidic conditions, one carbonyl is activated toward enolization, generating an electrophilic partner and a nucleophilic enol. The enol attacks the protonated carbonyl, forming a new C–C bond. Subsequent proton transfers regenerate the carbonyl and yield the β-hydroxyketone product."
  },
  {
    "reaction_id": "NR-003",
    "name": "Acyoin Condensation",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])(O[*:2])"
    ],
    "products_smiles": [
      "O=C([*:1])C(O)[*:1]"
    ],
    "conditions": "Na, then H2O workup",
    "mechanism": [
      {
        "step": 1,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "[C]([O-])([*:1])(O[*:2])",
        "step_weight": 0,
        "rationale": "Sodium metal donates an electron to the ester carbonyl, forming a radical anion stabilized by resonance between the carbonyl and alkoxide oxygen."
      },
      {
        "step": 2,
        "type": "radical",
        "subtype": "radical_coupling",
        "intermediate_smiles": "C([O-])([*:1])(O[*:2])C([O-])([*:1])(O[*:2])",
        "step_weight": 0,
        "rationale": "Two carbon-centered radicals couple due to high radical reactivity, forming a C–C bond between α-carbons adjacent to electron-withdrawing carbonyls."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=C([*:1])C(=O)[*:1]",
        "step_weight": 0,
        "rationale": "Alkoxide elimination occurs as the leaving group is stabilized by resonance and sodium counterion, forming a more conjugated 1,2-diketone."
      },
      {
        "step": 4,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "[O-]C([*:1])=C([O])[*:1]",
        "step_weight": 0,
        "rationale": "A second electron from sodium reduces one carbonyl to a radical anion, favored by the electrophilicity of the carbonyl carbon."
      },
      {
        "step": 5,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "[O-]C([*:1])=C([O-])[*:1]",
        "step_weight": 0,
        "rationale": "Further electron transfer reduces the other carbonyl, producing a dianion stabilized by delocalization over both oxygens."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C([*:1])C([O-])[*:1]",
        "step_weight": 0,
        "rationale": "Proton transfer from solvent or protic impurities protonates one alkoxide, driven by the high basicity of the oxygen anion."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C([*:1])C(O)[*:1]",
        "step_weight": 0,
        "rationale": "Final protonation during aqueous workup yields the neutral α-hydroxyketone, favored by the stability of the carbonyl and alcohol functionalities."
      }
    ],
    "description": "In the acyloin condensation, sodium donates electrons to ester carbonyls, generating radical anions that couple to form a 1,2-diketone intermediate. Subsequent electron transfers and protonations under reductive conditions yield the α-hydroxyketone product after aqueous workup."
  },
  {
    "reaction_id": "NG-004",
    "name": "Base-catalyzed Aldol condensation",
    "level": "medium",
    "reactants_smiles": [
      "C(C[*:1])C=O",
      "C(C[*:1])C=O"
    ],
    "products_smiles": [
      "C(C[*:1])C=C(C=O)[*:1]"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-](C=O)[*:1]",
        "rationale": "The base abstracts the acidic alpha-proton due to resonance stabilization of the resulting enolate by the adjacent carbonyl group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(C[*:1])C([O-])C(C=O)[*:1]",
        "rationale": "The nucleophilic enolate carbon attacks the electrophilic carbonyl carbon of another molecule, favored by polarization of the C=O bond."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C[*:1])C(O)C(C=O)[*:1]",
        "rationale": "Protonation of the alkoxide intermediate occurs to form the more stable neutral beta-hydroxyketone under basic aqueous conditions."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C[*:1])C(O)[C-](C=O)[*:1]",
        "rationale": "The base deprotonates the alpha-position again, generating an enolate that is positioned for elimination."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(C[*:1])C=C(C=O)[*:1]",
        "rationale": "Elimination of hydroxide occurs, forming a conjugated enone stabilized by extended pi-delocalization, making the step thermodynamically favorable."
      }
    ],
    "description": "Under basic conditions, an alpha-proton is abstracted to form an enolate, which nucleophilically attacks another carbonyl, forming a beta-hydroxyketone. Subsequent deprotonation and elimination yield the conjugated enone via aldol condensation, driven by resonance stabilization of the product."
  },
  {
    "reaction_id": "NG-004",
    "name": "Base-catalyzed Aldol condensation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])C=O",
      "C([*:2])([*:3])=O"
    ],
    "products_smiles": [
      "C([*:2])([*:3])=C(C=O)[*:1]"
    ],
    "conditions": "Acid (H3O+)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])=C([O-])",
        "rationale": "Acid-base conditions favor deprotonation at the α-position due to resonance stabilization of the resulting enolate by the adjacent carbonyl."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:2])([*:3])([O-])C(C=O)[*:1]",
        "rationale": "The nucleophilic enolate carbon attacks the electrophilic carbonyl carbon of [*:2], whose partial positive charge is enhanced by the electron-withdrawing carbonyl oxygen."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:2])([*:3])(O)C(C=O)[*:1]",
        "rationale": "Protonation of the alkoxide intermediate generates a stable β-hydroxy carbonyl, favored under acidic conditions for subsequent elimination."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:2])([*:3])(O)C=C([O-])[*:1]",
        "rationale": "Deprotonation at the α-position forms an enolate again, enabling conjugation with the β-hydroxy group for elimination."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:2])([*:3])=C(C=O)[*:1]",
        "rationale": "Elimination of water is driven by formation of the conjugated α,β-unsaturated carbonyl, which is thermodynamically stabilized by extended π-delocalization."
      }
    ],
    "description": "Under acidic conditions, the reaction proceeds via enolate formation, nucleophilic attack on the carbonyl of the second reactant, and subsequent dehydration to yield the α,β-unsaturated carbonyl product. Acid catalysis facilitates proton transfers and stabilizes intermediates, driving the condensation forward."
  },
  {
    "reaction_id": "NG-005",
    "name": "Acid-catalyzed Aldol condensation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])C=O",
      "C([*:2])([*:3])=O"
    ],
    "products_smiles": [
      "C([*:2])([*:3])=C(C=O)[*:1]"
    ],
    "conditions": "Acid (H3O+)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])=C(O)[*:2]",
        "rationale": "Acid protonates the carbonyl oxygen, increasing electrophilicity and facilitating enol formation via resonance-stabilized cation."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:2])([*:3])=[OH+]",
        "rationale": "Protonation of the second carbonyl increases its electrophilicity, making it more susceptible to nucleophilic attack by the enol."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:2])([*:3])(O)C(C=[OH+])[*:1]",
        "rationale": "The nucleophilic α-carbon of the enol attacks the protonated carbonyl, favored by strong electrophile activation and conjugation potential."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:2])([*:3])(O)C(C=O)[*:1]",
        "rationale": "Proton transfer restores the neutral β-hydroxyketone, stabilizing the intermediate through hydrogen bonding and resonance."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:2])([*:3])([OH2+])C(C=O)[*:1]",
        "rationale": "Protonation of the β-hydroxy group converts it into a better leaving group (water) under acidic conditions."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:2])([*:3])=C(C=O)[*:1]",
        "rationale": "Loss of water forms a conjugated α,β-unsaturated carbonyl, thermodynamically favored due to extended π-system stabilization."
      }
    ],
    "description": "Under acidic conditions, one carbonyl is activated toward enolization, while the other is protonated to enhance electrophilicity. The enol attacks the activated carbonyl, forming a β-hydroxyketone intermediate, which then undergoes acid-catalyzed dehydration to yield the α,β-unsaturated carbonyl product."
  },
  {
    "reaction_id": "NG-006",
    "name": "Alkyne zipper reaction",
    "level": "easy",
    "reactants_smiles": [
      "[*:1]C#CCC"
    ],
    "products_smiles": [
      "[*:1]CCCC#C"
    ],
    "conditions": "KH, 3-Aminopropylamine",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C#C[CH-]C",
        "rationale": "KH deprotonates the acidic propargylic position due to the high acidity of sp-hybridized C–H bonds, generating a resonance-stabilized acetylide anion."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C=C=CC",
        "rationale": "The acetylide anion abstracts a proton from an adjacent carbon, forming an allene intermediate via base-promoted rearrangement favored by strong basic conditions."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]CC#CC",
        "rationale": "Deprotonation at the terminal position of the allene occurs because the adjacent cumulated double bonds increase acidity through inductive and hyperconjugative effects."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]CC=C=C",
        "rationale": "Proton transfer regenerates an allene isomer, allowing migration of the triple bond toward the terminal position through reversible tautomerization."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]CCC#[C-]",
        "rationale": "Deprotonation at the propargylic position of the shifted alkyne is favored due to sp-hybridization, enabling final migration toward the thermodynamically stable terminal alkyne."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]CCCC#C",
        "rationale": "Protonation of the acetylide anion yields the terminal alkyne, favored by lower internal strain and greater stability under basic conditions."
      }
    ],
    "description": "Strong base KH deprotonates terminal and internal positions sequentially, enabling reversible allene–alkyne tautomerizations. Under these conditions, the thermodynamically favored terminal alkyne is formed via the 'zipper' shift, driven by conjugation and stability of the final C≡C at the chain end."
  },
  {
    "reaction_id": "NG-007",
    "name": "Appel reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])([*:3])O"
    ],
    "products_smiles": [
      "C([*:1])([*:2])([*:3])Br"
    ],
    "conditions": "Ph3P, CBr4",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[P+](c1ccccc1)(c1ccccc1)(c1ccccc1)Br.[C-](Br)(Br)Br",
        "rationale": "Triphenylphosphine, a strong nucleophile due to its lone pair on phosphorus, attacks electrophilic CBr4, displacing bromide and forming a bromophosphonium species stabilized by the electron-withdrawing phenyl groups."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[O-]C([*:1])([*:2])([*:3]).BrC(Br)(Br)",
        "rationale": "Bromide, a good base under these conditions, abstracts the acidic proton from the alcohol, driven by the formation of a resonance-stabilized alkoxide and the high acidity of the proton in polarizable medium."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[P+](OC([*:1])([*:2])([*:3]))(c1ccccc1)(c1ccccc1)c1ccccc1.[Br-]",
        "rationale": "The alkoxide, a strong nucleophile, attacks the electrophilic phosphorus center of the bromophosphonium ion, favored by phosphorus's ability to expand its coordination number and the poor leaving group ability of bromide from carbon."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])([*:2])([*:3])Br.O=P(c1ccccc1)(c1ccccc1)c1ccccc1",
        "rationale": "Bromide attacks the electrophilic carbon in the oxyphosphonium intermediate via SN2, favored by the excellent leaving group ability of triphenylphosphine oxide and the strong nucleophilicity of bromide."
      }
    ],
    "description": "In the Appel reaction, triphenylphosphine reacts with carbon tetrabromide to generate an electrophilic bromophosphonium species and bromide. The alcohol is deprotonated, then the alkoxide attacks the phosphonium center, forming an oxyphosphonium intermediate. Bromide then displaces the oxygen, yielding the alkyl bromide and triphenylphosphine oxide."
  },
  {
    "reaction_id": "NG-008",
    "name": "Baeyer-Villiger oxidation",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])(=O)([*:2])",
      "C([*:3])(=O)OO"
    ],
    "products_smiles": [
      "C([*:1])(=O)O[*:2]"
    ],
    "conditions": "Acid (H3O+)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=[OH+])[*:2]",
        "rationale": "Protonation of the carbonyl oxygen increases the electrophilicity of the carbonyl carbon via inductive and resonance effects, making it more susceptible to nucleophilic attack by the peracid."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])([OH])(OOC(=O)[*:3])[*:2]",
        "rationale": "The peracid oxygen acts as a nucleophile, attacking the activated carbonyl carbon; acid catalysis stabilizes the tetrahedral intermediate through protonation of the carbonyl."
      },
      {
        "step": 3,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C([*:1])(=[OH+])O[*:2]",
        "rationale": "A 1,2-shift occurs from the more migratory [*:2] group to the adjacent oxygen, driven by stabilization of the developing carbocation and relief of positive charge on the leaving group."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=O)O[*:2]",
        "rationale": "Deprotonation restores neutrality, yielding the ester product; the acidic medium facilitates proton transfers to complete the catalytic cycle."
      }
    ],
    "description": "Under acidic conditions, the carbonyl is activated toward nucleophilic attack by protonation, allowing the peracid to add. A 1,2-shift then occurs, driven by stabilization of the developing positive charge, yielding the ester after deprotonation."
  },
  {
    "reaction_id": "NR-009",
    "name": "Baker-Venkataraman rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])C(=O)c1ccccc1OC(=O)[*:3]"
    ],
    "products_smiles": [
      "[*:3]C(=O)C([*:1])([*:2])C(=O)c1ccccc1O"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-]([*:1])([*:2])C(=O)c1ccccc1OC(=O)[*:3]",
        "rationale": "The base abstracts the acidic α-proton next to the ketone, as the resulting enolate is resonance-stabilized by the adjacent carbonyl and aromatic ring."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "c12c(cccc1)OC([O-])([*:3])C([*:1])([*:2])C2=O",
        "rationale": "The nucleophilic enolate oxygen attacks the electrophilic ester carbonyl, favored by intramolecular proximity and the polarization of the C=O bond."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:3]C(=O)C([*:1])([*:2])C(=O)c1ccccc1[O-]",
        "rationale": "The alkoxide intermediate expels the phenoxide leaving group, driven by the stability of phenoxide and formation of a conjugated 1,3-diketone system."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:3]C(=O)C([*:1])([*:2])C(=O)c1ccccc1O",
        "rationale": "The phenoxide anion is protonated under the reaction conditions to yield the neutral phenol product, favored by the phenol's resonance stabilization."
      }
    ],
    "description": "Under basic conditions, the α-proton adjacent to the ketone is deprotonated to form an enolate, which attacks the ester carbonyl intramolecularly. This rearranges via acyl transfer to yield the 1,3-diketone phenol product after elimination and protonation."
  },
  {
    "reaction_id": "NG-010",
    "name": "Bamford-Stevens Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(=NNS(=O)(=O)c1ccc(C)cc1)(C([*:1])([*:2]))([*:3])"
    ],
    "products_smiles": [
      "C(=C([*:1])([*:2]))C([*:3])"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=N[N-]S(=O)(=O)c1ccc(C)cc1)(C([*:1])([*:2]))([*:3])",
        "rationale": "Base abstracts a proton alpha to the hydrazone nitrogen, stabilized by resonance into the adjacent imine, making the nitrogen anion more nucleophilic and primed for tosylate elimination."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=[N+]=[N-])(C([*:1])([*:2]))([*:3])",
        "rationale": "The negatively charged nitrogen facilitates expulsion of the tosylate, a good leaving group due to resonance stabilization by the sulfonyl group, forming a diazo species."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[C](C([*:1])([*:2]))([*:3])",
        "rationale": "The diazo compound thermally or base-promotedly loses N₂ gas, a highly stable leaving group, generating an electron-deficient carbene intermediate."
      },
      {
        "step": 4,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C(=C([*:1])([*:2]))C([*:3])",
        "rationale": "The carbene undergoes a 1,2-shift of [*:1] or [*:2] to stabilize the electron-deficient center, forming the more thermodynamically stable alkene via rearrangement."
      }
    ],
    "description": "Under basic conditions, the Bamford–Stevens reaction proceeds via deprotonation of the tosylhydrazone, generating an anion that eliminates the tosylate. This forms a diazo intermediate, which loses nitrogen to yield a carbene. A 1,2-shift then rearranges the carbene to the alkene product."
  },
  {
    "reaction_id": "NR-032",
    "name": "Büchner-Curtius-Schlotterbeck Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])([*:2])",
      "C=[N+]=[N-]"
    ],
    "products_smiles": [
      "C(=O)([*:2])(C[*:1])"
    ],
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([O-])(C[N+]#N)([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "The azide nitrogen lone pair attacks the electrophilic carbonyl carbon, whose partial positive charge is enhanced by the electron-withdrawing oxygen, forming a tetrahedral intermediate stabilized by resonance."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C(=O)([*:2])(C[*:1])",
        "step_weight": 0,
        "rationale": "Thermal conditions promote a 1,2-shift as nitrogen gas leaves, driven by the stability of the carbonyl and relief of electron deficiency at the migrating carbon."
      }
    ],
    "description": "The reaction proceeds via nucleophilic addition of an organoazide to the carbonyl, forming a tetrahedral intermediate. Under the conditions, a 1,2-shift occurs, driven by nitrogen extrusion and formation of a more stable carbonyl product with rearranged substituents."
  },
  {
    "reaction_id": "NR-033",
    "name": "Buchner Ring Expansion",
    "level": "medium",
    "reactants_smiles": [
      "N#[N+][CH-]C(=O)[*:1]",
      "c1([*:2])c([*:3])c([*:4])c([*:5])c([*:6])c1([*:7])"
    ],
    "products_smiles": [
      "[CH](C(=O)[*:1])1C([*:2])=C([*:3])C([*:4])=C([*:5])C([*:6])=C1[*:7]"
    ],
    "conditions": "heat/Metal",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[CH]C(=O)[*:1]",
        "step_weight": 0,
        "rationale": "Heating with metal catalyst promotes nitrogen extrusion from the diazo group, forming a carbene stabilized by adjacent carbonyl resonance."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C(C(=O)[*:1])1C([*:2])2C([*:3])=C([*:4])C([*:5])=C([*:6])C2([*:7])1",
        "step_weight": 0,
        "rationale": "The electrophilic carbene adds to the electron-rich aromatic π-system, favored by carbene’s high reactivity and aromatic nucleophilicity."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "[CH](C(=O)[*:1])1C([*:2])=C([*:3])C([*:4])=C([*:5])C([*:6])=C1[*:7]",
        "step_weight": 0,
        "rationale": "The strained bicyclic intermediate undergoes thermally allowed electrocyclic ring expansion to a more stable conjugated seven-membered ring."
      }
    ],
    "description": "Under thermal and metal catalysis, the diazo ketone loses nitrogen to form a reactive carbene, which adds to the aromatic ring. The resulting bicyclic intermediate undergoes a pericyclic ring expansion, yielding the seven-membered ring product characteristic of the Buchner reaction."
  },
  {
    "reaction_id": "NR-034",
    "name": "Burgess Dehydration",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])([*:2])(O)C([*:3])([*:4])",
      "COC(=O)[N-]S(=O)(=O)[N+](CC)(CC)CC"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=C([*:3])([*:4])"
    ],
    "conditions": "Burgess Reagent (the second reactant)",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "COC(=O)[N-]S(=O)(=O)[OH+](C([*:1])([*:2])C([*:3])([*:4]))",
        "rationale": "The electrophilic sulfur in the Burgess reagent is activated by electron-withdrawing sulfonyl and carbamate groups, allowing nucleophilic attack by the alcohol oxygen to form a sulfamate ester intermediate."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "COC(=O)[N-]S(=O)(=O)OC([*:1])([*:2])C([*:3])([*:4])",
        "rationale": "Proton transfer from the oxonium intermediate to the carbamate nitrogen neutralizes charge, stabilizing the intermediate and preparing the oxygen for elimination."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])([*:4])",
        "rationale": "The sulfamate group is an excellent leaving group due to resonance stabilization and electron-withdrawing substituents, enabling β-elimination to form the alkene under mild conditions."
      }
    ],
    "description": "The Burgess reagent, a mild dehydrating agent, reacts with the alcohol to form a sulfamate ester intermediate. Under the reaction conditions, intramolecular elimination occurs, driven by the good leaving group ability of the sulfamate, yielding the alkene product under mild, non-acidic conditions."
  },
  {
    "reaction_id": "NR-035",
    "name": "Cadogan-Sundberg Indole Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "c1(C([*:2])=C([*:3]))c(N(=O)=O)cc([*:1])cc1",
      "P([*:4])([*:4])([*:4])"
    ],
    "products_smiles": [
      "c1c([*:1])cc2c([nH]c([*:3])c2[*:2])c1"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "c1(C([*:2])=C([*:3]))c(N([O-])([O][P+]([*:4])([*:4])[*:4]))cc([*:1])cc1",
        "rationale": "The nucleophilic phosphorus attacks an electrophilic nitro oxygen due to strong P=O bond formation driving force, facilitated by the electron-withdrawing nature of the nitro group."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "c1(C([*:2])=C([*:3]))c(N=O)cc([*:1])cc1",
        "rationale": "Elimination of a phosphoryl leaving group occurs because the P–O bond formation is thermodynamically favored, and the nitroso intermediate is stabilized by resonance with the aromatic ring."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "c1(C([*:2])=C([*:3]))c(N([O-][P+]([*:4])([*:4])[*:4]))cc([*:1])cc1",
        "rationale": "Phosphorus attacks the nitroso oxygen again, driven by its high oxophilicity, forming a good leaving group and activating the nitrogen for further reduction."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "c1c([*:1])cc2c(n([O-])c([*:3])c2[*:2])c1",
        "rationale": "The electrophilic nitrene intermediate adds intramolecularly to the electron-rich alkene, favored by proximity and relief of ring strain in forming the fused bicyclic system."
      },
      {
        "step": 5,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "c1c([*:1])cc2c([n-]c([*:3])c2[*:2])c1",
        "rationale": "Intramolecular nucleophilic substitution occurs as the nitrogen lone pair displaces the leaving group, favored by the formation of the aromatic indole system."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1c([*:1])cc2c([nH]c([*:3])c2[*:2])c1",
        "rationale": "Proton transfer restores aromaticity and neutralizes the nitrogen, driven by the stability of the fully conjugated indole product."
      }
    ],
    "description": "The Cadogan–Sundberg indole synthesis proceeds via reduction of an aromatic nitro group by trialkyl phosphite, generating a nitrene intermediate that undergoes intramolecular cyclization onto an alkene. Subsequent rearrangements and proton transfers yield the indole core with substituents positioned according to the original aryl and alkene moieties."
  },
  {
    "reaction_id": "NR-044",
    "name": "Cope Elimination",
    "level": "easy",
    "reactants_smiles": [
      "[CH]([*:1])([*:2])C([*:3])([*:4])[N+]([*:5])([*:6])[O-]"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=C([*:3])([*:4])",
      "O[N]([*:5])([*:6])"
    ],
    "conditions": "$heating$",
    "reaction_image_path": "/IMG/NR-000/reaction_cope.png",
    "mechnism_text_description": "The Cope elimination is a thermal intramolecular syn-stereospecific elimination of amine oxides yielding alkenes and N,N-dialkylhydroxylamines. The mechanism is concerted, involving a five-membered cyclic transition state where the oxygen of the amine oxide abstracts a $\\beta$-hydrogen. This proton abstraction, C=C double bond formation, and C-N bond cleavage (releasing N,N-dialkylhydroxylamine as the effective leaving group) occur simultaneously in a single step. While it's an elimination reaction, its concerted cyclic nature gives it pericyclic character, often compared to a [1,5]-sigmatropic hydrogen shift or an ene-like reaction.",
    "mechanism_step_nums": 1,
    "mechanism_image_path": "/IMG/NR-000/mechanism_cope.png",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])([*:4]).O[N]([*:5])([*:6])",
        "step_weight": 0,
        "rationale": "Thermal energy promotes a concerted syn-elimination where the amine oxide oxygen, being nucleophilic and well-positioned, abstracts the β-hydrogen. Simultaneous C–N bond cleavage is favored by the stability of the N,N-dialkylhydroxylamine leaving group and the relief of steric strain."
      }
    ],
    "description": "Upon heating, the amine oxide undergoes a concerted syn-elimination via a five-membered cyclic transition state. The oxygen abstracts a β-hydrogen while the C–N bond breaks and a C=C double bond forms, yielding the alkene and N,N-dialkylhydroxylamine."
  },
  {
    "reaction_id": "NR-045",
    "name": "Cope Rearrangement",
    "level": "easy",
    "reactants_smiles": [
      "C([*:11])([*:12])=C([*:21])C([*:31])([*:32])C([*:41])([*:42])C([*:51])=C([*:61])([*:62])"
    ],
    "products_smiles": [
      "C([*:61])([*:62])C([*:11])([*:12])C([*:21])=C([*:31])([*:32])C([*:41])([*:42])=C([*:51])"
    ],
    "conditions": "heat",
    "reaction_image_path": "/IMG/NR-000/reaction",
    "mechnism_text_description": "The Cope rearrangement is a thermally induced [3,3]-sigmatropic rearrangement of a 1,5-diene. It proceeds through a concerted, pericyclic mechanism involving a six-electron, six-membered cyclic transition state, often depicted in a chair-like conformation. In this reaction, a C-C sigma bond between positions 3 and 4 of the 1,5-diene system breaks, while a new C-C sigma bond forms between positions 1 and 6. Simultaneously, the pi bonds shift positions (from C1=C2 and C5=C6 to C2=C3 and C4=C5, using standard 1,5-diene numbering). For the specific substrate shown, this transformation results in a product where the phenyl and isopropyl groups, originally on adjacent carbons in the middle of the 1,5-diene chain, appear to have swapped their positions relative to the ethyl-substituted alkene and the terminal alkene.",
    "mechanism_step_nums": 1,
    "mechanism_image_path": "/IMG/NR-000/mechanism",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C([*:61])([*:62])C([*:11])([*:12])C([*:21])=C([*:31])([*:32])C([*:41])([*:42])=C([*:51])",
        "step_weight": 0,
        "rationale": "Heating provides the activation energy for the concerted [3,3]-sigmatropic shift, where orbital symmetry allows cyclic electron flow. Substituents on the diene stabilize the transition state via hyperconjugation and minimize steric strain in the chair-like geometry."
      }
    ],
    "description": "Under thermal conditions, the 1,5-diene undergoes a concerted [3,3]-sigmatropic Cope rearrangement via a six-membered cyclic transition state. Substituents influence the transition state stability through hyperconjugation and steric effects, guiding the rearrangement toward the observed alkene connectivity."
  },
  {
    "reaction_id": "NR-046",
    "name": "Corey-Fuchs Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]C=O"
    ],
    "products_smiles": [
      "[*:1]C#C"
    ],
    "conditions": "1. P(c1ccccc1)(c1ccccc1)c1ccccc1, C(Br)(Br)(Br)Br 2. [Li]CCCC",
    "reaction_image_path": "/IMG/NR-000/reaction_Corey-Fuchs.png",
    "mechnism_text_description": "The Corey-Fuchs reaction is a two-step procedure for the conversion of aldehydes into terminal alkynes. In the first step, intermediate α,α-dibromoalkenes are prepared by the reaction of aldehydes with carbon tetrabromide and triphenylphosphine. In the second step, treatment with a strong base yields the terminal alkynes. The reaction was developed by Elias J. Corey and Philip L. Fuchs in 1972, building on the work Fausto Ramirez published in 1962.",
    "mechanism_step_nums": 9,
    "mechanism_image_path": "/IMG/NR-000/mechanism_Corey-Fuchs.png",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[P+](c1ccccc1)(c1ccccc1)(c1ccccc1)Br.[C-](Br)(Br)Br",
        "step_weight": 0,
        "rationale": "Triphenylphosphine attacks CBr4, displacing bromide due to phosphorus's strong nucleophilicity and the electrophilicity of carbon enhanced by electron-withdrawing bromines."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "BrC(Br)=[P](c1ccccc1)(c1ccccc1)c1ccccc1",
        "step_weight": 0,
        "rationale": "Bromide attacks the phosphonium intermediate, forming a dibromomethylphosphonium salt stabilized by resonance with the phenyl groups on phosphorus."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[O-]C([*:1])C(Br)(Br)[P+](c1ccccc1)(c1ccccc1)c1ccccc1",
        "step_weight": 0,
        "rationale": "The aldehyde oxygen attacks the electrophilic phosphorus, driven by the strong affinity of phosphorus for oxygen and the polarization of the P–C bond."
      },
      {
        "step": 4,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "O1C([*:1])C(Br)(Br)P1(c1ccccc1)(c1ccccc1)c1ccccc1",
        "step_weight": 0,
        "rationale": "Intramolecular coordination between oxygen and phosphorus forms a cyclic oxaphosphetane-like intermediate, stabilizing charge separation."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]C=C(Br)Br",
        "step_weight": 0,
        "rationale": "Elimination occurs to form the α,α-dibromoalkene, driven by the stability of triphenylphosphine oxide and the conjugation in the alkene."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C([Li])=C(Br)Br",
        "step_weight": 0,
        "rationale": "Strong base deprotonates the α-position, facilitated by the electron-withdrawing effect of the two bromines, generating a carbanion."
      },
      {
        "step": 7,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]C#CBr",
        "step_weight": 0,
        "rationale": "The carbanion eliminates bromide to form a bromoalkyne, favored by the good leaving group ability of bromide and formation of a triple bond."
      },
      {
        "step": 8,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[*:1]C#C[Li]",
        "step_weight": 0,
        "rationale": "Base displaces bromide from the bromoalkyne to form a lithium acetylide, driven by the high acidity of the terminal alkyne proton and strong nucleophilicity of the base."
      },
      {
        "step": 9,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C#C",
        "step_weight": 0,
        "rationale": "Protonation of the acetylide anion yields the terminal alkyne, driven by the stability of the neutral alkyne and the conjugate acid-base equilibrium."
      }
    ],
    "description": "The Corey–Fuchs reaction converts aldehydes into terminal alkynes via α,α-dibromoalkene intermediates. Triphenylphosphine and CBr4 form a reactive phosphonium species that transforms the aldehyde, and strong base induces successive eliminations to yield the alkyne, followed by protonation to give the terminal product."
  },
  {
    "reaction_id": "NR-047",
    "name": "Corey-Kim Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])(H)O",
      "O=C1N(Cl)C(=O)CC1",
      "CSC"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=O"
    ],
    "conditions": "Et3N",
    "reaction_image_path": "/IMG/CoreyKim/reaction.png",
    "mechnism_text_description": "The depicted mechanism for the Corey-Kim oxidation of benzyl alcohol to benzaldehyde starts with the reaction of benzyl alcohol with an electrophilic chlorodimethylsulfonium species (formed from dimethyl sulfide and N-chlorosuccinimide, NCS).\nStep 1: The oxygen of benzyl alcohol performs a nucleophilic attack on the sulfur atom of the chlorodimethylsulfonium species (e.g., [CH3S(Cl)CH3]+), with chloride as the leaving group. This forms a protonated alkoxysulfonium ion intermediate (c1ccccc1C[O+H]S(C)C).\nStep 2: This intermediate is deprotonated at the oxygen by a base (e.g., the chloride ion displaced in Step 1 or triethylamine) to yield an alkoxysulfonium species where oxygen is neutral and sulfur is positively charged (c1ccccc1CO[S+](C)C).\nStep 3: Triethylamine (NEt3) then acts as a base to deprotonate the carbon alpha to the oxygen. This initiates an elimination process: the electrons from the C-H bond form a new C=O double bond, and concurrently, the C-O-S bond cleaves, with dimethyl sulfide (SMe2) departing as a leaving group, to yield benzaldehyde.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "/IMG/CoreyKim/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "S(Cl)(C)C",
        "step_weight": 0,
        "rationale": "The alcohol oxygen, being nucleophilic, attacks the electron-deficient sulfur of the chlorodimethylsulfonium ion; chloride leaves due to its good leaving group ability, driven by sulfur's high electrophilicity."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])([*:2])(H)[OH+][S+](C)C",
        "step_weight": 0,
        "rationale": "A base removes the proton from the protonated oxygen, stabilizing the intermediate by neutralizing the oxygen while retaining the positively charged sulfur."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])(H)O[S+](C)C",
        "step_weight": 0,
        "rationale": "Triethylamine abstracts the acidic α-proton, facilitated by the adjacent positively charged sulfur, which increases the acidity via inductive withdrawal."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])=O",
        "step_weight": 0,
        "rationale": "The α-carbanion collapses to form the C=O bond, expelling dimethyl sulfide; SMe2 is a good leaving group due to its stability and weak basicity."
      }
    ],
    "description": "In the Corey–Kim oxidation, the alcohol oxygen attacks an electrophilic sulfonium species generated in situ, forming an alkoxysulfonium intermediate. Base-mediated deprotonations facilitate conversion to a neutral sulfonium species, then elimination yields the carbonyl product with dimethyl sulfide as the leaving group."
  },
  {
    "reaction_id": "NR-048",
    "name": "Corey-Nicolaou Macrolactonization",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]C(=O)O",
      "[*:2]O"
    ],
    "products_smiles": [
      "[*:1]C(=O)O([*:2])"
    ],
    "conditions": "P(c1ccccc1)(c1ccccc1)c1ccccc1, c1cnccc1SSc1cncccc1",
    "reaction_image_path": "/IMG/NR-000/reaction_image.png",
    "mechnism_text_description": "The Corey-Nicolaou macrolactonization involves the activation of a carboxylic acid ([*:1]-COOH) using triphenylphosphine (Ph3P) and 2,2'-dipyridyl disulfide (PySSPy), followed by esterification with an alcohol ([*:2]-OH).\nStep 1: Triphenylphosphine attacks 2,2'-dipyridyl disulfide, forming an activated phosphonium salt (Ph3P+-S-Py) and a thiopyridylate anion (PyS-).\nStep 2: The carboxylic acid reacts with the phosphonium salt (Ph3P+-S-Py), often facilitated by PyS- acting as a base, to form an S-pyridyl thioester ([*:1]-C(=O)-S-Py) and triphenylphosphine oxide or Ph3P depending on precise pathway depiction.\nStep 3: The alcohol ([*:2]-OH) performs a nucleophilic attack on the carbonyl carbon of the S-pyridyl thioester. The nitrogen of the pyridyl group assists by deprotonating the attacking alcohol, leading to a zwitterionic tetrahedral intermediate where the pyridyl nitrogen is protonated.\nStep 4: The tetrahedral intermediate collapses, ejecting 2-pyridinethiol (PySH, which can tautomerize to 2-thiopyridone) as a leaving group, to yield the final ester product ([*:1]-C(=O)-O[*:2]).",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "/IMG/NR-000/mechanism_image.png",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[P+](c1ccccc1)(c1ccccc1)(c1ccccc1)Sc1ncccc1",
        "step_weight": 0,
        "rationale": "Triphenylphosphine attacks the electrophilic disulfide sulfur due to its strong nucleophilicity, forming a reactive phosphonium–sulfur species and generating a good thiopyridyl leaving group."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[*:1]C(=O)O[P+](c1ccccc1)(c1ccccc1)(c1ccccc1)",
        "step_weight": 0,
        "rationale": "The carboxylate, deprotonated by PyS−, attacks the phosphonium–sulfur complex; the electron-withdrawing pyridyl group stabilizes the thioester intermediate, increasing carbonyl electrophilicity."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C([O-])(O([*:2]))O[P+](c1ccccc1)(c1ccccc1)(c1ccccc1)",
        "step_weight": 0,
        "rationale": "The alcohol nucleophile attacks the activated thioester carbonyl, favored by the strong electron-withdrawing effect of the pyridyl–sulfur, while pyridyl nitrogen assists by deprotonating the alcohol."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]C(=O)O([*:2])",
        "step_weight": 0,
        "rationale": "Collapse of the tetrahedral intermediate expels 2-pyridinethiol, a stabilized leaving group due to resonance in the pyridyl ring, yielding the ester product."
      }
    ],
    "description": "The Corey–Nicolaou macrolactonization activates the carboxylic acid via a phosphonium–thiopyridyl intermediate, enhancing electrophilicity. The alcohol then attacks the activated carbonyl, and elimination of a good leaving group yields the ester under mild, selective conditions."
  },
  {
    "reaction_id": "NR-049",
    "name": "Corey-Seebach Reaction",
    "level": "easy",
    "reactants_smiles": [
      "S([*:1])C([*:2])S([*:1])",
      "O=C([*:3])([*:4])"
    ],
    "products_smiles": [
      "S([*:1])C([*:2])(C(O)([*:3])([*:4]))S([*:1])"
    ],
    "conditions": "1) n-BuLi 2) Benzaldehyde 3) H3O+ workup",
    "reaction_image_path": "/IMG/NR-000/reaction.png",
    "mechnism_text_description": "The mechanism begins with the deprotonation of 2-ethyl-1,3-dithiane (CCC1SCCS1) at the C2 position by n-butyllithium (n-BuLi), forming a nucleophilic lithiated dithiane carbanion. This carbanion then undergoes nucleophilic addition to the electrophilic carbonyl carbon of benzaldehyde (O=Cc1ccccc1), generating a lithium alkoxide intermediate. Finally, protonation of this alkoxide by an acidic workup (e.g., H3O+) yields the final product, 2-ethyl-2-(hydroxy(phenyl)methyl)-1,3-dithiane.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "/IMG/NR-000/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "S([*:1])[C-]([*:2])S([*:1])",
        "step_weight": 0,
        "rationale": "n-BuLi abstracts the acidic C2 proton, as the adjacent sulfurs stabilize the resulting carbanion through inductive withdrawal and resonance, making deprotonation thermodynamically favorable."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "S([*:1])C([*:2])(C([O-])([*:3])([*:4]))S([*:1])",
        "step_weight": 0,
        "rationale": "The carbanion attacks the aldehyde’s electrophilic carbonyl carbon, driven by strong nucleophilicity and polarization of the C=O bond, forming a tetrahedral alkoxide intermediate."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "S([*:1])C([*:2])(C(O)([*:3])([*:4]))S([*:1])",
        "step_weight": 0,
        "rationale": "Acidic workup protonates the alkoxide oxygen, favored by the high basicity of the alkoxide and the availability of protons in the acidic medium."
      }
    ],
    "description": "n-BuLi deprotonates the acidic C2 of the dithiane, generating a stabilized carbanion via sulfur’s inductive and resonance effects. This nucleophile attacks the electrophilic aldehyde carbon, forming an alkoxide, which is protonated during acidic workup to yield the hydroxylated dithiane product."
  },
  {
    "reaction_id": "NR-052",
    "name": "Curtius Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])([*:3])C(=O)N=[N+]=[N-]"
    ],
    "products_smiles": [
      "C([*:1])([*:2])([*:3])N=C=O"
    ],
    "conditions": "Heat",
    "reaction_image_path": "/IMG/NR-000/reaction.png",
    "mechnism_text_description": "The Curtius rearrangement is the thermal decomposition of an acyl azide to form an isocyanate with the loss of nitrogen gas (N2). The reaction typically proceeds via a concerted mechanism where the alkyl or aryl group (R) attached to the carbonyl carbon migrates to the nitrogen atom simultaneously with the expulsion of dinitrogen. This migration results in the formation of an isocyanate.",
    "mechanism_step_nums": 1,
    "mechanism_image_path": "/IMG/NR-000/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C([*:1])([*:2])([*:3])N=C=O",
        "step_weight": 0,
        "rationale": "Thermal energy promotes a concerted migration of R from carbon to nitrogen, facilitated by the excellent leaving ability of N₂ and stabilization of the developing positive charge on nitrogen, yielding the thermodynamically favored isocyanate."
      }
    ],
    "description": "Upon heating, the acyl azide undergoes a concerted 1,2-shift where the R group migrates from the carbonyl carbon to the adjacent nitrogen. This rearrangement is driven by the release of stable N₂ gas and formation of the isocyanate."
  },
  {
    "reaction_id": "NR-053",
    "name": "Dakin Oxidation",
    "level": "easy",
    "reactants_smiles": [
      "O=Cc1c([*:1])cc([*:2])c([*:3])c1([*:4])",
      "OO"
    ],
    "products_smiles": [
      "Oc1c([*:1])cc([*:2])c([*:3])c1([*:4])"
    ],
    "conditions": "Aqueous Base (e.g. [OH-]), then Acid (e.g. HCl for workup)",
    "reaction_image_path": "/IMG/NR-000/reaction.png",
    "mechnism_text_description": "The Dakin oxidation is the reaction between electron-rich aromatic aldehydes and hydrogen peroxide yielding phenols. It is a variant of the Baeyer-Villiger oxidation. The reaction was first described by Henry Drysdale Dakin in 1899.",
    "mechanism_step_nums": 5,
    "mechanism_image_path": "/IMG/NR-000/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[O-][CH](OO)c1c([*:1])cc([*:2])c([*:3])c1([*:4])",
        "step_weight": 0,
        "rationale": "Hydroxide-activated hydrogen peroxide is a strong nucleophile, attacking the electrophilic aldehyde carbonyl due to polarization from the oxygen and resonance withdrawal by the aromatic ring substituents."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "O=COc1c([*:1])cc([*:2])c([*:3])c1([*:4])",
        "step_weight": 0,
        "rationale": "A 1,2-aryl shift occurs because the aromatic group stabilizes the developing positive charge via resonance, facilitating migration to the adjacent peroxide oxygen."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[O-][CH](O)Oc1c([*:1])cc([*:2])c([*:3])c1([*:4])",
        "step_weight": 0,
        "rationale": "Hydroxide attacks the ester-like intermediate since the carbonyl carbon is electrophilic and activated by the adjacent oxygen, promoting nucleophilic addition."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[O-]c1c([*:1])cc([*:2])c([*:3])c1([*:4])",
        "step_weight": 0,
        "rationale": "Elimination of the formate anion occurs as it is a good leaving group under basic conditions, driven by formation of the stable phenoxide anion."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "Oc1c([*:1])cc([*:2])c([*:3])c1([*:4])",
        "step_weight": 0,
        "rationale": "Acid workup protonates the phenoxide to yield the neutral phenol, favored by the stability of the aromatic hydroxyl product in acidic medium."
      }
    ],
    "description": "Under basic conditions, hydrogen peroxide attacks the electron-deficient carbonyl of the aromatic aldehyde, followed by a rearrangement that shifts the aromatic ring to oxygen. Subsequent nucleophilic addition, elimination, and acid workup yield the phenol via Dakin oxidation."
  },
  {
    "reaction_id": "NR-054",
    "name": "Dakin-West Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[CH]([*:1])([*:2])C(=O)O",
      "C([*:3])C(=O)OC(=O)C([*:3])"
    ],
    "products_smiles": [
      "C([*:3])C(=O)[CH]([*:1])([*:2])"
    ],
    "conditions": "CCN(CC)CC",
    "reaction_image_path": "/IMG/NR-003/reaction.png",
    "mechnism_text_description": "Triethylamine deprotonates isobutyric acid to form the isobutyrate anion. The isobutyrate anion then attacks propanoic anhydride in a nucleophilic addition, yielding a tetrahedral intermediate. This intermediate collapses, eliminating propanoate anion and forming a mixed anhydride (isobutyric propanoic anhydride). Triethylamine then deprotonates the alpha-carbon of the isobutyric acid portion of the mixed anhydride, generating an O-enolate. This O-enolate undergoes a [3,3]-sigmatropic rearrangement to form a beta-keto carboxylate anion. The beta-keto carboxylate anion then undergoes rapid decarboxylation (heterolytic cleavage losing CO2) to yield the enolate of the final ketone product (3-methyl-2-pentanone enolate). Finally, this ketone enolate is protonated by the triethylammonium ion (formed in the deprotonation steps) to yield 3-methyl-2-pentanone.",
    "mechanism_step_nums": 10,
    "mechanism_image_path": "/IMG/NR-003/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[CH]([*:1])([*:2])C(=O)[O-]",
        "step_weight": 0,
        "rationale": "Triethylamine, a strong non-nucleophilic base, abstracts the acidic proton from the carboxylic acid due to resonance stabilization of the resulting carboxylate anion."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[CH]([*:1])([*:2])C(=O)OC([O-])(C([*:3]))OC(=O)C([*:3])",
        "step_weight": 0,
        "rationale": "The nucleophilic carboxylate oxygen attacks the electrophilic carbonyl carbon of the anhydride, favored by the strong polarization of the C=O bond and minimal steric hindrance."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[CH]([*:1])([*:2])C(=O)OC(=O)C([*:3])",
        "step_weight": 0,
        "rationale": "The tetrahedral intermediate collapses, expelling a propanoate anion, a good leaving group stabilized by resonance."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=C([O-])OC(=O)C([*:3])",
        "step_weight": 0,
        "rationale": "The α-proton adjacent to the carbonyl in the mixed anhydride is acidic due to resonance stabilization of the resulting enolate by both carbonyl groups; triethylamine abstracts it."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:3])C(OC(=O)C([*:3]))([O-])C([*:1])([*:2])C(=O)OC(=O)C([*:3])",
        "step_weight": 0,
        "rationale": "The O-enolate undergoes nucleophilic attack in a concerted [3,3]-sigmatropic rearrangement, driven by the formation of a more stable β-keto acid framework."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:3])C(=O)C([*:1])([*:2])C(=O)OC(=O)C([*:3])",
        "step_weight": 0,
        "rationale": "Rearrangement leads to elimination of the leaving group, facilitated by resonance stabilization of the departing anion and relief of steric strain."
      },
      {
        "step": 7,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:3])C(=O)C([*:1])([*:2])C(=O)OC([O-])(OC(=O)C([*:3]))C([*:3])",
        "step_weight": 0,
        "rationale": "Nucleophilic attack by the enolate oxygen on the adjacent carbonyl facilitates intramolecular rearrangement, favored by proximity and stabilization of the transition state."
      },
      {
        "step": 8,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:3])C(=O)C([*:1])([*:2])C(=O)[O-]",
        "step_weight": 0,
        "rationale": "Collapse of the intermediate expels a leaving group, driven by the formation of a stabilized β-keto carboxylate anion."
      },
      {
        "step": 9,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "C([*:3])C([O-])=C([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "The β-keto carboxylate undergoes decarboxylation because CO2 loss is entropically favorable and the resulting enolate is resonance-stabilized."
      },
      {
        "step": 10,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])C(=O)[CH]([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "The enolate is protonated by the triethylammonium ion, regenerating the base and yielding the neutral ketone product."
      }
    ],
    "description": "In the Dakin–West reaction, triethylamine deprotonates the carboxylic acid to form a carboxylate, which reacts with an acid anhydride to form a mixed anhydride. Base-induced enolate formation triggers a rearrangement to a β-keto acid intermediate, which decarboxylates to give the ketone product after protonation."
  },
  {
    "reaction_id": "NR-056",
    "name": "Danheiser Benzannulation",
    "level": "hard",
    "reactants_smiles": [
      "O=C1C([*:5])C([*:1])=C([*:2])C1",
      "C(EDG)#C([*:4])"
    ],
    "products_smiles": [
      "c1([*:1])c([*:5])c(O)c([*:4])c(EDG)c1([*:2])"
    ],
    "conditions": "Δ (Heat)",
    "reaction_image_path": "NR-056/reaction.png",
    "mechnism_text_description": "The Danheiser benzannulation is the reaction between cyclobutenones and alkynes yielding highly-substituted phenols. One pathway involves an initial thermal electrocyclic ring opening of the cyclobutenone to form a vinylketene. This vinylketene then undergoes a [2+2] cycloaddition with the alkyne to yield a vinylcyclobutenone intermediate. This vinylcyclobutenone subsequently undergoes a thermal electrocyclic rearrangement (which can be a cascade involving ring opening of the cyclobutene followed by 6pi closure of the resulting dienylketene) to form a cyclohexadienone intermediate. This cyclohexadienone finally tautomerizes to the aromatic phenol product. For the generalized example: the cyclobutenone O=C1C([*:5])C([*:1])=C([*:2])C1 (leading to vinylketene C([*:5])=C([*:1])C([*:2])=C=O) reacts with alkyne (EDG)C#C([*:4]). The vinylketene undergoes a [2+2] cycloaddition with the alkyne to give a vinylcyclobutenone. This intermediate then undergoes an electrocyclic rearrangement to yield a dienylketene, which then undergoes 6pi electrocyclization to a cyclohexadienone, which tautomerizes to the final product, ([*:1])c1c([*:5])c(O)c([*:4])c(EDG)c1([*:2]).",
    "mechanism_step_nums": 5,
    "mechanism_image_path": "NR-056/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "C([*:5])=C([*:1])C([*:2])=C=O",
        "step_weight": 0,
        "rationale": "Heat promotes conrotatory ring opening of the strained cyclobutenone, forming a vinylketene stabilized by conjugation between the alkene and carbonyl."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "C([*:5])=C([*:1])C1([*:2])C(=O)C([*:4])=C1(EDG)",
        "step_weight": 0,
        "rationale": "The electrophilic ketene reacts with the electron-rich alkyne in a [2+2] cycloaddition, favored by orbital symmetry and ketene’s high reactivity."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "C([*:5])=C([*:1])C([*:2])=C(EDG)C([*:4])=C=O",
        "step_weight": 0,
        "rationale": "Thermal ring opening of the cyclobutene relieves strain and generates a conjugated dienylketene, stabilized by extended π-conjugation."
      },
      {
        "step": 4,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "O=C1C([*:4])=C(EDG)C([*:2])=C([*:1])C([*:5])1",
        "step_weight": 0,
        "rationale": "A 6π electrocyclization occurs, driven by aromatic-like transition state stabilization and formation of a cyclohexadienone framework."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1([*:1])c([*:5])c(O)c([*:4])c(EDG)c1([*:2])",
        "step_weight": 0,
        "rationale": "Tautomerization to phenol is favored by the large aromatic stabilization energy of the benzene ring and hydrogen bonding capability of the hydroxyl group."
      }
    ],
    "description": "Under thermal conditions, the strained cyclobutenone undergoes electrocyclic ring opening to a vinylketene, which reacts with an electron-rich alkyne via [2+2] cycloaddition. Sequential electrocyclic rearrangements form a cyclohexadienone, which tautomerizes to the aromatic phenol, driven by aromatic stabilization and conjugation with the EDG."
  },
  {
    "reaction_id": "NR-059",
    "name": "De Mayo Reaction",
    "level": "medium",
    "reactants_smiles": [
      "O=C([*:1])C([*:2])C(=O)([*:3])",
      "C([*:4])=C([*:5])([*:6])"
    ],
    "products_smiles": [
      "O=C([*:1])C([*:2])C([*:4])([*:5])C([*:6])C(=O)([*:3])"
    ],
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "intermediate_smiles": "O=C([*:1])C([*:2])=C(O)([*:3])",
        "rationale": "Base or light-promoted conditions favor enolization of the 1,3-diketone due to resonance stabilization of the enolate and increased nucleophilicity of the alkene-like enol form."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "intermediate_smiles": "O=C([*:1])C([*:2])C1(O)C([*:3])C1([*:4])([*:5])([*:6])",
        "rationale": "The enol’s alkene moiety undergoes a photochemical [2+2] cycloaddition with the alkene partner, as light excitation enables the otherwise symmetry-forbidden cycloaddition."
      },
      {
        "step": 3,
        "type": "cleavage",
        "intermediate_smiles": "O=C([*:1])C([*:2])[O-]C([*:4])([*:5])C([*:6])C(=O)([*:3])",
        "rationale": "The strained cyclobutane intermediate undergoes retro-aldol cleavage, driven by relief of ring strain and stabilization of the resulting carbonyl-containing fragments."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "intermediate_smiles": "O=C([*:1])C([*:2])C([*:4])([*:5])C([*:6])C(=O)([*:3])",
        "rationale": "Proton transfer restores the keto form from the enolate intermediate, favored by the greater thermodynamic stability of the carbonyl over the enol."
      }
    ],
    "description": "The reaction proceeds via the De Mayo photochemical [2+2] cycloaddition between an enolized 1,3-diketone and an alkene, followed by retro-aldol cleavage to yield a 1,5-diketone. Proton transfers enable enolization and final keto tautomerization under the reaction conditions."
  },
  {
    "reaction_id": "NR-060",
    "name": "Dess-Martin Oxidation",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])([*:2])([H])O",
      "CC(=O)OI1(OC(=O)C)(OC(=O)C)C2=CC=CC=C2C(=O)O1"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=O"
    ],
    "conditions": "CH2Cl2 or other aprotic solvent (often implied, not explicitly stated in image)",
    "reaction_image_path": "/IMG/NR-000/reaction_dess_martin.png",
    "mechnism_text_description": "The Dess-Martin oxidation converts primary alcohols (like benzyl alcohol shown in the mechanism detail) to aldehydes, or secondary alcohols to ketones, using Dess-Martin Periodinane (DMP). The mechanism begins with a ligand exchange reaction (Step 1): the alcohol (benzyl alcohol) displaces an acetate ligand on the hypervalent iodine atom of DMP, forming an alkoxyperiodinane intermediate and releasing acetic acid. In the second step (Step 2), another acetate molecule (or another base present) abstracts a proton from the carbon atom bearing the alkoxy group (the benzylic proton in this case). This initiates a concerted elimination: the C-H bond electrons form the new carbon-oxygen double bond (aldehyde carbonyl), and simultaneously the bond between the oxygen and the iodine atom breaks, transferring electrons to the iodine. This step releases the aldehyde product (benzaldehyde) and the reduced form of the periodinane (a 1,2-benziodoxol-3(1H)-one derivative).",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "/IMG/NR-000/mechanism_dess_martin.png",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "CC(=O)OI1(OC(C)=O)([OH+]C([H])([*:1])([*:2]))C2=CC=CC=C2C(=O)O1",
        "step_weight": 0,
        "rationale": "The alcohol oxygen acts as a nucleophile toward the electron-deficient iodine(V) center, displacing an acetate due to iodine’s high electrophilicity and the good leaving group ability of acetate."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "CC(=O)OI1(OC(C)=O)([O]C([H])([*:1])([*:2]))C2=CC=CC=C2C(=O)O1",
        "step_weight": 0,
        "rationale": "Acetate, a weak base present in the medium, abstracts the α-proton; the benzylic or α-carbon is relatively acidic due to adjacent oxygen, facilitating deprotonation under mild conditions."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])=O",
        "step_weight": 0,
        "rationale": "The C–H bond electrons form the C=O, while the O–I bond breaks; iodine’s ability to stabilize reduction and acetate’s leaving ability drive the elimination to yield the carbonyl product."
      }
    ],
    "description": "In the Dess–Martin oxidation, the alcohol oxygen coordinates to the electrophilic iodine(V) center, replacing an acetate ligand. Subsequent deprotonation at the α-carbon facilitates concerted elimination, forming the carbonyl and reducing iodine. Mild, aprotic conditions favor selective oxidation without overoxidation."
  },
  {
    "reaction_id": "NR-061",
    "level": "easy",
    "name": "Dieckmann Condensation",
    "reactants_smiles": [
      "O([*:1])C(=O)CCCC(=O)O([*:2])"
    ],
    "products_smiles": [
      "O([*:1])C(=O)C1CCCC1=O"
    ],
    "conditions": "Base",
    "reaction_image_path": "/IMG/NR-000/reaction",
    "mechnism_text_description": "The Dieckmann condensation is the intramolecular reaction of diesters using strong bases yielding cyclic β-keto esters. It is the intramolecular variant of the Claisen condensation.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "/IMG/NR-000/mechanism",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O([*:1])C(=O)[CH-]CCCC(=O)O([*:2])",
        "step_weight": 0,
        "rationale": "Strong base abstracts the acidic α-proton due to resonance stabilization of the resulting enolate by the adjacent carbonyl group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "O([*:1])C(=O)C1C([O-])(O([*:2]))CCC1",
        "step_weight": 0,
        "rationale": "The nucleophilic enolate attacks the electrophilic ester carbonyl intramolecularly, favored by proximity and formation of a stable five-membered ring."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O([*:1])C(=O)C1CCCC1=O",
        "step_weight": 0,
        "rationale": "Elimination of the alkoxide occurs because it is a good leaving group, restoring the carbonyl and yielding the conjugated β-keto ester."
      }
    ],
    "description": "Under basic conditions, the α-proton of one ester is deprotonated to form an enolate, which intramolecularly attacks the carbonyl of the second ester, forming a cyclic intermediate. Elimination of the alkoxide yields the stable β-keto ester product."
  },
  {
    "reaction_id": "NR-063",
    "name": "Doebner-Miller Reaction",
    "level": "medium",
    "reactants_smiles": [
      "Nc1cc(([*:3]))c(([*:1]))c(([*:2]))c1([*:4])",
      "C([*:5])=C(([*:6]))C(=O)([*:7])"
    ],
    "products_smiles": [
      "c1([*:5])nc2c(([*:4]))c(([*:2]))c(([*:1]))c(([*:3]))c2c(([*:7]))c1([*:6])"
    ],
    "conditions": "Acid, [O]",
    "reaction_image_path": "/IMG/NR-000/image_6bdb87_reaction.png",
    "mechnism_text_description": "The Doebner-Miller reaction is the acid-catalyzed aerobic reaction between anilines and α,β-unsaturated carbonyl compounds yielding quinolines. The reaction is named after Oscar Döbner and Wilhelm von Miller who first described it in 1881.",
    "mechanism_step_nums": 7,
    "mechanism_image_path": "/IMG/NR-000/image_6bdb87_mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:5])=C(([*:6]))C(=[OH+])([*:7])",
        "step_weight": 0,
        "rationale": "Protonation of the carbonyl oxygen increases electrophilicity of the α,β-unsaturated carbonyl, making the β-carbon more susceptible to nucleophilic attack by the aniline nitrogen."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:7])(=O)C(([*:6]))C(([*:5]))Nc1cc(([*:3]))c(([*:1]))c(([*:2]))c1([*:4])",
        "step_weight": 0,
        "rationale": "The nucleophilic aniline nitrogen attacks the β-carbon via conjugate addition, favored by resonance stabilization of the resulting enolate intermediate."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:7])(=[OH+])C(([*:6]))C(([*:5]))Nc1cc(([*:3]))c(([*:1]))c(([*:2]))c1([*:4])",
        "step_weight": 0,
        "rationale": "Proton transfer regenerates a positively charged carbonyl, enhancing its electrophilicity for subsequent intramolecular cyclization."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C1([*:5])C(([*:6]))C([OH])(([*:7]))C2=C(N1)c(([*:4]))c(([*:2]))c(([*:1]))c2([*:3])",
        "step_weight": 0,
        "rationale": "Intramolecular electrophilic substitution occurs as the aniline ring attacks the activated carbonyl carbon, favored by proximity and formation of a stable heterocyclic framework."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:5])C(([*:6]))C([OH2+])(([*:7]))C2=C(N1)c(([*:4]))c(([*:2]))c(([*:1]))c2([*:3])",
        "step_weight": 0,
        "rationale": "Protonation of the hydroxyl group converts it into a better leaving group, facilitating dehydration in the next step."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1([*:5])C(([*:6]))=C(([*:7]))C2=C(N1)c(([*:4]))c(([*:2]))c(([*:1]))c2([*:3])",
        "step_weight": 0,
        "rationale": "Elimination of water forms a C=C bond, driven by the formation of a conjugated dihydroquinoline system."
      },
      {
        "step": 7,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "c1([*:5])nc2c(([*:4]))c(([*:2]))c(([*:1]))c(([*:3]))c2c(([*:7]))c1([*:6])",
        "step_weight": 0,
        "rationale": "Oxidation under aerobic conditions aromatizes the dihydroquinoline to quinoline, favored by the thermodynamic stability of the aromatic system."
      }
    ],
    "description": "Under acidic and oxidative conditions, the aniline nitrogen attacks the activated α,β-unsaturated carbonyl, followed by cyclization to form a dihydroquinoline. Subsequent dehydration and oxidation yield the aromatic quinoline product, driven by conjugation and aromatic stabilization."
  },
  {
    "reaction_id": "NR-065",
    "name": "Ene Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(H)([*:1])([*:2])C([*:3])=C([*:4])([*:5])",
      "C([*:6])([*:7])=C([*:8])([*:9])"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=C([*:3])C([*:4])([*:5])C([*:6])([*:7])C(H)([*:8])([*:9])"
    ],
    "conditions": "heat",
    "reaction_image_path": "/IMG/NR-000/reaction_scheme_from_image",
    "mechnism_text_description": "The Ene reaction is a pericyclic process involving an alkene with an allylic hydrogen (the 'ene') and a compound with a multiple bond (the 'enophile'). The reaction proceeds via a single, concerted, six-membered transition state. An allylic hydrogen from the ene is transferred to one of the sp2 carbons of the enophile. Simultaneously, a new carbon-carbon sigma bond forms between the allylic carbon of the ene and the other sp2 carbon of the enophile, while the pi-bond of the ene migrates.",
    "mechanism_step_nums": 1,
    "mechanism_image_path": "/IMG/NR-000/mechanism_detail_from_image",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "ene_reaction",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C([*:4])([*:5])C([*:6])([*:7])C(H)([*:8])([*:9])",
        "rationale": "Heat promotes HOMO–LUMO overlap between the ene and enophile, enabling a concerted six-membered transition state where allylic hydrogen transfer and C–C bond formation occur, stabilized by conjugation and avoiding high-energy ionic intermediates."
      }
    ],
    "description": "Under thermal conditions, the ene reaction proceeds via a concerted pericyclic pathway where the allylic hydrogen transfer, C–C bond formation, and alkene migration occur simultaneously through a six-membered cyclic transition state, driven by orbital symmetry and favorable overlap."
  },
  {
    "reaction_id": "NR-071",
    "name": "Evans-Mislow Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])C([*:4])([*:5])S(=O)([*:6])",
      "O([*:7])P(O([*:7]))O([*:7])"
    ],
    "products_smiles": [
      "OC([*:1])([*:2])C([*:3])=C([*:4])([*:5])"
    ],
    "conditions": "P(OR)3",
    "reaction_image_path": "/IMG/NR-000/reaction",
    "mechnism_text_description": "The reaction proceeds via a [2,3]-sigmatropic rearrangement of the allylic sulfoxide to form an allylic sulfenate ester intermediate. This intermediate is then trapped by a thiophilic reagent, trialkyl phosphite, which attacks the sulfur atom. This attack results in the cleavage of the S-O bond to form an alkoxide. Subsequent protonation of the alkoxide yields the final allylic alcohol product.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "/IMG/NR-000/mechanism",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "S([*:6])OC([*:1])([*:2])C([*:3])=C([*:4])([*:5])",
        "step_weight": 0,
        "rationale": "The [2,3]-sigmatropic rearrangement proceeds via a concerted pericyclic pathway, driven by favorable orbital overlap and stabilization of the developing charges through conjugation with the allylic system."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[O-]C([*:1])([*:2])C([*:3])=C([*:4])([*:5])",
        "step_weight": 0,
        "rationale": "Trialkyl phosphite, being a strong nucleophile toward soft electrophiles, attacks the sulfur atom, exploiting sulfur’s polarizability and leading to S–O bond cleavage to form a stabilized alkoxide."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OC([*:1])([*:2])C([*:3])=C([*:4])([*:5])",
        "step_weight": 0,
        "rationale": "The alkoxide is protonated under the reaction conditions to yield the neutral allylic alcohol, driven by the thermodynamic stability of the alcohol and the availability of proton sources."
      }
    ],
    "description": "The reaction involves a [2,3]-sigmatropic rearrangement of the allylic sulfoxide to generate a sulfenate ester, which is then attacked by trialkyl phosphite at sulfur due to its thiophilicity. This cleavage yields an alkoxide, which is protonated to form the allylic alcohol."
  },
  {
    "reaction_id": "NR-072",
    "name": "Favorskii Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "O=C1C(X)([*:3])CCCC([*:1])([*:2])C1",
      "[O-]([*:5])"
    ],
    "products_smiles": [
      "O([*:5])C(=O)C1([*:1])([*:2])CCCCC1([*:3])"
    ],
    "conditions": "[*:5]O",
    "reaction_image_path": "NR-000/reaction.png",
    "mechnism_text_description": "The Favorskii rearrangement begins with the abstraction of an alpha-proton by a hydroxide base to form an enolate. The enolate then undergoes an intramolecular nucleophilic substitution to displace the chloride, forming a bicyclo[4.1.0]heptan-7-one (a cyclopropanone) intermediate. Hydroxide then attacks the carbonyl carbon of this strained intermediate in a nucleophilic addition. The resulting tetrahedral intermediate collapses, leading to the cleavage of the carbon-carbon bond of the original ring. This ring contraction forms a cyclopentyl carbanion intermediate. This carbanion is rapidly protonated by a water molecule. Finally, a concluding protonation step converts the carboxylate salt into the final cyclopentanecarboxylic acid product.",
    "mechanism_step_nums": 5,
    "mechanism_image_path": "NR-000/mechanism.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[O-]C1=CC([*:1])([*:2])CCCC1([*:3])(X)",
        "step_weight": 0,
        "rationale": "Hydroxide abstracts the alpha-proton due to its acidity from resonance stabilization of the resulting enolate and inductive withdrawal by the adjacent carbonyl."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "O=C1C2([*:3])CCCCC([*:1])([*:2])C12",
        "step_weight": 0,
        "rationale": "The enolate oxygen donates electron density, enabling intramolecular nucleophilic attack on the electrophilic carbon bearing the leaving group, favored by proximity and good leaving group ability."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[O-]C1(O([*:5]))C2([*:3])CCCCC([*:1])([*:2])C12",
        "step_weight": 0,
        "rationale": "The strained cyclopropanone carbonyl is highly electrophilic, making it susceptible to nucleophilic attack by hydroxide under basic conditions."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:5]OC(=O)C1([*:1])([*:2])CCCC[C-]1([*:3])",
        "step_weight": 0,
        "rationale": "Collapse of the tetrahedral intermediate relieves cyclopropane strain, cleaving a C–C bond to form a stabilized carbanion adjacent to the carbonyl."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:5]OC(=O)C1([*:1])([*:2])CCCCC1([*:3])",
        "step_weight": 0,
        "rationale": "The carbanion is rapidly protonated by water due to its high basicity, yielding the neutral carboxylic acid product."
      }
    ],
    "description": "Under basic conditions, the Favorskii rearrangement proceeds via alpha-deprotonation to form an enolate, intramolecular cyclization to a strained cyclopropanone, nucleophilic attack by hydroxide, and ring contraction to yield a carboxylate, which is then protonated to the final acid."
  },
  {
    "reaction_id": "NR-073",
    "name": "Fritsch-Buttenberg-Wiechell Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C(=C(Br))([*:1])([*:2])"
    ],
    "products_smiles": [
      "C([*:1])#C([*:2])"
    ],
    "conditions": "Base (e.g., LDA)",
    "reaction_image_path": "image_881dd8.png",
    "mechnism_text_description": "The Fritsch-Buttenberg-Wiechell rearrangement begins with the deprotonation of the vinylic hydrogen by a strong base, forming a vinyl anion. This is followed by an α-elimination of the halide, which generates a vinyl carbene intermediate. The final step involves a 1,2-migration of one of the R groups, leading to the formation of the alkyne product.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "image_881dd8.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=[C-]Br)([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "LDA, a strong non-nucleophilic base, abstracts the acidic vinylic proton due to the adjacent electron-withdrawing bromine, stabilizing the resulting vinyl anion via inductive effects."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=[C])([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "The negatively charged carbon promotes α-elimination of bromide, a good leaving group, forming a high-energy vinyl carbene stabilized transiently by adjacent substituents."
      },
      {
        "step": 3,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C([*:1])#C([*:2])",
        "step_weight": 0,
        "rationale": "The carbene undergoes a 1,2-shift of [*:1] or [*:2] to relieve electron deficiency, forming the more stable, conjugated alkyne via rehybridization to sp."
      }
    ],
    "description": "A strong base deprotonates the vinylic position to generate a vinyl anion, which undergoes α-elimination of bromide to form a reactive vinyl carbene. A 1,2-shift of an R group then produces the thermodynamically stable alkyne product."
  },
  {
    "reaction_id": "NR-074",
    "name": "Fries Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "c1(OC(=O)[*:4])c([*:1])c([*:2])cc([*:3])c1"
    ],
    "products_smiles": [
      "C(=O)([*:4])c1c(O)c([*:1])c([*:2])cc1[*:3]"
    ],
    "conditions": "AlCl3",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "c1(OC(=[O+][Al-](Cl)(Cl)Cl)[*:4])c([*:1])c([*:2])cc([*:3])c1",
        "rationale": "AlCl3, a strong Lewis acid, coordinates to the ester carbonyl oxygen, withdrawing electron density and enhancing the carbonyl carbon's electrophilicity for subsequent bond cleavage."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "[O+]#C[*:4].c1(O[Al-](Cl)(Cl)Cl)c([*:1])c([*:2])cc([*:3])c1",
        "rationale": "Heterolytic cleavage occurs as the polarized C–O bond breaks, favored by the stability of the acylium ion through resonance and the strong Al–O bond formation."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(=O)([*:4])C1=C(O[Al-](Cl)(Cl)Cl)C([*:1])=C([*:2])C=C1([*:3])",
        "rationale": "The acylium ion acts as a potent electrophile, undergoing electrophilic aromatic substitution at an activated ring position, driven by aromatic π-electron donation to stabilize the σ-complex."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:4])c1c(O[Al](Cl)Cl)c([*:1])c([*:2])cc1[*:3]",
        "rationale": "Proton transfer from the σ-complex oxygen to the Al-bound oxygen restores aromaticity, facilitated by the Lewis acidic Al center stabilizing the alkoxide."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:4])c1c(O)c([*:1])c([*:2])cc1[*:3]",
        "rationale": "Final proton transfer liberates the free phenolic OH, driven by the thermodynamic stability of the neutral product and release of AlCl3 for catalyst turnover."
      }
    ],
    "description": "In the Fries rearrangement, AlCl3 coordinates to the ester carbonyl, increasing electrophilicity and promoting cleavage to generate an acylium ion. This electrophile undergoes intramolecular electrophilic aromatic substitution, followed by sequential proton transfers to restore aromaticity and yield the hydroxyaryl ketone."
  },
  {
    "reaction_id": "NR-075",
    "name": "Fujimoto-Belleau Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]C[Mg]Br",
      "C1CC(=O)OC2=C([*:2])CCCC12"
    ],
    "products_smiles": [
      "C12CCCCC1=CC(=O)CC2"
    ],
    "conditions": "1. Ether solvent 2. H3O+ workup",
    "reaction_image_path": "NR-000/reaction.png",
    "mechnism_text_description": "The reaction sequence begins with the Fujimoto-Belleau reaction, a 1,4-conjugate nucleophilic addition of a Grignard reagent to an enol lactone. The resulting magnesium enolate is protonated during acidic workup and tautomerizes to a stable saturated lactone. This lactone then serves as a precursor for an intramolecular aldol condensation (a Robinson annulation). Under basic or thermal conditions, the lactone is believed to open to an intermediate keto-acid, which then cyclizes to form a β-hydroxy ketone. The final step is a dehydration of this aldol adduct to yield the thermodynamically stable α,β-unsaturated ketone.",
    "mechanism_step_nums": 6,
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1CC(C[*:1])([O-])OC2=C([*:2])CCCC12",
        "rationale": "The nucleophilic carbon of the Grignard reagent attacks the β-position of the α,β-unsaturated lactone due to conjugation, forming a stabilized magnesium enolate."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[O-]C1=C([*:2])CCCC1CCCC(=O)(C[*:1])",
        "rationale": "Elimination of the alkoxide occurs as the lactone ring opens, driven by relief of ring strain and formation of a stabilized conjugated carbonyl system."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C1C([*:2])CCCC1CCC([O-])=C([*:1])",
        "rationale": "Protonation of the enolate oxygen under acidic workup yields a neutral carbonyl, favored by the high electrophilicity of the proton and stability of the resulting ketone."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1CC(=O)C([*:1])C2([O-])C([*:2])CCCC12",
        "rationale": "The enolate generated from the keto-acid intermediate attacks an intramolecular carbonyl, favored by proximity and formation of a stable five- or six-membered ring."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1CC([O-])=C([*:1])C2(O)C([*:2])CCCC12",
        "rationale": "Proton transfer converts the alkoxide to a β-hydroxy ketone, stabilizing the intermediate and preparing it for dehydration."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1CC(=O)C([*:1])=C2C([*:2])CCCC12",
        "rationale": "Elimination of water forms the α,β-unsaturated ketone, driven by conjugation between the alkene and carbonyl, giving the thermodynamically more stable product."
      }
    ],
    "description": "A Grignard reagent performs a 1,4-conjugate addition to the enol lactone, forming a magnesium enolate. Acidic workup and tautomerization yield a lactone, which undergoes base/thermal-induced ring opening and intramolecular aldol condensation. Final dehydration produces the thermodynamically favored α,β-unsaturated ketone."
  },
  {
    "reaction_id": "NR-076",
    "name": "Ganem Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C(Br)([*:1])([*:2])",
      "[O-][N+](CC)(CC)CC"
    ],
    "products_smiles": [
      "C(=O)([*:1])([*:2])"
    ],
    "conditions": "",
    "reaction_image_path": "/IMG/NR-000/reaction",
    "mechnism_text_description": "The Ganem oxidation is the oxidation of benzylic or allylic halides to aldehydes or ketones. The mechanism begins with the nucleophilic oxygen of the trialkylamine N-oxide attacking the electrophilic carbon of the halide in an SN2 reaction, displacing the halide and forming an alkoxyammonium salt intermediate. In the second step, a base (like triethylamine, which can be a byproduct) abstracts an alpha-proton, leading to an E2 elimination. This forms a carbon-oxygen double bond and expels triethylamine as a leaving group, resulting in the final carbonyl compound.",
    "mechanism_step_nums": 2,
    "mechanism_image_path": "/IMG/NR-000/mechanism",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(O[N+](CC)(CC)CC)([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "The oxygen of the N-oxide is strongly nucleophilic due to its negative polarization, enabling backside SN2 attack on the electrophilic halide carbon, which is further activated by resonance or inductive effects from [*:1]/[*:2], displacing the halide."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "A base abstracts the acidic α-proton adjacent to the positively charged oxygen, facilitating E2 elimination; the driving force is formation of the stable C=O bond and expulsion of neutral trialkylamine as a good leaving group."
      }
    ],
    "description": "The Ganem oxidation converts benzylic or allylic halides into carbonyl compounds via nucleophilic substitution by an N-oxide, followed by base-induced elimination. The reaction leverages the electrophilicity of the halide carbon and the good leaving group ability of the trialkylamine, under mild, non-metal conditions."
  },
  {
    "reaction_id": "NR-100",
    "name": "Haloform Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)(C)[*:1]",
      "BrBr",
      "[OH-]"
    ],
    "products_smiles": [
      "C(=O)(O)[*:1]",
      "C(Br)(Br)Br"
    ],
    "conditions": "Br2, NaOH",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([O-])(=C)[*:1]",
        "rationale": "Strong base deprotonates the acidic α-hydrogen due to resonance stabilization of the resulting enolate by the adjacent carbonyl."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(=O)(CBr)[*:1]",
        "rationale": "The electron-rich enolate α-carbon attacks electrophilic Br2, favored by the polarization of the Br–Br bond."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([O-])(=CBr)[*:1]",
        "rationale": "Base again deprotonates the remaining α-hydrogen, which is more acidic due to the inductive effect of the bromine substituent."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(=O)(C(Br)Br)[*:1]",
        "rationale": "The enolate formed attacks Br2, with electron withdrawal by the first bromine accelerating further halogenation."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([O-])(=C(Br)Br)[*:1]",
        "rationale": "Further deprotonation occurs as the α-hydrogen acidity increases with two bromines inductively withdrawing electron density."
      },
      {
        "step": 6,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(=O)(C(Br)(Br)Br)[*:1]",
        "rationale": "The highly activated enolate rapidly undergoes electrophilic bromination to give the tribromomethyl ketone."
      },
      {
        "step": 7,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([O-])(O)(C(Br)(Br)Br)[*:1]",
        "rationale": "Hydroxide attacks the carbonyl carbon, favored by the strong electrophilicity from the adjacent tribromomethyl group."
      },
      {
        "step": 8,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)(O)[*:1].[C-](Br)(Br)Br",
        "rationale": "The tetrahedral intermediate collapses, expelling the tribromomethyl anion, a good leaving group stabilized by three bromines."
      },
      {
        "step": 9,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(Br)(Br)Br.C(=O)([O-])[*:1]",
        "rationale": "The tribromomethyl anion abstracts a proton from water or solvent due to its strong basicity, forming bromoform."
      },
      {
        "step": 10,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)(O)[*:1]",
        "rationale": "The carboxylate intermediate is protonated under workup conditions to yield the carboxylic acid product."
      }
    ],
    "description": "In basic conditions, the methyl ketone undergoes sequential α-bromination via enolate intermediates, driven by the electron-withdrawing carbonyl and strong electrophilicity of Br2. Complete halogenation facilitates nucleophilic attack by hydroxide, leading to cleavage and formation of carboxylate and bromoform as stable products."
  },
  {
    "reaction_id": "NR-101",
    "name": "Hanessian-Hullar Reaction",
    "level": "medium",
    "reactants_smiles": [
      "O1C(c2ccccc2)OCCC1([*:1])([*:2])",
      "BrBr"
    ],
    "products_smiles": [
      "C(Br)CC([*:1])([*:2])OC(=O)c1ccccc1"
    ],
    "conditions": "NBS",
    "mechanism": [
      {
        "step": 1,
        "type": "radical",
        "subtype": "radical_substitution",
        "intermediate_smiles": "O1C(Br)(c2ccccc2)OC([*:1])([*:2])CC1",
        "rationale": "NBS promotes selective benzylic radical formation due to resonance stabilization by the aromatic ring, enabling bromine atom transfer to the benzylic position."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[O+]1=C(c2ccccc2)OC([*:1])([*:2])CC1",
        "rationale": "The benzylic bromide undergoes elimination as the adjacent oxygen stabilizes the resulting oxocarbenium ion through resonance, facilitating ring opening."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(Br)CC([*:1])([*:2])OC(=O)c1ccccc1",
        "rationale": "Bromide ion, a good nucleophile under these conditions, attacks the electrophilic carbonyl carbon, driven by the high electrophilicity of the oxocarbenium-derived ester intermediate."
      }
    ],
    "description": "Under NBS conditions, benzylic bromination occurs via a radical pathway, followed by elimination to open the oxocarbenium intermediate. Nucleophilic attack by bromide then forms the bromoester product, driven by benzylic stabilization and good leaving group ability."
  },
  {
    "reaction_id": "NR-102",
    "name": "Hantzsch Thiazole Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])(=S)N",
      "C([*:3])(=O)C([*:2])Cl"
    ],
    "products_smiles": [
      "[*:1]c1nc([*:3])c([*:2])s1"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])(=[NH2+])SC([*:2])C([*:3])(=O)",
        "rationale": "The thioamide nitrogen is nucleophilic due to resonance with the C=S group, attacking the electrophilic α-carbon of the haloketone, where the carbon is activated by the adjacent electron-withdrawing carbonyl."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=N)SC([*:2])C([*:3])(=[OH+])",
        "rationale": "Proton transfer neutralizes the nitrogen and protonates the carbonyl oxygen, increasing electrophilicity for subsequent nucleophilic attack and stabilizing the intermediate."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C1=[NH+]C([*:3])(O)C([*:2])S1",
        "rationale": "The deprotonated nitrogen attacks the protonated carbonyl carbon intramolecularly, favored by proximity and the electrophilicity enhanced by protonation, initiating ring closure."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C1=NC([*:3])([OH2+])C([*:2])S1",
        "rationale": "Proton transfer from the hydroxyl group to a leaving group site prepares the intermediate for elimination, stabilizing the developing positive charge on oxygen."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]c1nc([*:3])c([*:2])s1",
        "rationale": "Elimination of water occurs, driven by formation of the aromatic thiazole ring, which is thermodynamically favored due to aromatic stabilization."
      }
    ],
    "description": "The reaction proceeds via nucleophilic substitution of the thioamide nitrogen onto the α-haloketone, followed by proton transfers and cyclization to form the thiazole ring. Acid-base steps facilitate intermediate stability, and elimination yields the aromatic heterocycle."
  },
  {
    "reaction_id": "NR-103",
    "name": "Hass-Bender Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "BrCc1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
      "CC(C)[N+](=O)[O-]",
      "[Na+].[O-]CC"
    ],
    "products_smiles": [
      "O=Cc1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "CC(C)=[N+]([O-])[O-]",
        "rationale": "The α-proton of the nitroalkane is acidic due to resonance stabilization of the resulting nitronate anion by the electron-withdrawing nitro group, allowing base-induced deprotonation."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[N+]([O-])(=C(C)C)OCc1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "The nitronate anion acts as a strong nucleophile, attacking the benzylic carbon where the bromide is a good leaving group, aided by benzylic resonance stabilization of the transition state."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=Cc1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "Elimination of the nitro group occurs because the benzylic position can stabilize the developing carbonyl through conjugation with the aromatic ring, making aldehyde formation thermodynamically favorable."
      }
    ],
    "description": "In the Hass-Bender oxidation, the nitroalkane is deprotonated to form a nitronate anion, which then displaces the benzylic bromide via nucleophilic substitution. Subsequent elimination of the nitro group yields the aldehyde, driven by resonance stabilization of the aromatic carbonyl product."
  },
  {
    "reaction_id": "NR-104",
    "name": "Hell-Volhard-Zelinsky Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])C(=O)O",
      "P",
      "BrBr"
    ],
    "products_smiles": [
      "C([*:1])(Br)C(=O)Br"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C([*:1])C(=[O])[OH+]P(Br)Br",
        "rationale": "PBr3 activates the carboxylic acid by converting the OH into a better leaving group via formation of a phosphonium intermediate, driven by the strong P–O bond formation and good leaving ability of bromophosphates."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])C(=O)Br",
        "rationale": "Bromide ion displaces the activated leaving group in an SN2-like process, favored by the electrophilic carbonyl carbon and the excellent leaving group ability of the phosphonium ester."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])=C([OH])Br",
        "rationale": "Base-induced deprotonation at the α-position forms the enol, stabilized by resonance with the adjacent carbonyl, making the α-carbon nucleophilic for subsequent electrophilic attack."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C([*:1])(Br)C(=[OH+])Br",
        "rationale": "The electron-rich enol double bond attacks molecular bromine, with electrophilic bromination favored at the α-carbon due to resonance stabilization of the resulting carbocation intermediate."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(Br)C(=O)Br",
        "rationale": "Proton transfer restores the carbonyl from the enol, driven by the thermodynamic stability of the C=O bond over the C–OH form."
      }
    ],
    "description": "In the Hell–Volhard–Zelinsky reaction, the carboxylic acid is first converted to an acyl bromide via phosphorus tribromide, enabling α-bromination through enol formation and electrophilic bromination. Subsequent tautomerization regenerates the carbonyl, yielding the α-bromoacyl bromide product efficiently."
  },
  {
    "reaction_id": "NR-105",
    "name": "Hemetsberger-Knittel Indole Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "[N-]=[N+]=N/C(=C/c1c([*:4])c([*:3])c([*:2])c([*:1])c1)\\C(=O)O[*:5]"
    ],
    "products_smiles": [
      "c1c(C(=O)O[*:5])[nH]c2c1c([*:4])c([*:3])c([*:2])c2[*:1]"
    ],
    "conditions": "Heat",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[N]/C(=C/c1c([*:4])c([*:3])c([*:2])c([*:1])c1)\\C(=O)O[*:5]",
        "rationale": "Thermal conditions promote loss of N₂ from the azide due to its excellent leaving group ability, generating an electron-deficient nitrene stabilized by conjugation with the alkene."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "[*:5]OC(=O)C1C=C2C(=[n]1)c(c(c(c2[*:4])[*:3])[*:2])[*:1]",
        "rationale": "The nitrene undergoes a 6π-electrocyclization driven by conjugation between the alkene and aromatic ring, forming the bicyclic indole skeleton under thermal control."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "c1c(C(=O)O[*:5])[nH]c2c1c([*:4])c([*:3])c([*:2])c2[*:1]",
        "rationale": "A sigmatropic hydrogen shift restores aromaticity in the heterocycle, as aromatization provides strong thermodynamic driving force for the rearrangement."
      }
    ],
    "description": "Upon heating, the azide undergoes nitrogen extrusion to form a reactive nitrene intermediate, which then cyclizes via electrocyclization to form the indole framework. A subsequent sigmatropic rearrangement aromatizes the ring, yielding the substituted indole product."
  },
  {
    "reaction_id": "NR-106",
    "name": "Henry Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])[N+](=O)[O-]",
      "C([*:3])([*:4])=O",
      "[OH-]"
    ],
    "products_smiles": [
      "C([*:3])([*:4])(O)C([*:1])([*:2])[N+](=O)[O-]"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=[N+]([O-])[O-]",
        "rationale": "The base abstracts the acidic α-proton next to the nitro group, as the resulting nitronate anion is resonance-stabilized by delocalization onto the electron-withdrawing nitro group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:3])([*:4])([O-])C([*:1])([*:2])[N+](=O)[O-]",
        "rationale": "The nucleophilic nitronate carbon attacks the electrophilic carbonyl carbon, favored by the strong polarization of the C=O bond and minimal steric hindrance at the carbonyl center."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])([*:4])(O)C([*:1])([*:2])[N+](=O)[O-]",
        "rationale": "The alkoxide intermediate is protonated by solvent or conjugate acid, driven by the strong thermodynamic preference for neutral alcohol formation."
      }
    ],
    "description": "Under basic conditions, the α-proton of the nitroalkane is deprotonated to form a resonance-stabilized nitronate anion, which then nucleophilically attacks the carbonyl carbon of the aldehyde/ketone. Subsequent protonation of the alkoxide yields the β-nitro alcohol product."
  },
  {
    "reaction_id": "NR-107",
    "name": "Hofmann Elimination",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])C([*:3])([*:4])[N+]([*:5])([*:6])[*:7]",
      "[OH-]"
    ],
    "products_smiles": [
      "C(=C([*:3])[*:4])([*:1])[*:2]"
    ],
    "conditions": "Heat",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C([*:3])[*:4])([*:1])[*:2]",
        "rationale": "Hydroxide abstracts the least hindered β-hydrogen anti-periplanar to the bulky ammonium group; the excellent leaving ability of the quaternary ammonium drives E2 elimination, yielding the less substituted alkene favored by steric effects."
      }
    ],
    "description": "Under strong base and heat, the quaternary ammonium group undergoes Hofmann elimination, favoring the less substituted alkene due to steric hindrance and anti-periplanar geometry requirements. Hydroxide abstracts a β-proton, facilitating elimination of the bulky ammonium leaving group."
  },
  {
    "reaction_id": "NR-108",
    "name": "Hofmann-Löffler-Freytag Reaction",
    "level": "medium",
    "reactants_smiles": [
      "ClN([*:3])CCCC([*:1])[*:2]"
    ],
    "products_smiles": [
      "N([*:3])CCCC([*:1])([*:2])(Cl)"
    ],
    "conditions": "Heat or hv",
    "mechanism": [
      {
        "step": 1,
        "type": "radical",
        "subtype": "radical_initiation",
        "intermediate_smiles": "[N]([*:3])CCCC([*:1])[*:2]",
        "rationale": "Heat or light promotes homolytic N–Cl bond cleavage, favored by the weak bond and the stability of the nitrogen-centered radical through lone pair and adjacent substituent effects."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "radical_rearrangement",
        "intermediate_smiles": "N([*:3])CCC[C]([*:1])[*:2]",
        "rationale": "The nitrogen radical abstracts a γ-hydrogen via a 1,5-hydrogen shift, favored by a six-membered transition state and minimal steric hindrance, generating a stabilized carbon radical."
      },
      {
        "step": 3,
        "type": "radical",
        "subtype": "radical_coupling",
        "intermediate_smiles": "N([*:3])CCCC([*:1])([*:2])(Cl)",
        "rationale": "The carbon radical couples with a chlorine atom due to the strong C–Cl bond formation and the high reactivity of the radical, completing the intramolecular halogenation."
      }
    ],
    "description": "Under photochemical or thermal conditions, the Hofmann–Löffler–Freytag reaction proceeds via nitrogen-centered radical formation, intramolecular hydrogen abstraction to form a carbon radical, and radical halogenation to yield the chlorinated amine product with high regioselectivity due to favorable 1,5-hydrogen transfer."
  },
  {
    "reaction_id": "NR-109",
    "name": "Hofmann Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])(=O)N",
      "[OH-]",
      "BrBr"
    ],
    "products_smiles": [
      "N([*:1])"
    ],
    "conditions": "NaOH, Br2",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=O)[NH-]",
        "rationale": "Strong base deprotonates the amide nitrogen, increasing its nucleophilicity and enabling subsequent electrophilic bromination."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C([*:1])(=O)NBr",
        "rationale": "The nucleophilic nitrogen attacks electrophilic bromine due to Br2 polarization in basic medium, forming an N-bromoamide."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=O)[N-]Br",
        "rationale": "Base deprotonates the N–H of the N-bromoamide, generating a negatively charged nitrogen that facilitates rearrangement."
      },
      {
        "step": 4,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "O=C=N[*:1]",
        "rationale": "The electron-rich nitrogen promotes a 1,2-shift of [*:1] from carbon to nitrogen, driven by formation of a stable isocyanate and expulsion of bromide."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "N(=C(O)[O-])[*:1]",
        "rationale": "Hydroxide adds to the electrophilic carbon of the isocyanate, as the C=O is strongly polarized and susceptible to nucleophilic attack."
      },
      {
        "step": 6,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "[NH-][*:1]",
        "rationale": "Collapse of the tetrahedral intermediate cleaves the C–N bond, releasing CO2 and forming an amide anion."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N([*:1])",
        "rationale": "The amide anion is protonated by water or solvent, yielding the primary amine product."
      }
    ],
    "description": "Under strongly basic, oxidative conditions (NaOH, Br2), the amide undergoes Hofmann rearrangement. Bromination at nitrogen, followed by base-induced rearrangement, generates an isocyanate intermediate, which hydrolyzes to a primary amine with loss of the carbonyl carbon as CO2."
  },
  {
    "reaction_id": "NR-110",
    "name": "Horner-Wadsworth-Emmons Reaction",
    "level": "medium",
    "reactants_smiles": [
      "P(=O)(O[*:1])(O[*:1])C([*:2])[*:3]",
      "O=C[*:4]"
    ],
    "products_smiles": [
      "C([*:4])=C([*:2])[*:3]"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "P(=O)(O[*:1])(O[*:1])[C-]([*:2])[*:3]",
        "rationale": "The base abstracts the acidic α-proton next to the phosphonate due to strong electron-withdrawing effects of the P=O group, stabilizing the resulting carbanion via resonance."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "P(=O)(O[*:1])(O[*:1])C([*:2])([*:3])C([O-])[*:4]",
        "rationale": "The nucleophilic carbanion attacks the electrophilic carbonyl carbon of the aldehyde, driven by the strong polarization of the C=O bond."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]OP1([O-])(O[*:1])C([*:2])([*:3])C([*:4])O1",
        "rationale": "Intramolecular attack of the alkoxide on phosphorus forms a four-membered oxaphosphetane, favored by proximity and the strong P–O bond formation."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:4])=C([*:2])[*:3]",
        "rationale": "The oxaphosphetane collapses, eliminating the phosphate group as a stable leaving group, driven by formation of the thermodynamically stable C=C bond."
      }
    ],
    "description": "Under basic conditions, the Horner–Wadsworth–Emmons reaction proceeds via deprotonation of the phosphonate to form a stabilized carbanion, nucleophilic attack on the aldehyde, cyclization to an oxaphosphetane intermediate, and elimination to yield the alkene product with high selectivity."
  },
  {
    "reaction_id": "NR-111",
    "name": "Hosomi-Sakurai Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(=C([*:4])[*:5])([*:3])C([*:1])([*:2])[Si](C)(C)C",
      "C(=O)([*:6])[*:7]",
      "Cl[Ti](Cl)(Cl)Cl"
    ],
    "products_smiles": [
      "C(=C([*:4])[*:5])([*:3])C([*:1])([*:2])C(O)([*:6])[*:7]"
    ],
    "conditions": "Lewis Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "C(=[O+][Ti](Cl)(Cl)Cl)([*:6])[*:7]",
        "rationale": "TiCl4, a strong Lewis acid, coordinates to the carbonyl oxygen, withdrawing electron density and increasing the electrophilicity of the carbonyl carbon for nucleophilic attack."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[Si](C)(C)(C)C([*:1])([*:2])[C+]([*:3])C([*:4])([*:5])C(O[Ti](Cl)(Cl)Cl)([*:6])[*:7]",
        "rationale": "The allylsilane attacks the activated carbonyl; β-silicon stabilization of the developing carbocation lowers the activation barrier under Lewis acidic conditions."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C([*:4])[*:5])([*:3])C([*:1])([*:2])C(O[Ti](Cl)(Cl)Cl)([*:6])[*:7]",
        "rationale": "Loss of the silyl group occurs as the β-silyl carbocation collapses, restoring the alkene and forming a C–O–Ti bond, driven by the stability of the alkene and Ti–O bond."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=C([*:4])[*:5])([*:3])C([*:1])([*:2])C(O)([*:6])[*:7]",
        "rationale": "Proton transfer from solvent or medium to the alkoxide–Ti complex releases the neutral alcohol, favored by the strong Ti–O bond cleavage upon protonation."
      }
    ],
    "description": "In the Hosomi–Sakurai reaction, a Lewis acid activates the carbonyl toward nucleophilic attack by an allylsilane. Titanium tetrachloride coordinates to the carbonyl oxygen, enhancing electrophilicity. The allylsilane attacks, forming a β-silyl carbocation stabilized by hyperconjugation. Elimination regenerates the alkene, and proton transfer yields the alcohol product."
  },
  {
    "reaction_id": "NR-112",
    "name": "Houben-Hoesch Reaction",
    "level": "medium",
    "reactants_smiles": [
      "c1c(O)c([*:1])c([*:2])c([*:3])c1[*:4]",
      "C([*:5])#N"
    ],
    "products_smiles": [
      "c1(C(=O)[*:5])c(O)c([*:1])c([*:2])c([*:3])c1[*:4]"
    ],
    "conditions": "i. ZnCl2, HCl ii. H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1(C(=N[Zn])[*:5])C(=[OH+])c([*:1])c([*:2])c([*:3])c1[*:4]",
        "rationale": "ZnCl2 coordinates to the nitrile nitrogen, increasing the electrophilicity of the carbon and enabling nucleophilic attack by the activated aromatic ring via resonance donation from the phenolic OH."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "c1(C(=[NH])[*:5])c(O)c([*:1])c([*:2])c([*:3])c1[*:4]",
        "rationale": "Proton elimination restores aromaticity, a thermodynamically favored process, stabilizing the intermediate through delocalization over the aromatic ring."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1(C(=[NH2+])[*:5])c(O)c([*:1])c([*:2])c([*:3])c1[*:4]",
        "rationale": "Acidic conditions protonate the imine nitrogen, making it more susceptible to nucleophilic attack by water in the subsequent hydrolysis step."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "c1(C(=O)[*:5])c(O)c([*:1])c([*:2])c([*:3])c1[*:4]",
        "rationale": "Water attacks the protonated imine carbon, and subsequent rearrangement leads to C=O formation, driven by the stability of the aryl ketone product under acidic hydrolysis conditions."
      }
    ],
    "description": "Under acidic ZnCl2 catalysis, the phenol activates towards electrophilic attack by a nitrilium ion derived from the nitrile. Subsequent proton transfers and hydrolysis yield the aryl ketone. ZnCl2 coordinates to oxygen/nitrogen, enhancing electrophilicity and stabilizing intermediates."
  },
  {
    "reaction_id": "NR-113",
    "level": "medium",
    "name": "Huisgen Cycloaddition",
    "reactants_smiles": [
      "C([*:1])#[N+][O-]",
      "[*:2]/C([*:3])=C(/[*:4])[*:5]"
    ],
    "products_smiles": [
      "C1([*:1])=NOC([*:4])([*:5])C1([*:2])([*:3])"
    ],
    "conditions": "Heat",
    "mechanism_step_nums": 1,
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "C1([*:1])=NOC([*:4])([*:5])C1([*:2])([*:3])",
        "step_weight": 0,
        "rationale": "Heat promotes concerted [3+2] cycloaddition as HOMO–LUMO gaps align; the nitrile oxide’s dipolar character and the alkene’s π-system enable synchronous bond formation, yielding a resonance-stabilized isoxazoline ring without intermediates."
      }
    ],
    "description": "Under thermal conditions, the 1,3-dipolar cycloaddition between the nitrile oxide and the alkene proceeds via a concerted Huisgen mechanism, forming a five-membered isoxazoline ring. The reaction is driven by favorable orbital overlap and the stability of the heterocycle formed."
  },
  {
    "reaction_id": "NR-114",
    "level": "medium",
    "name": "Hunsdiecker Reaction",
    "reactants_smiles": [
      "[Ag+].O=C([O-])([*:1])",
      "BrBr"
    ],
    "products_smiles": [
      "[Br]([*:1])"
    ],
    "conditions": "hν or Heat",
    "mechanism_step_nums": 4,
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "O=C(OBr)([*:1])",
        "step_weight": 0,
        "rationale": "Silver carboxylate acts as a nucleophile toward bromine, forming the acyl hypobromite due to the high electrophilicity of bromine and the good leaving ability of AgBr."
      },
      {
        "step": 2,
        "type": "radical",
        "subtype": "radical_initiation",
        "intermediate_smiles": "O=C([O])([*:1])",
        "step_weight": 0,
        "rationale": "Heat or light induces homolytic cleavage of the weak O–Br bond in the hypobromite, generating an acyloxy radical and bromine radical."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "radical_elimination",
        "intermediate_smiles": "[C]([*:1])",
        "step_weight": 0,
        "rationale": "The acyloxy radical rapidly decarboxylates, driven by CO₂ release and formation of a more stable alkyl radical."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "radical_substitution",
        "intermediate_smiles": "[Br]([*:1])",
        "step_weight": 0,
        "rationale": "The alkyl radical reacts with bromine radical to form the alkyl bromide, favored by the strong C–Br bond formation and radical recombination kinetics."
      }
    ],
    "description": "In the Hunsdiecker reaction, a silver carboxylate reacts with bromine under heat or light to form an alkyl bromide via radical decarboxylation. The process involves initial formation of an acyl hypobromite, homolytic cleavage to generate radicals, CO₂ loss, and radical recombination with bromine."
  },
  {
    "reaction_id": "NR-115",
    "level": "medium",
    "name": "Ireland-Claisen Rearrangement",
    "reactants_smiles": [
      "C(=C([*:3])C(O/C(=C(/[*:6])[*:7])/O[Si]([*:8])([*:9])([*:10]))([*:5])[*:4])([*:1])[*:2]"
    ],
    "products_smiles": [
      "C(=C([*:3])C(C(C(=O)O[Si]([*:8])([*:9])([*:10]))([*:7])[*:6])([*:5])[*:4])([*:1])[*:2]"
    ],
    "conditions": "Heat",
    "mechanism_step_nums": 1,
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C(=C([*:3])C(C(C(=O)O[Si]([*:8])([*:9])([*:10]))([*:7])[*:6])([*:5])[*:4])([*:1])[*:2]",
        "step_weight": 0,
        "rationale": "Thermal activation enables a concerted [3,3]-sigmatropic shift via a six-membered transition state, favored by the stability of the resulting carbonyl and relief of allylic strain in the silyl ketene acetal."
      }
    ],
    "description": "Upon heating, the silyl ketene acetal undergoes a [3,3]-sigmatropic Ireland–Claisen rearrangement, shifting the allyl group to form a new C–C bond adjacent to the carbonyl. The process is thermally allowed and driven by the formation of a more stable, conjugated carbonyl system."
  },
  {
    "reaction_id": "NR-116",
    "name": "Japp-Klingemann Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])C([*:2])C(=O)O[*:3]",
      "N#[N+][*:4]"
    ],
    "products_smiles": [
      "C(=O)(O[*:3])C(=N[NH][*:4])[*:2]"
    ],
    "conditions": "[OH-]",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[O-]C(=C(C(=O)O[*:3])[*:2])[*:1]",
        "rationale": "Strong base deprotonates the acidic α-proton between carbonyls due to resonance stabilization of the resulting enolate."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(C(=O)O[*:3])(C(=O)[*:1])(N=N[*:4])[*:2]",
        "rationale": "The nucleophilic enolate carbon attacks the electrophilic diazonium nitrogen, driven by the strong electrophilicity of the diazonium group."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C(C(=O)O[*:3])(C(O)([O-])([*:1]))(N=N[*:4])[*:2]",
        "rationale": "Electrophilic addition of hydroxide to the carbonyl occurs due to increased electrophilicity from adjacent electron-withdrawing groups."
      },
      {
        "step": 4,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "C(=O)(O[*:3])C(=N[N-][*:4])[*:2]",
        "rationale": "Heterolytic cleavage occurs as the leaving group departs, stabilized by resonance in the resulting imine-like intermediate."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)(O[*:3])C(=N[NH][*:4])[*:2]",
        "rationale": "Proton transfer under basic conditions neutralizes the anionic nitrogen, yielding the stable hydrazone product."
      }
    ],
    "description": "Under basic conditions, the α-proton of the β-keto acid is deprotonated to form an enolate, which nucleophilically attacks the diazonium species. Subsequent rearrangements and cleavages yield the hydrazone product, stabilized by conjugation with the carbonyl group."
  },
  {
    "reaction_id": "NR-117",
    "name": "Johnson-Claisen Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C(=C([*:3])[*:2])([*:1])C([*:4])([*:5])O",
      "C(C)(OC)(OC)OC"
    ],
    "products_smiles": [
      "C(C(=O)OC)C([*:4])([*:5])C([*:3])=C([*:1])[*:2]"
    ],
    "conditions": "Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C)(OC)(OC)[OH+]C",
        "rationale": "Acid protonates the orthoester oxygen, increasing the electrophilicity of the adjacent carbon via inductive withdrawal and making it more susceptible to C–O bond cleavage."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "[C+](C)(OC)(OC)",
        "rationale": "Heterolytic cleavage occurs because the protonated oxygen stabilizes the leaving group, generating a carbocation stabilized by adjacent alkoxy groups through resonance donation."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "[OH+](C([*:4])([*:5])C([*:3])=C([*:1])[*:2])C(C)(OC)OC",
        "rationale": "The allylic alcohol oxygen attacks the carbocation, favored by the strong electrophilicity of the cation and the nucleophilicity of the alcohol under acidic conditions."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O(C([*:4])([*:5])C([*:3])=C([*:1])[*:2])C(C)([OH+]C)OC",
        "rationale": "Proton transfer from the newly bound alcohol oxygen to an adjacent alkoxy group facilitates further activation and rearrangement by generating a better leaving group."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=C(OC)C)OC([*:4])([*:5])C([*:3])=C([*:1])[*:2]",
        "rationale": "Another proton transfer generates the enol ether intermediate, driven by the stability of the conjugated alkene–ether system and relief of positive charge."
      },
      {
        "step": 6,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C(C(=O)OC)C([*:4])([*:5])C([*:3])=C([*:1])[*:2]",
        "rationale": "The [3,3]-sigmatropic rearrangement proceeds thermally due to favorable orbital overlap, forming a more stable carbonyl-containing product via conjugation and bond reorganization."
      }
    ],
    "description": "Under acidic conditions, the Johnson–Claisen rearrangement proceeds via protonation and activation of the orthoester, generating an electrophilic species that reacts with the allylic alcohol. Subsequent proton transfers set up an enol ether intermediate, which undergoes a [3,3]-sigmatropic rearrangement to yield the γ,δ-unsaturated ester."
  },
  {
    "reaction_id": "NR-118",
    "name": "Johnson-Corey-Chaykovsky Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([H])([*:3])([*:4])[S+]([*:1])([*:2])",
      "C(=O)([*:5])([*:6])"
    ],
    "products_smiles": [
      "C1([*:3])([*:4])OC1([*:5])([*:6])"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-]([*:3])([*:4])[S+]([*:1])([*:2])",
        "rationale": "The base abstracts the acidic α-proton adjacent to the positively charged sulfur, as the resulting carbanion is stabilized by the adjacent sulfonium through inductive and resonance effects."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[O-]C([*:5])([*:6])C([*:3])([*:4])[S+]([*:1])([*:2])",
        "rationale": "The nucleophilic carbanion attacks the electrophilic carbonyl carbon, driven by the strong polarization of the C=O bond and stabilization of the resulting alkoxide by solvation under basic conditions."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C1([*:3])([*:4])OC1([*:5])([*:6])",
        "rationale": "The alkoxide oxygen intramolecularly attacks the adjacent carbon bearing the sulfonium, as the sulfonium is an excellent leaving group, facilitating ring closure to the strained but thermodynamically favorable epoxide."
      }
    ],
    "description": "Under basic conditions, the sulfonium ylide is generated by deprotonation, enabling nucleophilic attack on the carbonyl to form a betaine intermediate. Intramolecular cyclization via displacement of the sulfonium group yields the epoxide product with retention of substituent patterns."
  },
  {
    "reaction_id": "NR-119",
    "name": "Jones Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])O",
      "O=[Cr](=O)=O"
    ],
    "products_smiles": [
      "C([*:1])(=O)O"
    ],
    "conditions": "H2SO4, Acetone, H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "O=[Cr](=O)(O)O",
        "rationale": "In acidic medium, CrO3 is protonated to form chromic acid, increasing its electrophilicity and enabling subsequent ester formation with the alcohol."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C([*:1])[OH+][Cr]([O-])(=O)(O)O",
        "rationale": "The alcohol oxygen attacks the electrophilic chromium center, favored by Cr(VI)'s strong electron-withdrawing oxo ligands, forming a chromate ester."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])O[Cr]([O-])(=O)(O)O",
        "rationale": "Proton transfer from the oxonium oxygen to a basic site on the chromate stabilizes the ester and prepares for β-hydride elimination."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])C=O",
        "rationale": "Elimination occurs as the α-hydrogen is removed and electrons shift to form the carbonyl, driven by the good leaving ability of reduced chromium species."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C([*:1])C([O-])[OH2+]",
        "rationale": "The aldehyde undergoes nucleophilic addition of water under acidic conditions, favored by the carbonyl's electrophilicity and proton activation."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])C(O)O",
        "rationale": "Proton transfer converts the oxonium intermediate into a neutral geminal diol, stabilizing the hydrate form."
      },
      {
        "step": 7,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C([*:1])(O)[OH+][Cr]([O-])(=O)(O)O",
        "rationale": "One hydroxyl group of the hydrate attacks electrophilic Cr(VI), forming a second chromate ester, driven by strong Cr–O bond formation."
      },
      {
        "step": 8,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(O)O[Cr]([O-])(=O)(O)O",
        "rationale": "Proton transfer within the ester intermediate increases the leaving group ability of the chromium-containing moiety."
      },
      {
        "step": 9,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])(=O)O",
        "rationale": "Elimination of the chromium species forms the carboxylic acid, favored by the stability of the C=O bond and the reduced chromium byproduct."
      }
    ],
    "description": "In Jones oxidation, primary alcohols are oxidized to carboxylic acids via chromic acid in acidic aqueous acetone. The alcohol first forms a chromate ester, which undergoes elimination to an aldehyde, then hydrates and oxidizes again to the acid. Acidic conditions facilitate proton transfers and stabilize intermediates, while Cr(VI) acts as a strong electrophile and oxidant."
  },
  {
    "reaction_id": "NR-120",
    "name": "Julia-Kociensky Olefination",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])S(=O)(=O)c1sc2ccccc2n1",
      "C([*:3])=O"
    ],
    "products_smiles": [
      "C([*:3])=C([*:1])[*:2]"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-]([*:1])([*:2])S(=O)(=O)c1sc2ccccc2n1",
        "rationale": "The strong base deprotonates the α-position to the sulfone, as the negative charge is stabilized by resonance with the electron-withdrawing sulfone group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:3])([O-])C([*:1])([*:2])S(=O)(=O)c1sc2ccccc2n1",
        "rationale": "The nucleophilic carbanion attacks the electrophilic carbonyl carbon, favored by polarization of the C=O bond and minimal steric hindrance from [*:3]."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1=CC=C2C(=C1)[N-]C3(S2)[S](=O)(c(C(O3)([*:3]))([*:1])[*:2])=O",
        "rationale": "Intramolecular attack by the alkoxide on the heteroaryl ring occurs due to proximity and the electrophilicity of the activated heteroaryl sulfur, forming a cyclic intermediate."
      },
      {
        "step": 4,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "c1ccc2c(c1)n=c(s2)OC([*:3])C([*:1])([*:2])[S](=O)[O-]",
        "rationale": "Heterolytic cleavage of the S–C bond is driven by the stability of the leaving heteroaryl sulfinate anion and relief of ring strain."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:3])=C([*:1])[*:2]",
        "rationale": "Base-induced elimination occurs as the β-alkoxy group departs with the sulfinate, forming the thermodynamically favored alkene."
      }
    ],
    "description": "Under basic conditions, the sulfone-stabilized carbanion adds to the carbonyl, forming a β-alkoxysulfone intermediate. Subsequent intramolecular rearrangement and fragmentation release the heteroaryl sulfone, driving elimination to yield the alkene via the Julia–Kocienski olefination pathway."
  },
  {
    "reaction_id": "NR-121",
    "name": "Keck Asymmetric Allylation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])=C([*:2])C[Sn](CCCC)(CCCC)CCCC",
      "C([*:3])=O"
    ],
    "products_smiles": [
      "C([*:3])(O)C([*:1])C([*:2])=C"
    ],
    "conditions": "Ti(Oi-Pr)4, BINOL",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "O([Ti])=C([*:3])",
        "rationale": "Ti(IV) acts as a strong Lewis acid, coordinating to the aldehyde oxygen and increasing the electrophilicity of the carbonyl carbon through polarization."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:3])(O)C([*:1])[C+]([*:2])C[Sn](CCCC)(CCCC)CCCC",
        "rationale": "The allyl group attacks the activated carbonyl carbon due to increased electrophilicity, with the π-allyl stabilized by hyperconjugation and the tin substituent facilitating nucleophilicity."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "group_transfer",
        "intermediate_smiles": "C([*:3])(O[Sn](CCCC)(CCCC)CCCC)C([*:1])C([*:2])=C",
        "rationale": "A σ-bonded allyl group transfers from tin to oxygen via a pericyclic-like pathway, driven by the strong Sn–O bond formation and relief of tin’s coordination strain."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])(O)C([*:1])C([*:2])=C",
        "rationale": "Proton transfer regenerates the neutral alcohol, favored by the acidity of the medium and stability of the product’s O–H bond."
      }
    ],
    "description": "The Ti(Oi-Pr)4/BINOL complex coordinates to the aldehyde, activating it toward nucleophilic attack. The allyl group from the stannane transfers via a nucleophilic addition and group transfer sequence, with chiral induction from BINOL. Proton transfer completes the allylic alcohol formation."
  },
  {
    "reaction_id": "NR-122",
    "name": "Knoevenagel Condensation",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:3])[*:4]",
      "C([*:1])[*:2]"
    ],
    "products_smiles": [
      "C(=C([*:1])[*:2])([*:3])[*:4]"
    ],
    "conditions": "C1CCNCC1",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(=[N+]1CCCCC1)([*:3])[*:4]",
        "rationale": "Piperidine attacks the carbonyl carbon, forming an iminium ion; the nitrogen lone pair facilitates electrophilic activation by increasing carbonyl carbon's partial positive charge through resonance and inductive effects."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[CH-]([*:1])[*:2]",
        "rationale": "The basic nitrogen abstracts an acidic α-proton from [*:1]–[*:2] methylene, stabilized by resonance with adjacent electron-withdrawing groups, generating a nucleophilic carbanion."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(C(N1CCCCC1)([*:3])[*:4])([*:1])[*:2]",
        "rationale": "The resonance-stabilized carbanion attacks the iminium carbon, favored by strong electrophilicity from the positively charged nitrogen and minimal steric hindrance at the reaction site."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-](C(N1CCCCC1)([*:3])[*:4])([*:1])[*:2]",
        "rationale": "Proton transfer regenerates the neutral amine and positions the intermediate for elimination, driven by the stability of the conjugated alkene product."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C([*:1])[*:2])([*:3])[*:4]",
        "rationale": "Elimination of piperidine occurs as the leaving group is stabilized by its basicity and the formation of a conjugated C=C bond provides thermodynamic driving force."
      }
    ],
    "description": "In the piperidine-catalyzed Knoevenagel condensation, the amine activates the carbonyl via iminium formation, while also deprotonating the active methylene compound to generate a nucleophile. Nucleophilic addition to the activated carbonyl is followed by proton transfers and elimination to yield the conjugated alkene."
  },
  {
    "reaction_id": "NR-123",
    "level": "medium",
    "name": "Knorr Pyrrole Synthesis",
    "reactants_smiles": [
      "C(N)([*:2])C(=O)[*:1]",
      "C([*:3])(=O)CC(=O)O[*:4]"
    ],
    "products_smiles": [
      "c1(C(C(=O)O[*:4])=C([*:3])Nc1[*:2])[*:1]"
    ],
    "conditions": "Acid",
    "mechanism_step_nums": 7,
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(=O)([*:1])C([*:2])N=C([*:3])CC(=O)O[*:1]",
        "step_weight": 0,
        "rationale": "Acid activates the carbonyl of the 1,3-dicarbonyl, making it more electrophilic, enabling nucleophilic attack by the amino group of the α-amino ketone to form an imine intermediate."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C(O[*:4])=O)=C([*:3])NC([*:2])C(=O)[*:1]",
        "step_weight": 0,
        "rationale": "Proton transfer stabilizes the imine and enol forms, aligning the system for intramolecular cyclization by increasing nucleophilicity of the enol."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1(O)([*:1])C([*:2])[NH+]=C([*:3])C1(C(=O)O[*:4])",
        "step_weight": 0,
        "rationale": "The enol oxygen attacks the iminium carbon intramolecularly; acid catalysis increases electrophilicity, and the proximity effect favors five-membered ring formation."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1(O)([*:1])C([*:2])NC([*:3])=C1(C(=O)O[*:4])",
        "step_weight": 0,
        "rationale": "Proton transfer restores neutrality to the nitrogen, stabilizing the cyclic intermediate and preparing for further protonation steps."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([OH2+])([*:1])C([*:2])NC([*:3])=C1(C(=O)O[*:4])",
        "step_weight": 0,
        "rationale": "Protonation of the hydroxyl group converts it into a better leaving group (water), facilitated by the acidic medium."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "c1(c(C(=O)O[*:4])c([*:3])[nH+]C1[*:2])[*:1]",
        "step_weight": 0,
        "rationale": "Elimination of water occurs to form the conjugated iminium system; aromatic stabilization drives the dehydration step."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1(C(C(=O)O[*:4])=C([*:3])Nc1[*:2])[*:1]",
        "step_weight": 0,
        "rationale": "Final deprotonation restores aromaticity of the pyrrole ring, yielding the thermodynamically stable aromatic product."
      }
    ],
    "description": "Under acidic conditions, the Knorr pyrrole synthesis proceeds via condensation of an α-amino ketone with a 1,3-dicarbonyl compound, followed by cyclization and dehydration. Acid catalysis enhances electrophilicity, facilitates proton transfers, and promotes ring closure to yield the aromatic pyrrole."
  },
  {
    "reaction_id": "NR-124",
    "name": "Knorr Quinoline Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:5])C([*:6])C(=O)Nc1c([*:4])c([*:3])c([*:2])c([*:1])c1"
    ],
    "products_smiles": [
      "C1([*:1])=C([*:2])C([*:3])=C([*:4])C2=C1C([*:6])=C([*:5])C(N2)=O"
    ],
    "conditions": "Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:5])(O)C([*:6])C(=[OH+])Nc1c([*:4])c([*:3])c([*:2])c([*:1])c1",
        "rationale": "Acid protonates the carbonyl oxygen, increasing electrophilicity of the adjacent carbon and priming it for intramolecular nucleophilic attack."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:5])(=[OH+])C([*:6])C(=[OH+])Nc1c([*:4])c([*:3])c([*:2])c([*:1])c1",
        "rationale": "Further protonation of the second carbonyl enhances its electrophilicity, aligning both carbonyls for cyclization under strongly acidic conditions."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C1([*:1])=C2C(=C([*:4])C([*:3])=C1([*:2]))[NH+]=C(C([*:5])C2([*:6])O)O",
        "rationale": "Activated carbonyl undergoes intramolecular electrophilic substitution by the aromatic amine, favored by proximity and resonance stabilization of the developing cation."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:1])=C2C(=C([*:4])C([*:3])=C1([*:2]))[NH+]=C(C([*:5])C2([*:6])[OH2+])O",
        "rationale": "Proton transfer to the hydroxyl group converts it into a better leaving group (water), facilitating subsequent elimination."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1([*:1])=C2C(=C([*:4])C([*:3])=C1([*:2]))[NH+]=C(C([*:5])=C2([*:6]))O",
        "rationale": "Loss of water occurs due to the excellent leaving group ability of neutral water, driven by formation of a conjugated C=N system."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:1])=C2C(=C([*:4])C([*:3])=C1([*:2]))[N]=C(C([*:5])=C2([*:6]))O",
        "rationale": "Deprotonation of the iminium nitrogen restores neutrality and increases conjugation, stabilizing the heteroaromatic framework."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:1])=C2C(=C([*:4])C([*:3])=C1([*:2]))NC(C([*:5])=C2([*:6]))=O",
        "rationale": "Final proton transfer yields the neutral quinoline amide, completing aromatization and maximizing resonance stabilization."
      }
    ],
    "description": "Under acidic conditions, the Knorr quinoline synthesis proceeds via sequential protonations to activate carbonyls, intramolecular electrophilic attack forming the heterocyclic ring, and dehydration to yield the quinoline core. Acid catalysis enhances electrophilicity and facilitates leaving group departure, driving cyclization and aromatization."
  },
  {
    "reaction_id": "NR-125",
    "name": "Kochi Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(C[*:1])(=O)O",
      "CC(=O)O[Pb](OC(C)=O)(OC(C)=O)OC(C)=O",
      "[Li+].[Cl-]"
    ],
    "products_smiles": [
      "C([*:1])(Cl)"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C(C[*:1])(=O)O[Pb](OC(=O)C)(OC(=O)C)OC(=O)C",
        "rationale": "Lead(IV) acetate acts as a strong electrophile, coordinating to the carboxylate oxygen; this facilitates displacement of acetate ligands due to Pb’s high oxidation state and strong affinity for oxygen donors."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(C[*:1])(=O)O(Cl)",
        "rationale": "Chloride, a good nucleophile under these conditions, attacks the activated acyl intermediate, displacing the lead group due to its excellent leaving group ability and forming the more reactive acyl hypochlorite."
      },
      {
        "step": 3,
        "type": "cleavage",
        "subtype": "homolytic_cleavage",
        "intermediate_smiles": "[*:1][C]",
        "rationale": "The weak O–Cl bond in the acyl hypochlorite undergoes homolytic cleavage under thermal or light activation, favored by the stability of the resulting alkyl radical and CO₂ extrusion."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "radical_substitution",
        "intermediate_smiles": "C([*:1])(Cl)",
        "rationale": "The alkyl radical rapidly reacts with chlorine radical, driven by the high reactivity of radicals and the formation of a strong C–Cl bond, completing the radical substitution."
      }
    ],
    "description": "The Kochi reaction proceeds via lead(IV) acetate activation of the carboxylic acid, chloride substitution to form an acyl hypochlorite, homolytic cleavage to generate an alkyl radical, and radical chlorination to yield the alkyl chloride product."
  },
  {
    "reaction_id": "NR-126",
    "name": "Kornblum Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])Cl",
      "C[S+]([O-])C"
    ],
    "products_smiles": [
      "C([*:1])=O"
    ],
    "conditions": "CCN(CC)CC",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])O[S+](C)C",
        "rationale": "The sulfoxide oxygen is nucleophilic due to its lone pairs and polarization; it attacks the electrophilic carbon bearing the good leaving group Cl, favored by the polar aprotic amine solvent that stabilizes the transition state."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])O[S+](C)[CH2-]",
        "rationale": "The basic environment provided by the tertiary amine abstracts the acidic α-proton adjacent to the positively charged sulfur, driven by stabilization of the resulting carbanion through the adjacent sulfonium group."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])=O",
        "rationale": "The carbanion collapses, expelling the neutral dimethyl sulfide leaving group; this elimination is favored by the stability of the carbonyl product and the volatility of the leaving group."
      }
    ],
    "description": "In the Kornblum oxidation, dimethyl sulfoxide acts as a nucleophile toward an alkyl halide, forming an alkoxysulfonium intermediate. Under basic conditions, deprotonation facilitates elimination of a sulfenic species, yielding the carbonyl product via a mild, non-aqueous oxidation pathway."
  },
  {
    "reaction_id": "NR-127",
    "name": "Krapcho Decarboxylation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])([*:3])C(=O)OC"
    ],
    "products_smiles": [
      "C([*:1])([*:2])([*:3])"
    ],
    "conditions": "[Li+].[Cl-]",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])([*:2])([*:3])C(=O)[O-]",
        "rationale": "Chloride, a good nucleophile in polar aprotic media, attacks the methyl ester, displacing methoxide due to its good leaving group ability and forming a stabilized carboxylate."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "[C-]([*:1])([*:2])([*:3])",
        "rationale": "The carboxylate undergoes heterolytic C–C bond cleavage, driven by CO2 release, as the resulting carbanion is stabilized by adjacent substituents and entropy gain."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])([*:3])",
        "rationale": "The carbanion abstracts a proton from the medium, as protonation yields the neutral alkane, which is thermodynamically more stable than the charged species."
      }
    ],
    "description": "Under LiCl conditions, chloride acts as a nucleophile to displace the methyl ester group, generating a carboxylate. The carboxylate undergoes decarboxylation due to the instability of the intermediate, yielding the alkane after protonation."
  },
  {
    "reaction_id": "NR-128",
    "name": "Kucherov Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]C#C"
    ],
    "products_smiles": [
      "[*:1]C(=O)C"
    ],
    "conditions": "O, [H+]",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "[*:1][C+]=C",
        "rationale": "Protonation of the alkyne generates a more electrophilic vinyl cation, stabilized by adjacent substituents and resonance, facilitating subsequent nucleophilic attack."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C(=C)[OH2+]",
        "rationale": "Water, abundant under acidic conditions, attacks the electrophilic carbocation center, forming a protonated enol intermediate due to oxygen’s nucleophilicity."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C(O)=C",
        "rationale": "Deprotonation of the oxonium species restores neutrality, yielding the enol form, which is less stable than the keto tautomer."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C(=[OH+])C",
        "rationale": "Protonation at the enol oxygen increases the electrophilicity of the adjacent carbon, priming the system for tautomerization to the keto form."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C(=O)C",
        "rationale": "Deprotonation of the protonated carbonyl yields the thermodynamically favored ketone, driven by strong C=O bond formation and resonance stabilization."
      }
    ],
    "description": "In the acid-catalyzed Kucherov reaction, an alkyne undergoes electrophilic hydration to yield a ketone via enol intermediates. Protonation activates the triple bond toward nucleophilic attack by water, followed by tautomerization driven by the thermodynamic stability of the carbonyl group."
  },
  {
    "reaction_id": "NR-129",
    "name": "Kumada-Corriu Coupling",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]Br",
      "[*:2][Mg]Br"
    ],
    "products_smiles": [
      "[*:1][*:2]"
    ],
    "conditions": "[Pd]",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "[Pd]([*:1])Br",
        "rationale": "Pd(0) undergoes oxidative addition into the C–Br bond due to the bond’s polarization and good leaving group ability of Br⁻, forming a Pd(II) complex stabilized by coordination to [*:1]."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[Pd]([*:1])[*:2]",
        "rationale": "The nucleophilic [*:2]–MgBr transfers [*:2] to Pd via transmetalation, driven by the strong Mg–Br affinity and the increased electrophilicity of Pd(II) from electron-withdrawing Br."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "reductive_elimination",
        "intermediate_smiles": "[*:1][*:2]",
        "rationale": "Reductive elimination from Pd(II) is favored as it forms a stable C–C bond between [*:1] and [*:2], regenerating Pd(0) and completing the catalytic cycle."
      }
    ],
    "description": "In the Kumada-Corriu coupling, a Pd catalyst mediates the cross-coupling of an organohalide with a Grignard reagent. Oxidative addition activates the aryl halide, transmetalation introduces the nucleophilic partner, and reductive elimination forms the C–C bond, regenerating the catalyst."
  },
  {
    "reaction_id": "NR-130",
    "name": "Leimgruber-Batcho Indole Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "O=[N+]([O-])c1ccccc1C([*:2])=C([*:3])N([*:1])[*:1]"
    ],
    "products_smiles": [
      "c1ccc2c(c1)c([*:2])c([*:3])[nH]2"
    ],
    "conditions": "[H]",
    "mechanism": [
      {
        "step": 1,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "Nc1ccccc1C([*:2])=C([*:3])N([*:1])[*:1]",
        "rationale": "Single-electron transfer reduces the nitro group to an aniline, favored by the electron-rich aromatic ring and reductive conditions, stabilizing intermediates via resonance."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "Nc1ccccc1C([*:2])C([*:3])=[N+]([*:1])[*:1]",
        "rationale": "The aniline nitrogen attacks the electrophilic iminium carbon intramolecularly; proximity and conjugation with the aromatic ring lower the activation barrier for cyclization."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "c1ccc2c(c1)C([*:2])C([*:3])=[NH+]2",
        "rationale": "The aniline nitrogen attacks the electrophilic iminium carbon intramolecularly; proximity and conjugation with the aromatic ring lower the activation barrier for cyclization."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "c1ccc2c(c1)c([*:2])c([*:3])[nH]2",
        "rationale": "Elimination of the leaving group restores aromaticity in the newly formed five-membered ring, providing strong thermodynamic driving force for indole formation."
      }
    ],
    "description": "Under reductive conditions, the nitro group is reduced to an aniline, which undergoes intramolecular cyclization via nucleophilic attack on an iminium intermediate, followed by elimination to yield the indole core. Electronic activation and proximity drive the ring closure."
  },
  {
    "reaction_id": "NR-131",
    "level": "medium",
    "name": "Lemieux-Johnson Oxidation",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])([*:4])"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=O",
      "C([*:3])([*:4])=O"
    ],
    "conditions": "O=[Os](=O)(=O)=O, [Na+].[O-][I+3](=O)=O",
    "mechanism_step_nums": 4,
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "C1([*:1])([*:2])O[Os](=O)(=O)OC1([*:3])[*:4]",
        "step_weight": 0,
        "rationale": "The electron-rich alkene π-bond reacts with electrophilic OsO4 in a concerted [3+2] cycloaddition, favored by strong osmium–oxygen electrophilicity and minimal steric hindrance, forming a stable cyclic osmate ester."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "cycloreversion",
        "intermediate_smiles": "C(O)([*:1])([*:2])C(O)([*:3])[*:4]",
        "step_weight": 0,
        "rationale": "Hydrolysis of the osmate ester occurs because osmium–oxygen bonds are labile in aqueous conditions, producing a vicinal diol stabilized by hydrogen bonding and relief of ring strain."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C1([*:1])([*:2])O[I](=O)(=O)(O)OC1([*:3])[*:4]",
        "step_weight": 0,
        "rationale": "Periodate acts as an electrophile toward the diol, forming a cyclic periodate ester driven by favorable overlap of oxygen lone pairs with iodine’s empty orbitals and the release of water."
      },
      {
        "step": 4,
        "type": "pericyclic",
        "subtype": "cycloreversion",
        "intermediate_smiles": "C([*:1])([*:2])=O.C([*:3])([*:4])=O",
        "step_weight": 0,
        "rationale": "The cyclic periodate ester undergoes C–C bond cleavage via cycloreversion, favored by the formation of two stable carbonyl groups and relief of ring strain in the intermediate."
      }
    ],
    "description": "The alkene undergoes osmium tetroxide-mediated syn-dihydroxylation via a [3+2] cycloaddition, followed by oxidative cleavage with periodate. The cyclic osmate ester and periodate ester intermediates facilitate C–C bond cleavage, yielding two carbonyl compounds under mild oxidative conditions."
  },
  {
    "reaction_id": "NR-132",
    "name": "Ley-Griffith Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])O",
      "[O-][Ru](=O)(=O)=O",
      "C[N+]1(CCOCC1)[O-]"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=O",
      "CN1CCOCC1",
      "O"
    ],
    "conditions": "[N+](CCCC)(CCCC)(CCCC)CCCC.[O-][Ru](=O)(=O)=O",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C([*:1])([*:2])O[Ru](=O)(=O)(O)[O-]",
        "rationale": "The alcohol oxygen donates a lone pair to the highly electrophilic Ru(VIII) center, stabilized by multiple oxo ligands, enabling formation of a Ru–alkoxide intermediate."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=[Ru](O)(O)[O-],C([*:1])([*:2])(=O)",
        "rationale": "Beta-hydride elimination occurs from the Ru–alkoxide, driven by formation of a stable C=O bond and the good leaving ability of the reduced Ru–oxo species."
      },
      {
        "step": 3,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "[O-][Ru](=O)(=O)=O",
        "rationale": "The reduced Ru species undergoes oxidation by the co-oxidant, restoring the high-valent Ru(VIII) state necessary for catalytic turnover."
      }
    ],
    "description": "In the Ley–Griffith oxidation, the alcohol coordinates to the electrophilic Ru(VIII) center, facilitating hydride abstraction. This generates the carbonyl product and a reduced Ru species, which is reoxidized under the reaction conditions to regenerate the active catalyst."
  },
  {
    "reaction_id": "NR-133",
    "name": "Lobry-de Bruyn-van Ekenstein Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C(O)([*:2])C(=O)([*:1])"
    ],
    "products_smiles": [
      "C(=O)([*:2])C(O)([*:1])"
    ],
    "conditions": "Base or Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(O)([*:2])=C([O-])([*:1])",
        "rationale": "Base abstracts the α-hydroxy proton, generating an enolate stabilized by resonance with the adjacent carbonyl, facilitating rearrangement."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(O)([*:2])=C(O)([*:1])",
        "rationale": "Protonation of the enolate oxygen yields the neutral enediol, stabilized by conjugation between hydroxyl and alkene."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([O-])([*:2])=C(O)([*:1])",
        "rationale": "Deprotonation at the other hydroxyl group forms an enolate at the alternate carbon, enabling tautomerization toward the product carbonyl position."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:2])C(O)([*:1])",
        "rationale": "Protonation of the enolate oxygen regenerates the carbonyl, producing the thermodynamically favored α-hydroxy carbonyl product."
      }
    ],
    "description": "Under basic or acidic conditions, the Lobry-de Bruyn-van Ekenstein rearrangement interconverts an α-hydroxy ketone and an α-hydroxy aldehyde via enediol intermediates. Sequential proton transfers enable tautomerization, driven by stabilization of the enolate/enediol forms and the thermodynamic preference for the carbonyl arrangement in the product."
  },
  {
    "reaction_id": "NR-134",
    "name": "Lombardo Methylenation",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])([*:2])",
      "C(Br)Br",
      "[Zn]",
      "Cl[Ti](Cl)(Cl)Cl"
    ],
    "products_smiles": [
      "C(=C)([*:1])([*:2])"
    ],
    "conditions": "CH2Br2, Zn, TiCl4",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "BrC[Zn]Br",
        "rationale": "Zn inserts into the C–Br bond of CH2Br2 via oxidative addition due to the polarizable C–Br bond and Zn’s reducing ability, forming an organozinc intermediate."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "Br[Zn]C[Zn]Br",
        "rationale": "A second oxidative addition to CH2Br2 occurs because Zn can further activate the methylene carbon, producing a geminal bis(zinc) species with enhanced nucleophilicity."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "Br[Zn]C[Ti](Cl)(Cl)Cl",
        "rationale": "The organozinc transfers the methylene fragment to TiCl4 via electrophilic substitution, favored by Ti’s strong Lewis acidity and the good leaving ability of Zn–Br."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(O[Ti](Cl)(Cl)Cl)([*:1])([*:2])C[Zn]Br",
        "rationale": "The titanium–carbene species adds nucleophilically to the carbonyl carbon, driven by the electrophilicity of the carbonyl and stabilization of the alkoxide by Ti coordination."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C)([*:1])([*:2])",
        "rationale": "Elimination occurs as the alkoxide–Ti complex collapses, expelling Ti–O and forming the C=C bond, driven by the thermodynamic stability of the alkene."
      }
    ],
    "description": "In the Lombardo methylenation, Zn activates CH2Br2 to form a zinc carbenoid, which is then transferred to TiCl4 to generate a titanium–carbene species. This electrophilic carbene adds to the carbonyl, and elimination yields the alkene."
  },
  {
    "reaction_id": "NR-135",
    "name": "Luche Reduction",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])C(=O)([*:4])",
      "[Na+].[BH4-]",
      "Cl[Ce](Cl)Cl",
      "CO"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=C([*:3])C(O)([*:4])"
    ],
    "conditions": "NaBH4, CeCl3, MeOH",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C(=[O+][Ce-](Cl)(Cl)Cl)([*:4])",
        "rationale": "CeCl3, a strong Lewis acid, coordinates to the carbonyl oxygen, withdrawing electron density and increasing the partial positive charge on the carbonyl carbon, making it more susceptible to nucleophilic attack."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C(O[Ce-](Cl)(Cl)Cl)([*:4])",
        "rationale": "NaBH4 delivers hydride to the activated carbonyl carbon; Ce coordination reduces conjugation with the alkene, favoring 1,2-addition over 1,4-addition under these mild conditions."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C(O)([*:4])",
        "rationale": "The alkoxide–cerium complex is protonated by methanol, a protic solvent, to yield the neutral alcohol and regenerate the Lewis acid catalyst."
      }
    ],
    "description": "CeCl3 coordinates to the carbonyl oxygen, enhancing electrophilicity and directing NaBH4 reduction selectively to the carbonyl over the conjugated alkene. Hydride addition yields an alkoxide–cerium complex, which is then protonated in methanol to give the allylic alcohol."
  },
  {
    "reaction_id": "NR-136",
    "level": "medium",
    "name": "Madelung Indole Synthesis",
    "reactants_smiles": [
      "C(=O)([*:6])Nc1ccccc1C([H])([*:5])",
      "CCCC[Li]"
    ],
    "products_smiles": [
      "C1([*:6])=C([*:5])Nc2ccccc12"
    ],
    "conditions": "Base",
    "mechanism_step_nums": 8,
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:6])[N-]c1ccccc1C([H])([*:5])",
        "step_weight": 0,
        "rationale": "Strong base deprotonates the amide nitrogen due to its relatively acidic N–H, enhanced by resonance stabilization of the resulting anion."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:6])[N-]c1ccccc1[C-]([*:5])",
        "step_weight": 0,
        "rationale": "The benzylic proton adjacent to the aromatic ring is acidic due to resonance stabilization of the resulting carbanion into the aromatic system."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1([*:6])([O-])[N-]c2ccccc2C1([*:5])",
        "step_weight": 0,
        "rationale": "The nucleophilic carbanion attacks the electrophilic carbonyl carbon, favored by intramolecular proximity and the polarization of the C=O bond."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:6])(O)[N-]c2ccccc2C1([*:5])",
        "step_weight": 0,
        "rationale": "Proton transfer to the alkoxide oxygen stabilizes the intermediate, driven by the high basicity of the alkoxide."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:6])(O)Nc2ccccc2C1([*:5])",
        "step_weight": 0,
        "rationale": "Protonation of the nitrogen restores its neutral form, preparing the system for subsequent dehydration."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:6])([OH2+])Nc2ccccc2C1([*:5])",
        "step_weight": 0,
        "rationale": "Protonation of the hydroxyl group converts it into a better leaving group (water), facilitated by acidic conditions."
      },
      {
        "step": 7,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1([*:6])=[NH+]c2ccccc2C1([*:5])",
        "step_weight": 0,
        "rationale": "Elimination of water occurs to form the iminium species, driven by the stability of the conjugated heteroaromatic system forming."
      },
      {
        "step": 8,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:6])=C([*:5])Nc2ccccc12",
        "step_weight": 0,
        "rationale": "Deprotonation adjacent to the iminium nitrogen restores aromaticity, yielding the stable indole product."
      }
    ],
    "description": "Under strong base, the amide nitrogen and benzylic position are deprotonated, enabling intramolecular nucleophilic attack on the carbonyl to form a cyclic intermediate. Subsequent proton transfers and dehydration yield the indole core via the Madelung synthesis pathway."
  },
  {
    "reaction_id": "NR-137",
    "name": "Maitland-Japp Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])C(=O)C([*:2])",
      "O=CC([*:3])"
    ],
    "products_smiles": [
      "C1([*:3])OC([*:4])C([*:2])C(=O)C1([*:1])"
    ],
    "conditions": "Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:2])C(=O)C(=C([*:3]))([*:1])",
        "rationale": "Acid catalysis increases carbonyl electrophilicity, enabling enol or enolate attack on the aldehyde to form the conjugated α,β-unsaturated system stabilized by resonance."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:3])=C([*:1])C(=O)C([*:2])C(O)([*:4])",
        "rationale": "The activated alkene undergoes nucleophilic addition from a hydroxyl group, favored by conjugation breaking and formation of a stabilized carbocation intermediate under acidic conditions."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])=C([*:1])C(=[OH+])C([*:2])C(O)([*:4])",
        "rationale": "Protonation of the carbonyl oxygen increases electrophilicity, preparing the intermediate for subsequent intramolecular nucleophilic attack."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1([*:3])C([*:1])=C(O)C([*:2])C([*:4])[OH+]1",
        "rationale": "Intramolecular nucleophilic addition is favored entropically and electronically, as the nearby hydroxyl oxygen attacks the protonated carbonyl to form a cyclic oxonium ion."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:3])C([*:1])=C(O)C([*:2])C([*:4])O1",
        "rationale": "Deprotonation of the oxonium ion restores neutrality, stabilizing the newly formed heterocyclic ring."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:3])OC([*:4])C([*:2])C(=O)C1([*:1])",
        "rationale": "Proton transfer rearranges the oxygen protonation state, yielding the thermodynamically stable cyclic ether with a carbonyl group."
      }
    ],
    "description": "Under acidic conditions, the carbonyl compound and aldehyde undergo condensation to form an α,β-unsaturated intermediate, which then participates in intramolecular nucleophilic addition and cyclization. Proton transfers facilitate ring closure and rearrangement to yield the stable cyclic product."
  },
  {
    "reaction_id": "NR-138",
    "name": "Mannich Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(C(=O)[*:1])([*:2])([*:3])",
      "C(=O)([*:4])([*:5])",
      "N[*:6]"
    ],
    "products_smiles": [
      "C(C(=O)[*:1])([*:2])([*:3])C([*:4])([*:5])N[*:6]"
    ],
    "conditions": "Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C(=[OH+])[*:1])([*:2])",
        "rationale": "Acid protonates the carbonyl oxygen, increasing electrophilicity of the carbonyl carbon via inductive and resonance effects, facilitating subsequent enolization."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])([*:2])=C(O)[*:1]",
        "rationale": "Proton transfer to the α-carbon promotes enol formation, stabilized by resonance between the α-carbon and the protonated carbonyl."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(C(=[OH+])[*:1])([*:2])([*:3])C([*:4])([*:5])N[*:6]",
        "rationale": "The nucleophilic enol attacks the electrophilic iminium carbon, favored by conjugation and the strong electron-withdrawing effect of the protonated nitrogen."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C(=O)[*:1])([*:2])([*:3])C([*:4])([*:5])N[*:6]",
        "rationale": "Deprotonation restores neutrality, yielding the stable β-amino carbonyl product under thermodynamically favorable conditions."
      }
    ],
    "description": "Under acidic conditions, the carbonyl group is activated toward nucleophilic attack via protonation, enabling enolization of the ketone. The enol then attacks the iminium ion formed from the aldehyde and amine, yielding the β-amino carbonyl product after deprotonation."
  },
  {
    "reaction_id": "NR-139",
    "name": "Markó-Lam Deoxygenation",
    "level": "medium",
    "reactants_smiles": [
      "C(OC(=O)[*:4])([*:1])([*:2])([*:3])"
    ],
    "products_smiles": [
      "C([*:1])([*:2])([*:3])"
    ],
    "conditions": "SmI2, HMPA",
    "mechanism": [
      {
        "step": 1,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "C(O[C]([O][Sm](I)I)[*:4])([*:1])([*:2])([*:3])",
        "rationale": "SmI2 is a strong single-electron donor; coordination to the carbonyl oxygen and electron transfer generate a radical anion stabilized by resonance with the carbonyl group."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "radical_elimination",
        "intermediate_smiles": "[C]([*:1])([*:2])([*:3])",
        "rationale": "The radical anion undergoes C–O bond cleavage because the alkoxy leaving group is stabilized by Sm(III) coordination, favoring radical elimination."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "radical_substitution",
        "intermediate_smiles": "C([*:1])([*:2])([*:3])",
        "rationale": "The carbon-centered radical abstracts a hydrogen atom from the solvent or SmI2–HMPA complex, driven by formation of a strong C–H bond and radical quenching."
      }
    ],
    "description": "SmI2 mediates a single-electron reduction of the ester, generating a radical anion that fragments to release the alkoxy radical. Subsequent elimination yields a carbon-centered radical, which abstracts hydrogen to give the fully deoxygenated product under mild, reductive conditions."
  },
  {
    "reaction_id": "NR-140",
    "name": "McMurry Reaction",
    "level": "medium",
    "reactants_smiles": [
      "O=C([*:1])([*:2])",
      "O=C([*:3])([*:4])"
    ],
    "products_smiles": [
      "C(=C([*:3])([*:4]))([*:1])([*:2])"
    ],
    "conditions": "TiCl3, K",
    "mechanism": [
      {
        "step": 1,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "[C](O[Ti](Cl)(Cl))([*:1])([*:2])",
        "rationale": "Low-valent titanium donates an electron to the carbonyl, generating a ketyl radical stabilized by resonance between the carbon and oxygen atoms."
      },
      {
        "step": 2,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "[C]([*:1])([*:2])O[Ti](Cl)(Cl)O[C]([*:3])([*:4])",
        "rationale": "A second single-electron transfer reduces another carbonyl, producing two ketyl radicals that are stabilized by Ti–O coordination."
      },
      {
        "step": 3,
        "type": "radical",
        "subtype": "radical_coupling",
        "intermediate_smiles": "C1([*:1])([*:2])O[Ti](Cl)(Cl)OC1([*:3])([*:4])",
        "rationale": "Radical coupling occurs because the ketyl radicals are in close proximity on the titanium center, minimizing steric hindrance and forming a C–C bond."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "reductive_elimination",
        "intermediate_smiles": "C(=C([*:3])([*:4]))([*:1])([*:2])",
        "rationale": "Reductive elimination from the titanium alkoxide releases the alkene, driven by the thermodynamic stability of the Ti–O bonds and the conjugated C=C product."
      }
    ],
    "description": "In the McMurry reaction, low-valent titanium generated from TiCl3 and K reduces two carbonyl groups to radicals, which couple to form a titanium-bound intermediate. Subsequent reductive elimination yields the alkene, driven by strong Ti–O bond formation and radical stability."
  },
  {
    "reaction_id": "NR-141",
    "name": "Meerwein-Ponndorf-Verley Reduction",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])([*:2])"
    ],
    "products_smiles": [
      "C(O)([*:1])([*:2])"
    ],
    "conditions": "Al(Oi-Pr)3, i-PrOH",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "C(=[O+][Al-](OC(C)C)(OC(C)C)OC(C)C)([*:1])([*:2])",
        "rationale": "Aluminum acts as a strong Lewis acid, coordinating to the carbonyl oxygen and increasing the partial positive charge on the carbonyl carbon, making it more susceptible to nucleophilic hydride transfer."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "group_transfer",
        "intermediate_smiles": "C(O[Al](OC(C)C)OC(C)C)([*:1])([*:2])",
        "rationale": "A six-membered cyclic transition state allows concerted hydride transfer from the α-carbon of isopropoxide to the activated carbonyl carbon, favored by chelation and minimal ring strain."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(O)([*:1])([*:2])",
        "rationale": "Proton transfer from the coordinated alkoxide to the oxygen regenerates the aluminum isopropoxide catalyst and releases the neutral alcohol product."
      }
    ],
    "description": "The carbonyl coordinates to aluminum isopropoxide, increasing electrophilicity. A six-membered cyclic transition state enables hydride transfer from isopropoxide to the carbonyl carbon, reducing it to an alcohol. Proton transfer regenerates the catalyst and releases the product."
  },
  {
    "reaction_id": "NR-142",
    "name": "Meisenheimer Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "[N+]([O-])([*:1])([*:2])([*:3])"
    ],
    "products_smiles": [
      "N(O[*:1])([*:2])([*:3])"
    ],
    "conditions": "Heat",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "N(O[*:1])([*:2])([*:3])",
        "rationale": "Thermal energy promotes a concerted [2,3]-sigmatropic shift, favored by the N-oxide’s ability to delocalize electron density and stabilize the transition state through resonance between nitrogen and oxygen."
      }
    ],
    "description": "Upon heating, the N-oxide undergoes a [2,3]-sigmatropic rearrangement (Meisenheimer rearrangement), shifting the [*:1] group from nitrogen to oxygen. This pericyclic process is thermally allowed and driven by the formation of a strong N–O bond and relief of electronic strain."
  },
  {
    "reaction_id": "NR-143",
    "name": "Meyer-Schuster Rearrangement",
    "level": "medium",
    "reactants_smiles": [
      "C(C#C[*:1])(O)([*:2])([*:3])"
    ],
    "products_smiles": [
      "C(=O)([*:1])C=C([*:2])([*:3])"
    ],
    "conditions": "Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([OH2+])(C#C[*:1])([*:2])([*:3])",
        "rationale": "Protonation of the hydroxyl group increases its leaving group ability by converting OH into water, favored under acidic conditions due to enhanced electrophilicity at the adjacent carbon."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[C+](C#C[*:1])([*:2])([*:3])",
        "rationale": "Loss of water generates a carbocation stabilized by adjacent propargyl resonance, making elimination favorable despite potential steric effects from [*:2] and [*:3]."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(O)([*:1])=C=C([*:2])([*:3])",
        "rationale": "Nucleophilic attack of water on the electrophilic carbocation occurs, driven by carbocation stability and the ability to form an enol intermediate conjugated with the alkyne."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:1])C=C([*:2])([*:3])",
        "rationale": "Proton transfer tautomerizes the enol to the more thermodynamically stable α,β-unsaturated carbonyl, favored by conjugation between the C=O and C=C."
      }
    ],
    "description": "Under acidic conditions, the propargyl alcohol undergoes protonation to activate the hydroxyl group, followed by water loss to form a stabilized carbocation. Nucleophilic addition and proton transfers rearrange the triple bond into an α,β-unsaturated carbonyl via the Meyer–Schuster pathway."
  },
  {
    "reaction_id": "NR-144",
    "name": "Michael Addition",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])C(=O)[*:5]",
      "S([H])[*:4]"
    ],
    "products_smiles": [
      "S([*:4])C([*:1])([*:2])C([*:3])C(=O)[*:5]"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[S-][*:4]",
        "rationale": "Base abstracts the acidic proton from the thiol due to sulfur’s relatively low pKa, generating a thiolate anion with high nucleophilicity."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "S([*:4])C([*:1])([*:2])C([*:3])=C([O-])[*:5]",
        "rationale": "The thiolate attacks the β-carbon of the α,β-unsaturated carbonyl via conjugate addition, favored by resonance stabilization of the resulting enolate."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "S([*:4])C([*:1])([*:2])C([*:3])C(=O)[*:5]",
        "rationale": "The enolate intermediate is protonated to form the neutral thioether, driven by the thermodynamic stability of the carbonyl group."
      }
    ],
    "description": "Under basic conditions, the thiol is deprotonated to form a strong nucleophile, which undergoes conjugate (Michael) addition to the α,β-unsaturated carbonyl. The resulting enolate intermediate is then protonated to yield the stable thioether product."
  },
  {
    "reaction_id": "NR-145",
    "name": "Michaelis-Arbuzov Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[CH](Br)([*:1])([*:2])",
      "P(O[*:3])(O[*:3])(O[*:3])"
    ],
    "products_smiles": [
      "P(=O)(O[*:3])(O[*:3])[CH]([*:1])([*:2])"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[P+](O[*:3])(O[*:3])(O[*:3])[CH]([*:1])([*:2]).[Br-]",
        "rationale": "The lone pair on phosphorus attacks the electrophilic carbon bearing bromine, favored by the polarizable P center and the good leaving group ability of bromide, forming a phosphonium salt intermediate."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "P(=O)(O[*:3])(O[*:3])[CH]([*:1])([*:2])",
        "rationale": "Intramolecular rearrangement occurs as an alkyl group migrates from oxygen to phosphorus, driven by the thermodynamically favorable formation of the strong P=O bond and facilitated by bromide acting as a leaving group."
      }
    ],
    "description": "In the Michaelis–Arbuzov reaction, trialkyl phosphite attacks an alkyl halide via nucleophilic substitution, forming a phosphonium salt. This intermediate undergoes rearrangement with halide displacement to yield the phosphonate ester, driven by strong P=O bond formation and good leaving group ability of halide."
  },
  {
    "reaction_id": "NR-146",
    "name": "Mitsunobu Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[C@@H](O)([*:1])([*:2])",
      "O=C(O)[*:3]",
      "c1ccccc1P(c2ccccc2)c3ccccc3",
      "CCOC(=O)N=NC(=O)OCC"
    ],
    "products_smiles": [
      "[C@H](OC(=O)[*:3])([*:1])([*:2])"
    ],
    "conditions": "Ph3P, CCOC(=O)N=NC(=O)OCC",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "c1ccccc1[P+](c2ccccc2)(c3ccccc3)N([N-]C(=O)OCC)C(=O)OCC",
        "rationale": "Triphenylphosphine attacks the electrophilic azo carbonyl due to its strong nucleophilicity, forming a phosphonium intermediate stabilized by resonance with adjacent carbonyl groups."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1ccccc1[P+](c2ccccc2)(c3ccccc3)N(NC(=O)OCC)C(=O)OCC.[O-]C(=O)[*:3]",
        "rationale": "The acidic proton of [*:3]–COOH is abstracted by the basic intermediate, driven by the stability of the resulting carboxylate anion and the favorable formation of a neutral phosphonium species."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[C@@H](O[P+](c1ccccc1)(c2ccccc2)c3ccccc3)([*:1])([*:2]).[O-]C(=O)[*:3]",
        "rationale": "The alcohol oxygen attacks the electrophilic phosphonium center, forming an oxyphosphonium intermediate; this activates the adjacent carbon for nucleophilic substitution by making it a better leaving group."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[C@H](OC(=O)[*:3])([*:1])([*:2])",
        "rationale": "The carboxylate anion attacks the activated carbon in an SN2 fashion, favored by the excellent leaving ability of triphenylphosphine oxide and the reaction’s stereospecific inversion requirement."
      }
    ],
    "description": "In the Mitsunobu reaction, triphenylphosphine activates the azo reagent to form a reactive intermediate, which deprotonates the acid to generate a nucleophilic anion. This anion then displaces the alcohol via inversion, yielding the ester product under mild, stereospecific conditions."
  },
  {
    "reaction_id": "NR-147",
    "name": "Morita-Baylis-Hillman Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])=CC(=O)([*:4])",
      "O=C([H])[*:5]"
    ],
    "products_smiles": [
      "C(=O)([*:4])C(C([*:5])O)=C([*:1])([*:2])"
    ],
    "conditions": "N1CCN2CCC1CC2",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:4])(=CC([*:1])([*:2])[N+]12CCN(CC1)CC2)[O-]",
        "rationale": "The tertiary amine nucleophile attacks the β-position of the activated alkene due to strong electron withdrawal by the adjacent carbonyl, forming a stabilized zwitterionic enolate."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])(C(C([*:2])([*:3])[N+]12CCN(CC1)CC2)C([*:5])[O-])=O",
        "rationale": "The enolate carbon, being nucleophilic and resonance-stabilized, attacks the electrophilic carbonyl carbon of the aldehyde, favored by the aldehyde’s high reactivity and minimal steric hindrance."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=C(/C([*:2])([*:3])[N+]12CCN(CC1)CC2)C([*:5])O)[O-]",
        "rationale": "Proton transfer occurs to neutralize the alkoxide and generate a hydroxyl group, driven by the stability of the resulting alcohol and facilitated by the basic amine environment."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)([*:4])C(C([*:5])O)=C([*:1])([*:2])",
        "rationale": "Elimination of the amine regenerates the catalyst and forms the conjugated alkene, favored by restoration of the carbonyl conjugation and relief of the zwitterionic intermediate’s charge separation."
      }
    ],
    "description": "In the Morita–Baylis–Hillman reaction, the tertiary amine catalyst activates the electron-deficient alkene via nucleophilic addition, forming a zwitterionic enolate. This enolate then attacks the aldehyde, followed by proton transfer and elimination of the amine to yield the allylic alcohol product under mild conditions."
  },
  {
    "reaction_id": "NR-148",
    "name": "Mukaiyama Aldol Addition",
    "level": "medium",
    "reactants_smiles": [
      "C(=C([*:2])[*:3])([*:1])O[Si]([*:4])([*:4])([*:4])",
      "C(=O)([*:5])([*:6])"
    ],
    "products_smiles": [
      "[*:1]C(=O)C([*:2])([*:3])C(O)([*:5])([*:6])"
    ],
    "conditions": "Acid",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "C(=[O+][Si]([*:4])([*:4])([*:4]))([*:5])([*:6])",
        "rationale": "The Lewis acid coordinates to the carbonyl oxygen, withdrawing electron density and increasing the electrophilicity of the carbonyl carbon, making it more susceptible to nucleophilic attack by the silyl enol ether."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C(=O)C([*:2])([*:3])C(O[Si]([*:4])([*:4])([*:4]))([*:5])([*:6])",
        "rationale": "The silyl enol ether attacks the activated carbonyl carbon, driven by the strong nucleophilicity of the enol double bond and stabilization of the developing positive charge by the silyl group."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C(=O)C([*:2])([*:3])C(O)([*:5])([*:6])",
        "rationale": "Proton transfer occurs to replace the silyloxy group with a hydroxyl, favored under acidic conditions and driven by the stability of the neutral β-hydroxy carbonyl product."
      }
    ],
    "description": "Under acidic conditions, the Mukaiyama aldol addition proceeds via Lewis acid activation of the carbonyl, enabling nucleophilic attack by the silyl enol ether. Subsequent proton transfer yields the β-hydroxy carbonyl product with high chemoselectivity due to enhanced electrophilicity and stable intermediates."
  },
  {
    "reaction_id": "NR-149",
    "name": "Myers Asymmetric Alkylation",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]CC(=O)N(C)C(C)C(O)c1ccccc1",
      "Br[*:2]"
    ],
    "products_smiles": [
      "[*:2]C([*:1])C(=O)N(C)C(C)C(O)c1ccccc1"
    ],
    "conditions": "LDA",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]/C=C(\\[O-])/N(C)C(C)C([O-])c1ccccc1",
        "rationale": "LDA, a strong non-nucleophilic base, selectively deprotonates the α-position due to acidity enhanced by resonance stabilization of the enolate through the carbonyl and auxiliary."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[*:2]C([*:1])C(=O)N(C)C(C)C([O-])c1ccccc1",
        "rationale": "The enolate acts as a strong nucleophile, attacking the electrophilic carbon of the alkyl bromide in an SN2 process, favored by the good leaving ability of bromide and minimal steric hindrance."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:2]C([*:1])C(=O)N(C)C(C)C(O)c1ccccc1",
        "rationale": "The alkoxide intermediate is protonated under workup conditions, restoring the neutral alcohol and completing the formation of the alkylated product."
      }
    ],
    "description": "Under strong base (LDA), the Myers auxiliary amide undergoes deprotonation to form a stabilized enolate, which then performs an SN2 alkylation with the alkyl bromide. Final protonation yields the chiral alkylated product with high stereocontrol from the auxiliary."
  },
  {
    "reaction_id": "NR-201",
    "level": "medium",
    "name": "Nazarov Cyclization Reaction",
    "reactants_smiles": [
      "C(C([*:1]))=CC(=O)C=C(C([*:2]))",
      "CS(=O)(=O)O"
    ],
    "products_smiles": [
      "C([*:2])C1=CC(=O)CC1([*:1])"
    ],
    "conditions": "H+ OSO2Me",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The reaction initiates with the protonation of the divinyl ketone's carbonyl oxygen by a strong acid. This forms a resonance-stabilized oxyallyl cation, which then undergoes a 4π-electron electrocyclic ring closure to form a cyclopentenyl cation intermediate. The reaction concludes with a deprotonation and subsequent keto-enol tautomerization to yield the final cyclopentenone product.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C([*:1]))=CC(=[OH+])C=CC([*:2])",
        "step_weight": 0,
        "rationale": "Protonation of the carbonyl oxygen increases electrophilicity and stabilizes the developing positive charge via resonance, facilitating oxyallyl cation formation under strong acid."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "C1(=CC(C([CH+]1)C([*:1]))C([*:2]))O",
        "step_weight": 0,
        "rationale": "The oxyallyl cation undergoes a conrotatory 4π-electrocyclization, favored by orbital symmetry and leading to a cyclopentenyl cation stabilized by adjacent substituents."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C1(=CC(C(=C1)C([*:2]))C([*:1]))O",
        "step_weight": 0,
        "rationale": "Deprotonation relieves positive charge on the cyclopentenyl cation, driven by formation of a more conjugated alkene system."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:2])C1=CC(=O)CC1(C([*:1]))",
        "step_weight": 0,
        "rationale": "Acid-catalyzed tautomerization converts the enol to the more stable conjugated ketone, favored by carbonyl bond strength and extended π-conjugation."
      }
    ],
    "description": "Under strong acid conditions, the divinyl ketone is protonated to activate the carbonyl toward cation formation. This enables oxyallyl cation generation, which undergoes a Nazarov 4π-electrocyclization to form a cyclopentenyl cation. Subsequent deprotonation and tautomerization yield the thermodynamically stable cyclopentenone product."
  },
  {
    "reaction_id": "NR-202",
    "level": "medium",
    "name": "Neber Rearrangement",
    "reactants_smiles": [
      "C([*:1])([*:2])C(=NOS(=O)(=O)c1ccc(C)cc1)[*:3]"
    ],
    "products_smiles": [
      "[*:3]C(=O)C([*:1])([*:2])N"
    ],
    "conditions": "Base, H2O",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Neber rearrangement is an intramolecular nucleophilic substitution reaction. It begins with the abstraction of an alpha-proton by a base, followed by the intramolecular cyclization of the intermediate to form an azirine ring, displacing the tosylate group. The azirine intermediate is then hydrolyzed by water, and a series of proton transfers and a final rearrangement leads to the alpha-amino ketone product.",
    "mechanism_step_nums": 6,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[C-]([*:1])([*:2])C(=NOS(=O)(=O)c1ccc(C)cc1)[*:3]",
        "step_weight": 0,
        "rationale": "The base abstracts the relatively acidic alpha-proton due to resonance stabilization of the resulting carbanion by the adjacent oxime group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:3]C2=NC([*:1])([*:2])2",
        "step_weight": 0,
        "rationale": "The nucleophilic carbanion attacks the oxime nitrogen intramolecularly, forming a strained azirine ring and displacing the tosylate, a good leaving group stabilized by resonance."
      },
      {
        "step": 3,
        "type": "rearrangement",
        "subtype": "rearrangement",
        "intermediate_smiles": "C([*:3])2(C([*:1])([*:2])[N-]2)O",
        "step_weight": 0,
        "rationale": "Water adds to the electrophilic azirine carbon, driven by ring strain relief and polarization of the C–N bond."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])2(C([*:1])([*:2])[NH]2)[O-]",
        "step_weight": 0,
        "rationale": "Proton transfer from the coordinated water to nitrogen stabilizes the intermediate, favored in aqueous medium."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:3]C(C([*:1])([*:2])[NH-])=O",
        "step_weight": 0,
        "rationale": "Elimination of hydroxide from the intermediate occurs to form the carbonyl, driven by the stability of the ketone and the good leaving ability of hydroxide under these conditions."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:3]C(=O)C([*:1])([*:2])N",
        "step_weight": 0,
        "rationale": "Final protonation of the nitrogen yields the neutral alpha-amino ketone, favored under aqueous conditions for product stability."
      }
    ],
    "description": "Under basic aqueous conditions, the alpha-proton adjacent to the oxime tosylate is deprotonated, enabling intramolecular cyclization to an azirine via tosylate departure. Subsequent hydrolytic ring opening, proton transfers, and rearrangement yield the thermodynamically stable alpha-amino ketone."
  },
  {
    "reaction_id": "NR-203",
    "level": "medium",
    "name": "Nef Reaction",
    "reactants_smiles": [
      "C([*:1])([*:2])([N+](=O)[O-])"
    ],
    "products_smiles": [
      "O=C([*:1])([*:2])"
    ],
    "conditions": "H3O+",
    "mechanism_step_nums": 7,
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=N([O-])=O",
        "step_weight": 0,
        "rationale": "Protonation of the nitro group oxygen increases electrophilicity of nitrogen, facilitating tautomerization to the nitronic acid form under acidic conditions."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=[N+]([O-])O",
        "step_weight": 0,
        "rationale": "Further proton transfer stabilizes the nitronic acid tautomer by delocalizing positive charge onto nitrogen, making it more susceptible to nucleophilic attack."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=[N+](O)O",
        "step_weight": 0,
        "rationale": "Protonation of the hydroxyl oxygen enhances the leaving ability of water in later steps and increases the electrophilicity of the nitrogen center."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])([*:2])([NH+](O)O)[OH2+]",
        "step_weight": 0,
        "rationale": "Water, abundant in acidic medium, attacks the electrophilic nitrogen-carbon center, driven by the positive charge and resonance stabilization of the intermediate."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])([NH+](O)O)[OH]",
        "step_weight": 0,
        "rationale": "Proton transfer from the coordinated water to the nitronic hydroxyl group prepares for elimination by generating a better leaving group."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[OH+]=C([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "Elimination of the protonated hydroxylamine fragment occurs because water is a good leaving group under acidic conditions, forming an oxonium ion intermediate."
      },
      {
        "step": 7,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=C([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "Loss of a proton from the oxonium ion yields the neutral carbonyl product, driven by the thermodynamic stability of the C=O bond."
      }
    ],
    "description": "Under acidic conditions, the nitro group of the nitroalkane is sequentially protonated and rearranged to form a nitronic acid, which undergoes hydration and elimination steps. Proton transfers and good leaving group formation drive the conversion to the corresponding carbonyl compound."
  },
  {
    "reaction_id": "NR-204",
    "level": "hard",
    "name": "Nenitzescu Indole Synthesis",
    "reactants_smiles": [
      "O=C1C=CC(=O)C=C1",
      "C=C(N([H])[*:2])C(=O)O[*:3]"
    ],
    "products_smiles": [
      "C1=C(O)C=CC2=C1C(C(=O)[*:3])=CN([*:2])2"
    ],
    "conditions": "Acetic acid",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Nenitzescu indole synthesis is a chemical reaction that produces 5-hydroxyindoles from 1,4-benzoquinone and a β-aminocrotonate. The reaction proceeds through a Michael addition, followed by cyclization and elimination.",
    "mechanism_step_nums": 7,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1=C(C=CC(C1C(C(C2=CC=CC=C2)=[NH+]([*:2]))C(=O)O([*:3]))=O)O",
        "step_weight": 0,
        "rationale": "The β-aminocrotonate enamine acts as a nucleophile, attacking the electrophilic β-carbon of 1,4-benzoquinone due to strong conjugation and electron withdrawal by the carbonyl groups."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1=C(C=CC(C1C(=C(C2=CC=CC=C2)[NH]([*:2]))C(=O)O([*:3]))=O)O",
        "step_weight": 0,
        "rationale": "Proton transfer stabilizes the adduct by neutralizing charge and preparing the intermediate for intramolecular cyclization under acidic conditions."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1=C(C=CC3(C1C(=C(C2=CC=CC=C2)N3([*:2]))C(=O)O([*:3]))O)O",
        "step_weight": 0,
        "rationale": "The amine nitrogen attacks the carbonyl carbon intramolecularly, favored by proximity and the electrophilicity enhanced by conjugation and acid activation."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1=C(C=CC3(C1C(=C(C2=CC=CC=C2)N3([*:2]))C(=O)O([*:3]))[OH2+])O",
        "step_weight": 0,
        "rationale": "Protonation of the hydroxyl group creates a good leaving group, facilitating subsequent elimination to form the indole ring system."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1=C(C=CC3(C1C(=C(C2=CC=CC=C2)[N+]=3([*:2]))C(=O)O([*:3])))O",
        "step_weight": 0,
        "rationale": "Loss of water occurs because the protonated hydroxyl is an excellent leaving group, driving formation of the iminium intermediate and partial ring aromatization."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C1=C(C=CC3(=C1C(=C(C2=CC=CC=C2)N3([*:2]))C(=O)O([*:3])))O",
        "step_weight": 0,
        "rationale": "Deprotonation restores full aromaticity of the indole core, a thermodynamically favorable step that completes the synthesis."
      }
    ],
    "description": "Under acidic conditions, the β-aminocrotonate undergoes Michael addition to 1,4-benzoquinone, forming a conjugated adduct. Subsequent intramolecular nucleophilic attack and proton transfers enable cyclization to the indole core, followed by elimination steps to restore aromaticity and yield the 5-hydroxyindole product."
  },
  {
    "reaction_id": "NR-205",
    "level": "easy",
    "name": "Nierenstein reaction",
    "reactants_smiles": [
      "C(=O)(Cl)([*:1])",
      "C=[N+]=[N-]"
    ],
    "products_smiles": [
      "C(=O)(CCl)([*:1])"
    ],
    "conditions": "None",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([O-])(Cl)(C[N+]#N)([*:1])",
        "rationale": "The carbonyl carbon of the acyl chloride is highly electrophilic due to the electron-withdrawing chloride, enabling nucleophilic attack by diazomethane's terminal carbon, which is nucleophilic from resonance with the adjacent diazonium group."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)(CCl)([*:1])",
        "rationale": "The tetrahedral intermediate collapses as chloride, a good leaving group, departs, restoring the carbonyl and forming the α-chloromethyl ketone, favored by the stability of the carbonyl and relief of negative charge on oxygen."
      }
    ],
    "description": "In the Nierenstein reaction, diazomethane attacks the electrophilic carbonyl carbon of an acyl chloride, forming a tetrahedral intermediate. Chloride elimination then yields the α-chloromethyl ketone, driven by the stability of the carbonyl and good leaving group ability of chloride."
  },
  {
    "reaction_id": "NR-206",
    "level": "medium",
    "name": "Norrish Reaction",
    "reactants_smiles": [
      "O=C(C)C[*:1]"
    ],
    "products_smiles": [
      "[*:1]CC=C"
    ],
    "conditions": "hv",
    "mechanism_step_nums": 2,
    "mechanism": [
      {
        "step": 1,
        "type": "cleavage",
        "subtype": "homolytic_cleavage",
        "intermediate_smiles": "[CH3]C=O.[CH2]C([*:1])",
        "step_weight": 0,
        "rationale": "UV light excites the carbonyl to a singlet or triplet state, weakening the α C–C bond via n→π* excitation, enabling homolytic cleavage to yield stabilized acyl and alkyl radicals."
      },
      {
        "step": 2,
        "type": "radical",
        "subtype": "radical_termination",
        "intermediate_smiles": "[*:1]C=C",
        "step_weight": 0,
        "rationale": "The alkyl radical undergoes β-scission or recombination, forming a C=C bond; radical termination is favored due to the stability of the conjugated alkene and the absence of further radical sources."
      }
    ],
    "description": "Under UV irradiation, the carbonyl absorbs light and undergoes α-cleavage (Norrish Type I), generating radical fragments. These radicals then recombine or rearrange to form the alkene product, driven by radical stability and relief of electronic strain."
  },
  {
    "reaction_id": "NR-207",
    "level": "medium",
    "name": "Oppenauer Oxidation",
    "reactants_smiles": [
      "O=C([*:1])([*:2])",
      "C([*:3])([*:4])O"
    ],
    "products_smiles": "OC([*:1])([*:2]).C([*:3])(=O)[*:4]",
    "conditions": "Al(Oi-Pr)3",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Oppenauer oxidation is a chemical reaction that oxidizes secondary alcohols to ketones or primary alcohols to aldehydes. It is the reverse of the Meerwein–Ponndorf–Verley reduction. The reaction is driven by the formation of a more stable carbonyl compound. The mechanism involves the coordination of the alcohol to the aluminum catalyst, followed by hydride transfer and product release.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "C([*:3])([*:4])[OH+][Al-](OC(C)C)(OC(C)C)OC(C)C",
        "step_weight": 0,
        "rationale": "The alcohol oxygen donates a lone pair to the Lewis acidic aluminum center, increasing polarization of the O–H bond and aligning the substrate for subsequent hydride transfer."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:3])([*:4])[O][Al](OC(C)C)OC(C)C",
        "step_weight": 0,
        "rationale": "Proton transfer to an alkoxide ligand generates an aluminum-bound alkoxide, enhancing nucleophilicity at oxygen and stabilizing the complex for rearrangement."
      },
      {
        "step": 3,
        "type": "rearrangement",
        "subtype": "hydride_shift",
        "intermediate_smiles": "C([*:3])([*:4])[O][Al-](OC(C)C)([O+]=C([*:1])([*:2]))OC(C)C",
        "step_weight": 0,
        "rationale": "Hydride shifts from the α-carbon of the coordinated alcohol to the electrophilic carbonyl carbon of the acceptor, driven by the stability of the resulting carbonyl and facilitated by aluminum coordination."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "OC([*:1])([*:2]).C([*:3])(=O)[*:4]",
        "step_weight": 0,
        "rationale": "Product ketone and alcohol are released as aluminum–oxygen bonds are cleaved, favored by the stability of the neutral products and regeneration of the catalyst."
      }
    ],
    "description": "In the Oppenauer oxidation, the aluminum isopropoxide catalyst coordinates to the alcohol, activating it for hydride transfer to a more electrophilic carbonyl acceptor. The reaction proceeds due to the thermodynamic drive toward forming a more stable carbonyl compound, with aluminum facilitating both activation and hydride migration."
  },
  {
    "reaction_id": "NR-208",
    "level": "easy",
    "name": "Overman Rearrangement",
    "reactants_smiles": "C([*:1])=C([*:2])C([*:3])([*:4])OC=N",
    "products_smiles": "C(=O)NC([*:1])C([*:2])=C([*:3])([*:4])",
    "conditions": "None",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Overman rearrangement is a sigmatropic rearrangement reaction in which an allylic imidate is converted to an allylic trichloroacetamide. The reaction proceeds via a concerted [3,3]-sigmatropic rearrangement. This is a powerful method for the synthesis of complex allylic amines from allylic alcohols.",
    "mechanism_step_nums": 1,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C(=O)NC([*:1])C([*:2])=C([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "Thermal activation enables a [3,3]-sigmatropic shift via a six-membered cyclic transition state, with allylic π-orbitals and imidate lone pairs overlapping to form a more stable amide through resonance stabilization."
      }
    ],
    "description": "The allylic imidate undergoes a concerted [3,3]-sigmatropic rearrangement under thermal conditions, shifting the connectivity to form an allylic amide. This pericyclic process is driven by favorable orbital overlap and the thermodynamic stability of the amide product."
  },
  {
    "reaction_id": "NR-209",
    "level": "medium",
    "name": "Paal-Knorr Furan Synthesis",
    "reactants_smiles": [
      "O=C([*:1])CCC(=O)[*:2]"
    ],
    "products_smiles": [
      "c1c([*:1])oc([*:2])c1"
    ],
    "conditions": "H3O+",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C([*:1])CCC(=[OH+])[*:2]",
        "rationale": "Protonation of the carbonyl increases its electrophilicity via positive charge delocalization onto oxygen, making it more susceptible to nucleophilic attack by the internal hydroxyl or enol form."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1C([*:1])([OH])[O+]=C([*:2])C1",
        "rationale": "The nucleophilic oxygen from the other carbonyl's enol form attacks the protonated carbonyl, favored by proximity and relief of ring strain in forming a five-membered intermediate."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C1C([*:1])([OH])[O]C([*:2])=C1",
        "rationale": "Deprotonation of the oxonium intermediate restores neutrality, stabilizing the cyclic hemiacetal through removal of the positive charge."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1C([*:1])([OH2+])[O]C([*:2])=C11",
        "rationale": "Protonation of the hydroxyl group converts it into a better leaving group (water) by generating an oxonium ion, facilitated by the acidic medium."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C=1C([*:1])[O+]=C([*:2])C1",
        "rationale": "Loss of water occurs because it is a stable leaving group, generating a resonance-stabilized oxocarbenium ion within the five-membered ring."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "c1c([*:1])oc([*:2])c1",
        "rationale": "Deprotonation adjacent to the oxocarbenium restores aromaticity in the furan ring, providing strong thermodynamic driving force for the final product formation."
      }
    ],
    "description": "Under acidic conditions, the 1,4-diketone undergoes intramolecular cyclization via protonation, nucleophilic attack, and dehydration to form a conjugated furan ring. Acid catalysis enhances carbonyl electrophilicity and facilitates water elimination, driving the reaction toward the aromatic heterocycle."
  },
  {
    "reaction_id": "NR-210",
    "level": "medium",
    "name": "Parikh-Doering Oxidation",
    "reactants_smiles": [
      "O=S(C)([*:1])",
      "O(C([*:2])([*:3]))"
    ],
    "products_smiles": [
      "O=C([*:2])[*:3]"
    ],
    "conditions": "Et3N,SO3,Py",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1=CC=[N+](C=C1)[S](=O)(=O)[O-]",
        "rationale": "SO3 coordinates to pyridine due to pyridine’s nucleophilicity and the strong electrophilicity of sulfur, forming a reactive sulfonyl–pyridinium complex."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C[S+]([*:1])O[S](=O)(=O)[O-]",
        "rationale": "The alcohol oxygen attacks the activated sulfur center, as sulfur is highly electrophilic and pyridine is a good leaving group under these conditions."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([S]([*:1])(O([S](=O)(=O)[O-]))O(C([*:2])([*:3])))",
        "rationale": "The alkoxide generated from the alcohol displaces a leaving group on sulfur, forming an alkoxysulfonium species stabilized by the electron-withdrawing sulfonyl group."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[S]([*:1])(=C)O(C([*:2])([*:3]))",
        "rationale": "Base-induced elimination occurs because the α-proton is acidic due to adjacent positively charged sulfur, generating a sulfur ylide intermediate."
      },
      {
        "step": 5,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "O=C([*:2])[*:3]",
        "rationale": "The sulfur ylide undergoes a [2,3]-sigmatropic rearrangement, driven by formation of a stable carbonyl and relief of charge separation."
      }
    ],
    "description": "In the Parikh–Doering oxidation, the alcohol is oxidized to a carbonyl compound under mild, non-aqueous conditions using SO3–pyridine and triethylamine. The sequence involves activation of the oxidant, formation of an alkoxysulfonium intermediate, elimination to a sulfur ylide, and rearrangement to the carbonyl product."
  },
  {
    "reaction_id": "NR-211",
    "level": "hard",
    "name": "Passerini Reaction",
    "reactants_smiles": [
      "C(=O)([*:1])[*:2]",
      "[C-]#[N+][*:3]",
      "O=C(O)[*:4]"
    ],
    "products_smiles": [
      "O=C([*:4])OC(C(=O)N[*:3])([*:1])[*:2]"
    ],
    "conditions": "acid",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=[OH+])([*:1])[*:2]",
        "rationale": "Acid protonates the carbonyl oxygen, increasing electrophilicity of the carbon and making it more susceptible to nucleophilic attack."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "OC([*:1])([*:2])C(#[N+][*:3])",
        "rationale": "The isocyanide carbon, being nucleophilic due to its adjacent positive nitrogen, attacks the activated carbonyl carbon, forming a nitrilium intermediate."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[OH+]=C([*:4])OC(=[N][*:3])C([*:1])([*:2])O",
        "rationale": "The carboxylic acid oxygen attacks the electrophilic nitrilium carbon, favored by resonance stabilization of the resulting intermediate."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "intramolecular_proton_transfer",
        "intermediate_smiles": "[OH]C2([*:4])OC(=[N][*:3])C([*:1])([*:2])O2",
        "rationale": "Intramolecular proton transfer stabilizes charges and positions the leaving group for the next elimination step."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=C([*:4])OC(C(=O)N[*:3])([*:1])[*:2]",
        "rationale": "Elimination of water occurs as the leaving group is stabilized by adjacent carbonyl, yielding the thermodynamically stable α-acyloxy amide."
      }
    ],
    "description": "Under acidic conditions, the Passerini reaction proceeds via activation of the carbonyl, nucleophilic attack by isocyanide, and subsequent trapping by a carboxylic acid. Proton transfers and elimination steps drive the formation of the α-acyloxy amide product through stabilized intermediates."
  },
  {
    "reaction_id": "NR-212",
    "level": "easy",
    "name": "Paterno-Buchi Reaction",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])([*:4])",
      "O=C([*:5])([*:6])"
    ],
    "products_smiles": [
      "C1([*:1])([*:2])C([*:5])([*:6])OC1([*:3])([*:4])"
    ],
    "conditions": "hv",
    "mechanism_step_nums": 1,
    "mechanism": [
      {
        "step": 1,
        "type": "radical",
        "subtype": "radical_coupling",
        "intermediate_smiles": "C1([*:1])([*:2])C([*:5])([*:6])OC1([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "UV light excites the carbonyl to a reactive state, allowing radical coupling with the alkene's π-bond; oxygen's electronegativity and π-overlap stabilize the diradical intermediate, favoring oxetane ring closure."
      }
    ],
    "description": "Under UV irradiation, the carbonyl compound is excited to a singlet or triplet state, enabling [2+2] photocycloaddition with the alkene to form an oxetane. The reaction proceeds via radical intermediates stabilized by the oxygen and alkene π-system."
  },
  {
    "reaction_id": "NR-213",
    "level": "medium",
    "name": "Payne Epoxidation",
    "reactants_smiles": [
      "OO",
      "N#C([*:1])",
      "C([*:2])=C([*:3])([*:4])"
    ],
    "products_smiles": [
      "C([*:2])1OC1([*:3])([*:4])"
    ],
    "conditions": "base",
    "mechanism_step_nums": 4,
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[O-]O",
        "step_weight": 0,
        "rationale": "Base deprotonates hydrogen peroxide, generating a hydroperoxide anion stabilized by resonance and inductive effects, increasing nucleophilicity for the next step."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[N-]=C(OO)([*:1])",
        "step_weight": 0,
        "rationale": "The hydroperoxide anion attacks the electrophilic carbon of the isocyanide, whose electron-deficient nature arises from the polarized C≡N bond."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OOC(=N)([*:1])",
        "step_weight": 0,
        "rationale": "Proton transfer converts the anionic intermediate into a neutral peroxyimidate, stabilizing the leaving group for the upcoming oxygen transfer."
      },
      {
        "step": 4,
        "type": "pericyclic",
        "subtype": "group_transfer",
        "intermediate_smiles": "C([*:2])1OC1([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "A concerted pericyclic oxygen transfer occurs, driven by the electrophilicity of the alkene and the strong thermodynamic preference for forming the stable three-membered epoxide ring."
      }
    ],
    "description": "Under basic conditions, hydrogen peroxide is deprotonated to form a more nucleophilic hydroperoxide anion, which attacks the electrophilic carbon of an isocyanide to form a peroxyimidate. Subsequent proton transfer and a concerted oxygen transfer to the alkene yield the epoxide via a Payne-type mechanism."
  },
  {
    "reaction_id": "NR-214",
    "level": "medium",
    "name": "Payne Rearrangement",
    "reactants_smiles": "C12C(CCCC1([*:1])O)O2",
    "products_smiles": "C12C(CCCC1([*:1])O2)O",
    "conditions": "Acid-catalyzed",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Payne rearrangement is an acid- or base-catalyzed isomerization of an epoxy alcohol. The acid-catalyzed mechanism shown here begins with the protonation of the epoxide oxygen. This activation makes the epoxide carbon more electrophilic. The neighboring hydroxyl group then acts as an intramolecular nucleophile, attacking the activated epoxide and opening the original ring while simultaneously forming a new, rearranged epoxide ring. The final step is deprotonation of the intermediate to yield the neutral, rearranged epoxy alcohol product.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C12C(CCCC1([*:1])O)[OH+]2",
        "step_weight": 0,
        "rationale": "Protonation of the epoxide oxygen by acid increases the electrophilicity of the adjacent carbons through inductive withdrawal, making them more susceptible to nucleophilic attack."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C12C(CCCC1([*:1])[OH+]2)O",
        "step_weight": 0,
        "rationale": "The neighboring hydroxyl oxygen attacks the more substituted, proton-activated epoxide carbon, driven by intramolecular proximity and relief of ring strain, forming a new epoxide ring."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C12C(CCCC1([*:1])O2)O",
        "step_weight": 0,
        "rationale": "Deprotonation restores the neutral epoxy alcohol, favored by the stability of the product and removal of positive charge under acidic equilibrium conditions."
      }
    ],
    "description": "Under acidic conditions, the epoxide oxygen is protonated to increase electrophilicity. The adjacent hydroxyl group then intramolecularly attacks, opening the ring and forming a new epoxide via rearrangement. Final deprotonation restores neutrality, yielding the rearranged epoxy alcohol."
  },
  {
    "reaction_id": "NR-215",
    "level": "hard",
    "name": "Pechmann Condensation",
    "reactants_smiles": [
      "c1ccccc1O([*:1])",
      "O=C(C([*:2])([*:3])([*:4]))CC(=O)OC([*:5])([*:6])([*:7])"
    ],
    "products_smiles": [
      "C([*:2])([*:3])([*:4])C1=CC(=O)Oc2c([*:1])cccc21"
    ],
    "conditions": "acid",
    "mechanism_step_nums": 6,
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "O=C(C([*:2])([*:3])([*:4]))CC(=O)Oc1c([*:1])cccc1",
        "step_weight": 0,
        "rationale": "Acidic conditions protonate the ester, increasing electrophilicity of the carbonyl carbon, allowing phenol oxygen to attack and displace the original alkoxy group via nucleophilic acyl substitution."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[OH+]=C(C([*:2])([*:3])([*:4]))CC(=O)Oc1c([*:1])cccc1",
        "step_weight": 0,
        "rationale": "Proton transfer to the β-keto carbonyl oxygen increases its electrophilicity, facilitating subsequent intramolecular attack by activating the carbonyl for cyclization."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "OC(C([*:2])([*:3])([*:4]))1CC(=[O])O[C+]2C([*:1])=CC=CC21",
        "step_weight": 0,
        "rationale": "The activated β-keto carbonyl undergoes intramolecular electrophilic attack by the aromatic ring, favored by resonance stabilization of the resulting carbocation intermediate."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OC(C([*:2])([*:3])([*:4]))1CC(=[OH+])Oc2c([*:1])cccc21",
        "step_weight": 0,
        "rationale": "Proton transfer to the hydroxyl oxygen adjacent to the ring oxygen increases leaving group ability, preparing for dehydration and restoring aromaticity."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "OC(C([*:2])([*:3])([*:4]))1C=C(O)Oc2c([*:1])cccc21",
        "step_weight": 0,
        "rationale": "Loss of water occurs because the protonated hydroxyl is a good leaving group, and elimination forms the conjugated coumarin system, stabilized by extended π-conjugation."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:2])([*:3])([*:4])C1=CC(=O)Oc2c([*:1])cccc21",
        "step_weight": 0,
        "rationale": "Final deprotonation restores neutrality and aromaticity, yielding the thermodynamically stable coumarin product."
      }
    ],
    "description": "Under acidic conditions, the phenol and β-keto ester undergo Pechmann condensation. Acid catalysis activates the carbonyls toward nucleophilic attack, enabling ester exchange, intramolecular electrophilic substitution, and cyclization. Proton transfers facilitate intermediate stabilization, and elimination yields the coumarin core with substituents from both reactants."
  },
  {
    "reaction_id": "NR-216",
    "level": "medium",
    "name": "Petasis-Ferrier Rearrangement",
    "reactants_smiles": [
      "C1OC(C([*:1])([*:2]))CCO1",
      "[Al]([*:7])([*:8])Cl"
    ],
    "products_smiles": "C1C(C)(C)C(=O)CCO1",
    "conditions": "Me2AlCl",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Petasis-Ferrier rearrangement is a Lewis acid-catalyzed reaction that transforms an α,β-unsaturated ketone into a γ,δ-unsaturated ketone. The mechanism is initiated by the coordination of the ketone's oxygen atom with a Lewis acid, such as dimethylaluminum chloride (Me₂AlCl). This coordination activates the system for a concerted rearrangement where a methyl group from the Lewis acid migrates to the α-carbon of the original ketone. The rearrangement proceeds through a cyclic transition state, leading to a new C-C bond and a shift of the double bond. The final step is the dissociation of the Lewis acid, reforming the carbonyl group and yielding the rearranged product.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "C1[O+]([Al]([*:1])([*:2]))C(CCO1)=C(C)C",
        "step_weight": 0,
        "rationale": "The carbonyl oxygen donates a lone pair to the Lewis acidic aluminum, increasing the electrophilicity of the adjacent carbon and making the system more susceptible to rearrangement."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C=[O+]CCC([OH])=C([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "Activation by aluminum stabilizes the developing positive charge in the cyclic transition state, enabling methyl migration and C–C bond reorganization via a sigmatropic pathway."
      },
      {
        "step": 3,
        "type": "dissociation",
        "subtype": "dissociation",
        "intermediate_smiles": "C1C([*:1])([*:2])C(=O)CCO1",
        "step_weight": 0,
        "rationale": "Dissociation of the Lewis acid restores the neutral carbonyl, driven by the thermodynamic stability of the ketone and the regeneration of the catalyst."
      }
    ],
    "description": "Under Lewis acid catalysis by Me₂AlCl, the oxygen of the cyclic ketone coordinates to aluminum, increasing electrophilicity. This facilitates a concerted Petasis-Ferrier rearrangement via a cyclic transition state, followed by Lewis acid dissociation to yield the rearranged carbonyl product."
  },
  {
    "reaction_id": "NR-217",
    "level": "easy",
    "name": "Acidic elimination",
    "reactants_smiles": "OC([*:1])C([*:2])[Si](C)(C)C",
    "products_smiles": "C([*:1])=C([*:2])",
    "conditions": "Acidic conditions",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[OH2+]C([*:1])C([*:2])[Si](C)(C)C",
        "rationale": "Protonation of the hydroxyl oxygen increases its positive charge, converting OH into the better leaving group H2O under acidic conditions."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])=C([*:2])",
        "rationale": "Loss of water is favored due to its stability as a leaving group; the adjacent silyl group stabilizes developing carbocation character, enabling alkene formation."
      }
    ],
    "description": "Under acidic conditions, the hydroxyl group is protonated to form a better leaving group, facilitating elimination. The bulky trialkylsilyl group on the adjacent carbon stabilizes carbocation character and promotes loss of water to yield the alkene."
  },
  {
    "reaction_id": "NR-218",
    "level": "medium",
    "name": "Petrenko-Kritschenko Piperidone Synthesis",
    "reactants_smiles": [
      "O=C(OCC)C([*:1])C(=O)C([*:1])C(=O)OCC",
      "O=CC([*:2])",
      "N"
    ],
    "products_smiles": [
      "C1(C([*:1])(C(NC(C([*:1])1C(OCC)=O)(C[*:2]))(C[*:2]))C(OCC)=O)=O"
    ],
    "conditions": "acid",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Petrenko-Kritschenko Piperidone Synthesis is a multi-component reaction involving a $\\beta$-keto ester, an aldehyde, and ammonia. The mechanism proceeds in a series of Mannich reactions and an imine condensation to form a piperidone ring. In the first step, ammonia and an aldehyde condense to form an imine. This is followed by a Mannich reaction where the enolate of the $\\beta$-keto ester attacks the iminium ion. The resulting intermediate then undergoes another imine condensation and subsequent intramolecular Mannich reaction to form the final piperidone product.",
    "mechanism_step_nums": 3,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "O=C(OCC)C([*:1])(C(N)C([*:2]))C(=O)C([*:1])C(=O)OCC",
        "step_weight": 0,
        "rationale": "Ammonia attacks the aldehyde carbonyl due to its high electrophilicity, and acid catalysis enhances carbonyl polarization, facilitating imine precursor formation."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "O=C(OCC)C([*:1])(C(N=C(C[*:2]))C([*:2]))C(=O)C([*:1])C(=O)OCC",
        "step_weight": 0,
        "rationale": "The β-keto ester enolate, stabilized by resonance, attacks the iminium carbon, favored by strong electrophilicity and acid-promoted enolization."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1(C([*:1])(C(NC(C([*:1])1C(OCC)=O)(C[*:2]))(C[*:2]))C(OCC)=O)=O",
        "step_weight": 0,
        "rationale": "Intramolecular attack is entropically favored; iminium electrophilicity and β-keto ester nucleophilicity drive cyclization to the thermodynamically stable piperidone."
      }
    ],
    "description": "Under acidic conditions, ammonia first condenses with the aldehyde to form an imine, which is electrophilic. The β-keto ester enolate then attacks this iminium ion in a Mannich-type step. A second imine formation and intramolecular Mannich cyclization yield the piperidone ring."
  },
  {
    "reaction_id": "NR-219",
    "level": "medium",
    "name": "Pfitzner-Moffatt oxidation",
    "reactants_smiles": [
      "O=S(C)C",
      "O=C(O)C",
      "OC([*:1])([*:2])",
      "[*:6]N=C=N[*:6]"
    ],
    "products_smiles": [
      "S(C)C",
      "O=C(O)C",
      "O=C([*:1])([*:2])",
      "[*:6]NC(=O)N[*:6]"
    ],
    "conditions": null,
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "N([*:6])=C(N([*:6]))O[S+](C)C",
        "rationale": "The carbodiimide oxygen attacks DMSO sulfur because sulfur is electrophilic and polarizable; this forms an activated sulfonium intermediate stabilized by resonance with the carbodiimide."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "N([*:6])=C(N([*:6]))OS(C)(C)[O]Cc3ccccc3",
        "rationale": "The activated sulfonium intermediate reacts with the alcohol oxygen, whose lone pairs attack the electrophilic sulfur, favored by the good leaving ability of the carbodiimide-derived group."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[NH]([*:6])C(=[NH+]([*:6]))OS(C)(C)OC([*:1])([*:2])",
        "rationale": "Proton transfer occurs to neutralize charges and generate a better leaving group; acid–base equilibrium is facilitated by the polar environment and the basic nitrogen atoms."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])([*:2])[O][S](=C)C",
        "rationale": "The alkoxide oxygen attacks the activated sulfur, forming a sulfonium alkoxysulfonium species; this step is driven by the high electrophilicity of the sulfur center."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=C([*:1])([*:2])",
        "rationale": "Elimination occurs as the leaving group departs, driven by the formation of a stable carbonyl and the favorable expulsion of a neutral dimethyl sulfide."
      }
    ],
    "description": "In the Pfitzner–Moffatt oxidation, DMSO is activated by a carbodiimide to form an electrophilic sulfonium species, which reacts with the alcohol. Subsequent proton transfers and elimination steps drive the conversion of the alcohol to a carbonyl compound under mild, non-aqueous conditions."
  },
  {
    "reaction_id": "NR-220",
    "level": "hard",
    "name": "Piancatelli Rearrangement",
    "reactants_smiles": "C(O)(c1occc1)([*:1])",
    "products_smiles": "C1C(O)C([*:1])C(=O)C=1",
    "conditions": "H+",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([OH2+])(c1occc1)([*:1])",
        "rationale": "Protonation of the hydroxyl group increases its leaving group ability by converting it into water, facilitated by the acidic medium."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "[CH+](c1occc1)[*:1]",
        "rationale": "Heterolytic cleavage releases neutral water, generating a resonance-stabilized carbocation adjacent to the electron-rich furan ring."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1=CC([OH2+])OC1=C[*:1]",
        "rationale": "The furan π-system attacks the carbocation, forming a new C–C bond; aromaticity loss is offset by carbocation stabilization."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1=CC([OH])[OH+]C1=C[*:1]",
        "rationale": "Proton transfer adjusts the charge distribution, preparing the intermediate for elimination by generating a better leaving group."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=[OH+])C=CC([OH])=C[*:1]",
        "rationale": "Elimination of a protonated hydroxyl group forms a conjugated enone system, driven by the stability of the α,β-unsaturated carbonyl."
      },
      {
        "step": 6,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1C(O)C([*:1])C(=O)C=1",
        "rationale": "Intramolecular nucleophilic attack by the hydroxyl group closes the cyclopentane ring, favored by proximity and relief of carbocation instability."
      }
    ],
    "description": "Under acidic conditions, the Piancatelli rearrangement proceeds via protonation-induced ring opening of the furan, generating a stabilized carbocation. Subsequent nucleophilic additions and proton transfers reorganize the skeleton, leading to cyclopentenone formation with hydroxyl substitution adjacent to the carbonyl."
  },
  {
    "reaction_id": "NR-221",
    "level": "hard",
    "name": "Pictet-Spengler Reaction",
    "reactants_smiles": [
      "NCCC1=CNC2=C1C=CC=C2",
      "O=C([*:1])([*:2])"
    ],
    "products_smiles": [
      "C1([*:1])([*:2])NCCC2=C1NC3=C2C=CC=C3"
    ],
    "conditions": null,
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])([*:2])=[NH+]C(CC1=CNC2=C1C=CC=C2)",
        "rationale": "The amine nitrogen attacks the electrophilic carbonyl carbon, facilitated by the electron-withdrawing effect of [*:1] and [*:2], forming an iminium ion stabilized by resonance with the nitrogen."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C1([*:1])([*:2])NCCC2C1=[NH+]C3=C2C=CC=C3",
        "rationale": "The electron-rich aromatic ring attacks the iminium carbon, driven by the strong electrophilicity of the iminium and the proximity in the tethered intermediate, favoring intramolecular cyclization."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C1([*:1])([*:2])NCCC2=C1NC3=C2C=CC=C3",
        "rationale": "Deprotonation adjacent to the nitrogen restores aromaticity, a thermodynamically favored process, stabilizing the fused heteroaromatic system."
      }
    ],
    "description": "The Pictet–Spengler reaction proceeds via iminium ion formation from the amine and carbonyl, followed by intramolecular electrophilic aromatic substitution to form the fused heterocycle, and concludes with deprotonation to restore aromaticity and yield the stable product."
  },
  {
    "reaction_id": "NR-222",
    "level": "medium",
    "name": "Pinacol Coupling",
    "reactants_smiles": "C1=CC=C(C=C1)C(=O)",
    "products_smiles": "C(O)([*:1])(C(O)([*:1])C([*:2])([*:3])[*:4])C([*:2])([*:3])[*:4]",
    "conditions": "Mg",
    "mechanism": [
      {
        "step": 1,
        "type": "radical",
        "subtype": "radical_coupling",
        "intermediate_smiles": "[CH]([*:1])O[Mg]O[CH]C([*:1])",
        "rationale": "Mg donates electrons to the carbonyls, forming ketyl radicals stabilized by resonance with the aromatic ring; radical–radical coupling is favored due to high radical concentration and proximity, forming a new C–C bond."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(C([*:1])O)O",
        "rationale": "The alkoxide oxygens, strongly basic after coupling, are protonated under workup conditions, driven by the thermodynamic stability of neutral diols and the high basicity of the alkoxide intermediates."
      }
    ],
    "description": "Under Mg-mediated conditions, the carbonyl groups are reduced to ketyl radicals, which couple to form a C–C bond between the former carbonyl carbons. Subsequent protonation of the alkoxide intermediates yields the vicinal diol product characteristic of the pinacol coupling."
  },
  {
    "reaction_id": "NR-223",
    "level": "medium",
    "name": "Pinacol Rearrangement",
    "reactants_smiles": "C([*:1])([*:2])(O)C(O)([*:3])([*:4])",
    "products_smiles": "C(=O)([*:1])C([*:2])([*:3])([*:4])",
    "conditions": "H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])(O)C([OH2+])([*:3])([*:4])",
        "rationale": "Protonation of the hydroxyl group increases its leaving group ability by converting OH into water, aided by the acidic medium."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "C([*:1])([*:2])(O)[C+]([*:3])([*:4])",
        "rationale": "Water departs as a neutral, stable molecule, generating a carbocation stabilized by adjacent oxygen through inductive and resonance effects."
      },
      {
        "step": 3,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C(=O)([*:1])C([*:2])([*:3])([*:4])",
        "rationale": "A 1,2-alkyl shift occurs to form a more stable carbocation adjacent to oxygen, enabling resonance stabilization and subsequent ketone formation."
      }
    ],
    "description": "Under acidic aqueous conditions, the diol undergoes protonation to activate one hydroxyl group, followed by loss of water to generate a carbocation. A 1,2-alkyl shift then stabilizes the cation via resonance with the adjacent oxygen, yielding the rearranged ketone."
  },
  {
    "reaction_id": "NR-224",
    "level": "hard",
    "name": "Pinner Reaction",
    "reactants_smiles": [
      "C([*:1])#N"
    ],
    "products_smiles": [
      "C([*:1])(=[NH2+])OCC"
    ],
    "conditions": "HCl, EtOH",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Pinner reaction is an organic reaction between a nitrile and an alcohol in the presence of an acid catalyst (like HCl) to form an imino ester (or Pinner salt). The reaction proceeds through a series of proton transfers, nucleophilic additions, and eliminations. First, the nitrogen atom of the nitrile is protonated by the acid. The alcohol then acts as a nucleophile, attacking the electrophilic carbon of the protonated nitrile. A subsequent proton transfer step generates a new intermediate, which, upon loss of a proton and a leaving group (ammonia in some variants, though not explicitly shown in this mechanism), leads to the final imino ester product.",
    "mechanism_step_nums": 7,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])#[NH+]",
        "step_weight": 0,
        "rationale": "Protonation of the nitrile nitrogen by HCl increases the electrophilicity of the adjacent carbon via inductive and resonance effects, making it more susceptible to nucleophilic attack."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])(=[NH])[OH+](CC)",
        "step_weight": 0,
        "rationale": "Ethanol, activated by the acidic medium, attacks the electrophilic nitrilium carbon, forming a tetrahedral intermediate stabilized by protonation."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(=[NH2+])OCC",
        "step_weight": 0,
        "rationale": "Proton transfer to the nitrogen generates a more stable cationic imidate species, facilitating subsequent nucleophilic addition steps."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])(N)([NH2])OCC",
        "step_weight": 0,
        "rationale": "A second nucleophilic addition occurs as ammonia-like nitrogen attacks the electrophilic carbon, driven by the high reactivity of the imidate intermediate."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(N)([NH2])[OH+]CC",
        "step_weight": 0,
        "rationale": "Protonation of the hydroxyl group converts it into a better leaving group by increasing its positive charge, preparing for elimination."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])(N)=[NH2+]",
        "step_weight": 0,
        "rationale": "Loss of the protonated hydroxyl group as water occurs readily under acidic conditions, driven by the stability of the resulting iminium ion."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N=C(N)C([*:1])",
        "step_weight": 0,
        "rationale": "Final proton transfer neutralizes the product, yielding the imino ester salt stabilized by resonance between C=N and the adjacent nitrogen."
      }
    ],
    "description": "Under strongly acidic conditions, the nitrile nitrogen is protonated, increasing electrophilicity at the carbon. Ethanol attacks, forming an imidate intermediate. Subsequent proton transfers and addition-elimination steps stabilize intermediates and expel leaving groups, yielding the imino ester (Pinner salt) product."
  },
  {
    "reaction_id": "NR-225",
    "level": "medium",
    "name": "Pinnick-Lindgren Oxidation",
    "reactants_smiles": [
      "C([*:1])C=O",
      "Cl(=O)([O-])"
    ],
    "products_smiles": [
      "C([*:1])C(=O)O"
    ],
    "conditions": "NaH2PO4, t-BuOH, 2-methyl-2-butene",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Pinnick-Lindgren oxidation converts an aldehyde to a carboxylic acid using sodium chlorite. The reaction is believed to proceed through a nucleophilic attack of the chlorite ion on the carbonyl carbon of the aldehyde. This is followed by a rearrangement and a ring-closing step to form a cyclic intermediate. The final product, the carboxylic acid, is generated upon a ring-opening and elimination of HClO. The phosphate buffer and a chlorine scavenger (like 2-methyl-2-butene) are often used to improve the yield and selectivity of the reaction.",
    "mechanism_step_nums": 2,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])C(O)O(Cl=O)",
        "step_weight": 0,
        "rationale": "The aldehyde carbonyl is highly electrophilic due to the polarized C=O bond, enabling nucleophilic attack by chlorite under buffered conditions, forming a tetrahedral intermediate stabilized by adjacent oxygen lone pairs."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "rearrangement",
        "intermediate_smiles": "C([*:1])C(=O)O",
        "step_weight": 0,
        "rationale": "Rearrangement proceeds as electron shifts favor formation of the more stable carboxylate, driven by strong thermodynamic stability of the C=O in acids and elimination of HClO as a good leaving group."
      }
    ],
    "description": "In the Pinnick-Lindgren oxidation, chlorite ion selectively oxidizes aldehydes to carboxylic acids under mild, buffered conditions. Nucleophilic attack on the electrophilic carbonyl initiates the process, followed by rearrangement to release oxidized product while minimizing side reactions via chlorine scavenging."
  },
  {
    "reaction_id": "NR-226",
    "level": "medium",
    "name": "Polonovski-Potier Reaction",
    "reactants_smiles": [
      "O=C(C(F)(F)F)OC(=O)C(F)(F)F",
      "C1CCC[N+]([O-])(C([*:1])([*:2])([*:3]))C1"
    ],
    "products_smiles": [
      "C1CCC[N+](C([*:1])([*:2])([*:3]))=C1"
    ],
    "conditions": "TFAA",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1CCC[N+]([O]C([O-])(C(F)(F)F)OC(=O)C(F)(F)F)(C([*:1])([*:2])([*:3]))C1",
        "rationale": "The N-oxide oxygen acts as a nucleophile toward the highly electrophilic carbonyl of TFAA, driven by strong electron withdrawal from CF3 groups, forming an activated intermediate."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1CCC[N+]([O]C(=O)C(F)(F)F)(C([*:1])([*:2])([*:3]))C1",
        "rationale": "The trifluoroacetate anion is an excellent leaving group due to resonance and inductive stabilization by CF3, enabling elimination to form the iminium intermediate."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C1CCC[N+](C([*:1])([*:2])([*:3]))=C1",
        "rationale": "Base-assisted deprotonation adjacent to the iminium center is favored, as it restores conjugation and yields the thermodynamically stable alkene product."
      }
    ],
    "description": "In the Polonovski-Potier reaction under TFAA activation, the N-oxide oxygen attacks the electrophilic anhydride, forming an activated intermediate. The trifluoroacetate group facilitates leaving group departure, generating an iminium species, which then undergoes deprotonation to yield the alkene product."
  },
  {
    "reaction_id": "NR-227",
    "level": "hard",
    "name": "Pomeranz-Fritsch Isoquinoline Synthesis",
    "reactants_smiles": [
      "O=C([*:1])c1ccccc1",
      "NC(C(O[*:2])(O[*:2]))c1ccccc1"
    ],
    "products_smiles": [
      "C1=CC=CC2=C1C=C(c3ccccc3)N=C([*:1])2"
    ],
    "conditions": "acidic conditions",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(c1ccccc1)([*:1])=NC(c1ccccc1)C(O[*:2])(O[*:2])",
        "rationale": "The amine nitrogen attacks the electrophilic carbonyl carbon, facilitated by acid activation of the carbonyl, forming a stabilized carbinolamine intermediate."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(c1ccccc1)([*:1])=NC(c1ccccc1)C(=[O+]CC)",
        "rationale": "Protonation of the hydroxyl group enhances its leaving ability, allowing water elimination to form an iminium ion stabilized by conjugation with the aromatic ring."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C(c1ccccc1)([*:1])=NC(c1ccccc1)=C([O]CC)",
        "rationale": "Loss of a proton adjacent to the iminium generates an enamine, driven by increased conjugation and relief of positive charge."
      },
      {
        "step": 4,
        "type": "cyclization",
        "subtype": "aromatic_electrophilic_substitution",
        "intermediate_smiles": "C(=C1C2C=CC=C1)([*:1])N=C(c1ccccc1)C2([O]CC)",
        "rationale": "The electron-rich aromatic ring attacks the electrophilic iminium carbon intramolecularly, favored by proximity and acid-promoted electrophilicity, forming the bicyclic framework."
      },
      {
        "step": 5,
        "type": "aromatization",
        "subtype": "dehydration",
        "intermediate_smiles": "C1=CC=CC3=C1C=C(C2=CC=CC=C2)N=C3([*:1])",
        "rationale": "Dehydration restores full aromaticity in the heterocyclic ring, a thermodynamically favorable step under acidic, dehydrating conditions."
      }
    ],
    "description": "Under acidic conditions, the amine condenses with the carbonyl to form an iminium intermediate, which undergoes dehydration and rearrangement. Subsequent intramolecular electrophilic aromatic substitution closes the isoquinoline ring, followed by dehydration-driven aromatization to yield the heteroaromatic product."
  },
  {
    "reaction_id": "NR-228",
    "level": "easy",
    "name": "Prilezhaev Reaction",
    "reactants_smiles": [
      "C([*:1])=C([*:2])([*:3])",
      "[*:4]C(=O)O[*:5]"
    ],
    "products_smiles": [
      "C([*:1])1OC1([*:2])[*:3]"
    ],
    "conditions": "Peroxy acid",
    "mechanism_step_nums": 1,
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C([*:1])1OC1([*:2])[*:3]",
        "step_weight": 0,
        "rationale": "The alkene π electrons attack the electrophilic oxygen of the peroxy acid due to its polarization by the adjacent carbonyl, enabling a concerted transition state that minimizes charge separation and forms the epoxide efficiently."
      }
    ],
    "description": "The alkene undergoes electrophilic addition with the peroxy acid in a concerted Prilezhaev epoxidation, where the π bond attacks the electrophilic terminal oxygen of the peracid, forming a three-membered epoxide ring in a single step under mild conditions."
  },
  {
    "reaction_id": "NR-229",
    "level": "medium",
    "name": "Prins Reaction",
    "reactants_smiles": [
      "O=C([*:1])([*:2])",
      "C([*:3])=C([*:4])([*:5])",
      "O"
    ],
    "products_smiles": [
      "C([OH])([*:4])([*:5])C([*:3])(C(O)([*:1])([*:2]))"
    ],
    "conditions": "acidic conditions",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=[OH+])([*:1])([*:2])",
        "rationale": "Protonation of the carbonyl oxygen increases the electrophilicity of the carbonyl carbon via resonance and inductive effects, making it more susceptible to nucleophilic attack by the alkene."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "[C+]([*:4])([*:5])C([*:3])(C(O)([*:1])([*:2]))",
        "rationale": "The electron-rich alkene attacks the activated carbonyl carbon, forming a carbocation stabilized by adjacent substituents and the oxygen atom through inductive and hyperconjugative effects."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([OH2+])([*:4])([*:5])C([*:3])(C(O)([*:1])([*:2]))",
        "rationale": "Water, abundant under acidic conditions, acts as a nucleophile and attacks the carbocation center, favored by the high electrophilicity and lack of steric hindrance at that position."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([OH])([*:4])([*:5])C([*:3])(C(O)([*:1])([*:2]))",
        "rationale": "Deprotonation of the oxonium intermediate restores neutrality, driven by the stability of the neutral alcohol and the presence of a suitable base in the medium."
      }
    ],
    "description": "Under acidic conditions, the carbonyl is protonated to enhance electrophilicity, enabling the alkene to attack and form a carbocation. Water then adds to the carbocation, and final deprotonation yields the Prins reaction product with hydroxyl substitution."
  },
  {
    "reaction_id": "NR-230",
    "level": "hard",
    "name": "Pummerer Rearrangement",
    "reactants_smiles": [
      "O=C(C)OC(=O)C",
      "S(=O)(C[*:1])([*:2])"
    ],
    "products_smiles": "O=C(C)OC([*:1])S([*:2])",
    "conditions": "Acetic anhydride",
    "reaction_image_path": "a relative address",
    "mechnism_text_description": "The Pummerer rearrangement is a reaction that transforms an alkyl sulfoxide into an α-acyloxy sulfide. The reaction is initiated by the protonation of the sulfoxide oxygen by a strong acid or activation with an electrophile. The intermediate formed is an oxysulfonium salt, which is then attacked by a nucleophile, usually the conjugate base of the acid used for activation. The final product is formed through a rearrangement and a deprotonation step.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "a relative address",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[S+](OC([O-])(C)OC(=O)C)(C[*:1])([*:2])",
        "rationale": "Acetic anhydride acylates the sulfoxide oxygen due to its high electrophilicity, generating an oxysulfonium ion stabilized by resonance with sulfur, making the α-protons more acidic."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[S+](OC(=[O])(C))(C[*:1])([*:2])",
        "rationale": "Elimination of acetate occurs because it is a good leaving group, forming a sulfonium species with an electron-deficient α-carbon primed for rearrangement."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[S+](=C[*:1])([*:2])",
        "rationale": "The α-carbon adjacent to the positively charged sulfur becomes electrophilic, enabling intramolecular rearrangement via C–S bond migration to stabilize the cation."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=C(C)OC([*:1])S([*:2])",
        "rationale": "Acetate attacks the α-carbon, displacing the sulfonium charge and forming the α-acyloxy sulfide, driven by the nucleophilicity of acetate and product stability."
      }
    ],
    "description": "In acetic anhydride, the sulfoxide oxygen is activated toward rearrangement by electrophilic acylation, forming an oxysulfonium intermediate. This facilitates α-proton removal and rearrangement to a stabilized cation, which is trapped by acetate to yield the α-acyloxy sulfide product."
  },
  {
    "reaction_id": "NR-231",
    "name": "Seyferth-Gilbert Homologation",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])([H])",
      "[*:2]OP(=O)(O[*:2])C=[N+]=[N-]"
    ],
    "products_smiles": [
      "C#[C][*:1]"
    ],
    "conditions": "[O-]C(C)(C)C",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:2]OP(=O)(O[*:2])[C-]=[N+]=[N-]",
        "rationale": "Strong base deprotonates the acidic methylene adjacent to the phosphonate, stabilized by resonance with the electron-withdrawing phosphonate and diazo group."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2]OP(=O)(O[*:2])C(=[N+]=[N-])C([O-])([*:1])([H])",
        "rationale": "The nucleophilic carbanion attacks the electrophilic aldehyde carbon, driven by the strong polarization of the C=O bond and stabilization of the alkoxide intermediate."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2]OP1([O-])(O[*:2])C(=[N+]=[N-])C(O1)([*:1])([H])",
        "rationale": "Intramolecular cyclization occurs as the alkoxide attacks the electrophilic phosphorus, favored by proximity and relief of negative charge through P–O bond formation."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C=[N+]=[N-])([*:1])([H])",
        "rationale": "Elimination of the phosphonate leaving group is promoted by its resonance stabilization and the driving force of forming a conjugated diazoalkene."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=[C])([*:1])([H])",
        "rationale": "Loss of nitrogen gas from the diazo group is highly favorable due to the extreme stability of N₂, generating a reactive carbene or alkyne precursor."
      },
      {
        "step": 6,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C#[C][*:1]",
        "rationale": "A 1,2-shift rearranges substituents to form the thermodynamically stable terminal alkyne, driven by formation of a strong C≡C bond."
      }
    ],
    "description": "Under basic conditions, the Seyferth–Gilbert homologation converts aldehydes to terminal alkynes via deprotonation of the phosphonate reagent, nucleophilic addition to the carbonyl, cyclization, and sequential eliminations, followed by a rearrangement that forms the C≡C bond. The base promotes anionic intermediates and facilitates leaving group departure."
  },
  {
    "reaction_id": "NR-235",
    "level": "medium",
    "name": "Smiles Rearrangement",
    "reactants_smiles": [
      "[*:1]NC(=O)C([*:2])([*:3])Oc1ccc([*:4])cc1",
      "CC[O-]"
    ],
    "products_smiles": [
      "[*:1]N(c1ccc([*:4])cc1)C(=O)C([*:2])([*:3])O"
    ],
    "conditions": "CCO",
    "reaction_image_path": "f52b5b2483955fc4f281161cd025ad75.png",
    "mechnism_text_description": "The Smiles rearrangement is an intramolecular nucleophilic aromatic substitution reaction. The mechanism is initiated by a base-catalyzed deprotonation of a nucleophilic group (here, an amide), creating an anion. This anion then performs an intramolecular nucleophilic attack on the electron-deficient aromatic ring, forming a spirocyclic Meisenheimer complex. This intermediate is unstable and collapses by cleaving the bond between the aromatic ring and the original linking atom (an ether oxygen), which restores aromaticity. The resulting alkoxide is then protonated in the final step to yield the rearranged product. Note: The mechanism shown leads to a hydroxyacetamide product, while the final structure drawn in the image appears to be a carboxylic acid, which would require a subsequent hydrolysis step not depicted.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "f52b5b2483955fc4f281161cd025ad75.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1][N-]C(=O)C([*:2])([*:3])Oc1ccc([*:4])cc1",
        "step_weight": 0,
        "rationale": "Ethanol’s conjugate base deprotonates the amide nitrogen, increasing its nucleophilicity via negative charge delocalization onto the carbonyl oxygen."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[CH-]1C2(C=CC([*:4])=C1)OC([*:2])([*:3])C(N2[*:1])=O",
        "step_weight": 0,
        "rationale": "The nitrogen anion attacks the electron-deficient aromatic ring ortho/para to the ether linkage, favored by resonance stabilization of the Meisenheimer complex."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]N(c1ccc([*:4])cc1)C(=O)C([*:2])([*:3])[O-]",
        "step_weight": 0,
        "rationale": "The intermediate collapses, expelling the alkoxide leaving group to restore aromaticity, a strong thermodynamic driving force."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]N(c1ccc([*:4])cc1)C(=O)C([*:2])([*:3])O",
        "step_weight": 0,
        "rationale": "The alkoxide oxygen is protonated by solvent ethanol, yielding the neutral hydroxyacetamide product."
      }
    ],
    "description": "Under basic ethanol conditions, the amide nitrogen is deprotonated to form a strong nucleophile. This anion attacks the electron-deficient aromatic ring intramolecularly, forming a Meisenheimer complex. Collapse of this intermediate expels the alkoxide, restoring aromaticity, and protonation yields the rearranged hydroxyacetamide."
  },
  {
    "reaction_id": "NR-236",
    "level": "medium",
    "name": "Sommelet Reaction",
    "reactants_smiles": [
      "[*:1]C([*:2])Br",
      "C1N2CN3CN1CN(C2)C3"
    ],
    "products_smiles": [
      "[*:1]C([*:2])=O"
    ],
    "conditions": "H2O",
    "reaction_image_path": "image_4adc66.png",
    "mechnism_text_description": "The reaction initiates with the nucleophilic attack of hexamine on the benzylic bromide, forming a quaternary ammonium salt. This salt then undergoes a [2,3]-sigmatropic rearrangement (a process related to the Sommelet-Hauser rearrangement) to form an iminium ion. The final stage is the hydrolysis of this iminium ion, which involves the nucleophilic addition of water to form a carbinolamine intermediate, followed by the elimination of an amine to yield the final aldehyde product.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "image_4adc66.png",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C1N2CN3CN1C[N+](C([*:1])([*:2]))(C2)C3",
        "step_weight": 0,
        "rationale": "The benzylic carbon is highly electrophilic due to resonance stabilization of the developing cation, and bromide is a good leaving group, enabling nucleophilic substitution by hexamine to form a stable quaternary ammonium salt."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C1N2[CH2]N(C[N+]1=[CH2])CN(C2)C([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "The quaternary ammonium salt undergoes [2,3]-sigmatropic rearrangement driven by relief of ring strain and formation of a conjugated iminium system, which is stabilized by adjacent aromatic or electron-donating effects."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[CH2]1N2CN(C[N]1C)C[N+](C2)=C([*:1])([*:2])",
        "step_weight": 0,
        "rationale": "Water, abundant under the reaction conditions, attacks the electrophilic iminium carbon due to its strong partial positive charge, forming a carbinolamine intermediate stabilized by adjacent nitrogen."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[*:1]C([*:2])=O",
        "step_weight": 0,
        "rationale": "The carbinolamine eliminates the amine, favored by the stability of the departing amine and the formation of a strong C=O bond in the aldehyde product."
      }
    ],
    "description": "Hexamine attacks the benzylic bromide to form a stable quaternary ammonium salt, which rearranges via a [2,3]-sigmatropic shift to an iminium ion. Hydrolysis under aqueous conditions converts the iminium to a carbinolamine, which eliminates amine to yield the aldehyde."
  },
  {
    "reaction_id": "NR-237",
    "level": "medium",
    "name": "Staudinger Reaction",
    "reactants_smiles": [
      "[*:1]N=[N+]=[N-]",
      "P([*:2])([*:3])([*:4])"
    ],
    "products_smiles": [
      "[*:1]N",
      "O=P([*:2])([*:3])([*:4])"
    ],
    "conditions": "H2O",
    "reaction_image_path": "image_1289aa.png",
    "mechnism_text_description": "The Staudinger reaction converts an organic azide into a primary amine using a phosphine, typically triphenylphosphine. The mechanism is initiated by the nucleophilic attack of the phosphine on the terminal nitrogen of the azide, forming a phosphazide intermediate. This intermediate undergoes cyclization to a four-membered phosphatriazene ring, which is unstable and collapses to eliminate dinitrogen gas (N2), yielding an iminophosphorane. Subsequent hydrolysis of the iminophosphorane, involving protonation and nucleophilic attack by water, leads to the formation of the final amine product and phosphine oxide as a byproduct.",
    "mechanism_step_nums": 6,
    "mechanism_image_path": "image_1289aa.png",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]N=[N+]=N[P+]([*:2])([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "The lone pair on phosphorus attacks the electrophilic terminal nitrogen of the azide, favored by the high polarizability and nucleophilicity of phosphorus and the electron deficiency at the azide terminus."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]N1N=NP1([*:2])([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "Intramolecular attack by the internal nitrogen on phosphorus forms a strained four-membered phosphatriazene ring, driven by proximity and the strong P–N bond formation."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]N=P([*:2])([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "The unstable ring collapses, expelling N₂, a very stable leaving group, to form the iminophosphorane, driven by entropic gain and N₂ stability."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1][NH+]=P([*:2])([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "Protonation of the iminophosphorane nitrogen increases electrophilicity at phosphorus, activating it toward nucleophilic attack by water."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]N[P](O)([*:2])([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "Water attacks the electrophilic phosphorus center, favored by the strong thermodynamic drive to form a P=O bond and the activation from prior protonation."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]N",
        "step_weight": 0,
        "rationale": "Collapse of the intermediate expels the amine, driven by the stability of the P=O bond and relief of electronic strain on phosphorus."
      }
    ],
    "description": "In the Staudinger reaction, the phosphine nucleophilically attacks the azide to form a phosphazide, which cyclizes and eliminates N₂ to give an iminophosphorane. Hydrolysis under aqueous conditions then converts this intermediate into a primary amine and phosphine oxide, driven by strong P=O bond formation."
  },
  {
    "reaction_id": "NR-238",
    "level": "medium",
    "name": "Steglich Esterification",
    "reactants_smiles": [
      "[*:1]C(=O)O",
      "[*:3]N=C=N[*:4]",
      "[*:2]O",
      "CN(C)c1ccncc1"
    ],
    "products_smiles": [
      "[*:2]OC(=O)[*:1]"
    ],
    "conditions": "",
    "reaction_image_path": "image_128d4c.png",
    "mechnism_text_description": "The Steglich esterification is a mild method for forming esters from carboxylic acids and alcohols using dicyclohexylcarbodiimide (DCC) as a coupling agent and a catalyst like 4-dimethylaminopyridine (DMAP). The mechanism begins with the carboxylic acid adding to the DCC to form a highly reactive O-acylisourea intermediate. The DMAP catalyst then attacks this intermediate to form an N-acylpyridinium ion, which is even more reactive. Finally, the alcohol attacks this activated species, and the subsequent collapse of the tetrahedral intermediate yields the desired ester and regenerates the DMAP catalyst.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "image_128d4c.png",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C(=O)OC(=[NH+][*:3])N[*:4]",
        "step_weight": 0,
        "rationale": "The carboxylate oxygen attacks the electrophilic carbon of DCC due to its strong polarization by adjacent nitrogens, forming a reactive O-acylisourea intermediate stabilized by resonance."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "CN(C)c1cc[n+](cc1)C(=O)[*:1]",
        "step_weight": 0,
        "rationale": "DMAP, a nucleophilic catalyst with an electron-rich pyridine nitrogen, displaces the isourea group via nucleophilic substitution, forming a more electrophilic N-acylpyridinium ion."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "CN(C)c1cc[n+](cc1)C([O-])(O[*:2])[*:1]",
        "step_weight": 0,
        "rationale": "The alcohol oxygen attacks the highly activated acyl carbon of the N-acylpyridinium ion, favored by the strong electron-withdrawing effect of the pyridinium group."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:2]OC(=O)[*:1]",
        "step_weight": 0,
        "rationale": "Collapse of the tetrahedral intermediate expels DMAP as a good leaving group, driven by restoration of carbonyl conjugation, yielding the ester product."
      }
    ],
    "description": "In the Steglich esterification, DCC activates the carboxylic acid to form an O-acylisourea intermediate, which is further activated by DMAP to an N-acylpyridinium species. This highly electrophilic intermediate undergoes nucleophilic attack by the alcohol, followed by elimination to yield the ester under mild conditions."
  },
  {
    "reaction_id": "NR-239",
    "level": "medium",
    "name": "Stetter Reaction",
    "reactants_smiles": [
      "[*:1]C(=O)[H]",
      "C([*:3])=C([*:4])C(=O)[*:2]",
      "[C-]#N"
    ],
    "products_smiles": [
      "[*:2]C(=O)C([*:4])C([*:3])C(=O)[*:1]"
    ],
    "conditions": "",
    "reaction_image_path": "image_129147.png",
    "mechnism_text_description": "The Stetter reaction is a nucleophilic-catalyst-mediated process for forming 1,4-dicarbonyl compounds. The mechanism is initiated by the nucleophilic attack of the catalyst (e.g., cyanide or a thiazolium ylide) on an aldehyde, leading to a cyanohydrin anion. A proton transfer generates the key nucleophilic Breslow intermediate. This intermediate then undergoes a conjugate addition (Michael addition) to an α,β-unsaturated acceptor. A final sequence of proton transfer and catalyst elimination yields an enol, which tautomerizes to the stable 1,4-dicarbonyl product.",
    "mechanism_step_nums": 5,
    "mechanism_image_path": "image_129147.png",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C([O-])C#N",
        "step_weight": 0,
        "rationale": "Cyanide attacks the electrophilic carbonyl carbon of the aldehyde due to its strong nucleophilicity and the polarization of the C=O bond, forming a stabilized cyanohydrin anion."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1][C-](O)C#N",
        "step_weight": 0,
        "rationale": "Proton transfer occurs to generate the Breslow-type intermediate, driven by stabilization through resonance between the alkoxide and adjacent carbon."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C(O)(C#N)C([*:3])C([*:4])=C([O-])[*:2]",
        "step_weight": 0,
        "rationale": "The nucleophilic Breslow intermediate attacks the β-carbon of the α,β-unsaturated carbonyl via conjugate addition, favored by resonance stabilization of the resulting enolate."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C([O-])(C#N)C([*:3])C([*:4])C(=O)[*:2]",
        "step_weight": 0,
        "rationale": "Proton transfer converts the enolate into a neutral alcohol, driven by the high basicity of the enolate and the availability of proton donors in the medium."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:2]C(=O)C([*:4])C([*:3])C(=O)[*:1]",
        "step_weight": 0,
        "rationale": "Elimination of cyanide regenerates the catalyst, favored by the formation of a conjugated carbonyl system and the good leaving group ability of cyanide under these conditions."
      }
    ],
    "description": "In the Stetter reaction, a nucleophilic catalyst such as cyanide activates the aldehyde to form a Breslow-type intermediate, which then performs a Michael addition to an α,β-unsaturated carbonyl. Subsequent proton transfers and catalyst elimination yield the thermodynamically stable 1,4-dicarbonyl product."
  },
  {
    "reaction_id": "NR-240",
    "level": "medium",
    "name": "Stevens Rearrangement",
    "reactants_smiles": [
      "[*:1]C(=O)C([*:2])[N+]([*:3])([*:4])[*:5]",
      "[Li]N(C(C)C)C(C)C"
    ],
    "products_smiles": [
      "[*:1]C(=O)C([*:2])([*:5])N([*:3])([*:4])"
    ],
    "conditions": "",
    "reaction_image_path": "image_12954b.png",
    "mechnism_text_description": "The Stevens rearrangement is the conversion of a quaternary ammonium salt to a tertiary amine, initiated by a strong base. In this variant, a base like lithium diisopropylamide (LDA) deprotonates the carbon positioned between the carbonyl and the ammonium group, generating a nitrogen ylide intermediate. This ylide then undergoes a concerted [1,2]-sigmatropic shift, where one of the alkyl groups (here, a benzyl group) migrates from the nitrogen to the adjacent carbanionic carbon. This rearrangement step forms the final, more stable tertiary amine product.",
    "mechanism_step_nums": 2,
    "mechanism_image_path": "image_12954b.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C([O-])=C([*:2])[N+]([*:3])([*:4])[*:5]",
        "step_weight": 0,
        "rationale": "LDA selectively deprotonates the α-carbon due to enhanced acidity from carbonyl resonance and the inductive electron-withdrawing effect of the positively charged nitrogen."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "[*:1]C(=O)C([*:2])([*:5])N([*:3])([*:4])",
        "step_weight": 0,
        "rationale": "The nitrogen ylide rearranges via a [1,2]-shift because migration relieves charge separation and forms a stable tertiary amine, favored by the ability of the migrating group to stabilize developing negative charge."
      }
    ],
    "description": "A strong, non-nucleophilic base deprotonates the acidic α-carbon between the carbonyl and quaternary ammonium, forming a nitrogen ylide stabilized by resonance with the carbonyl. This ylide undergoes a [1,2]-alkyl shift, yielding a more stable tertiary amine product."
  },
  {
    "reaction_id": "NR-241",
    "level": "medium",
    "name": "Still-Gennari Reaction",
    "reactants_smiles": [
      "[*:1]C(=O)[H]",
      "[*:2]OC(=O)CP(=O)(O[*:3])(O[*:4])",
      "[N-]([Si](C)(C)C)[Si](C)(C)C"
    ],
    "products_smiles": [
      "[*:1]/C=C\\C(=O)O[*:2]"
    ],
    "conditions": "",
    "reaction_image_path": "image_12988e.png",
    "mechnism_text_description": "The Still-Gennari reaction is a stereoselective variation of the Horner-Wadsworth-Emmons reaction that preferentially forms (Z)-alkenes. It employs a phosphonate reagent bearing electron-withdrawing groups (like trifluoroethoxy) and a strong, non-nucleophilic base. The mechanism starts with the base deprotonating the phosphonate reagent to create a nucleophilic carbanion. This carbanion adds to an aldehyde, forming a tetrahedral alkoxide intermediate. The key to (Z)-selectivity is the rapid, irreversible cyclization of this intermediate to an oxaphosphetane, which then quickly collapses to eliminate a phosphate byproduct and give the (Z)-alkene.",
    "mechanism_step_nums": 4,
    "mechanism_image_path": "image_12988e.png",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:2]OC(=O)[CH-]P(=O)(O[*:3])(O[*:4])",
        "step_weight": 0,
        "rationale": "The strong, non-nucleophilic base removes the acidic α-proton next to the phosphonate, stabilized by electron-withdrawing ester and phosphoryl groups via resonance and inductive effects."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2]OC(=O)C(P(=O)(O[*:3])(O[*:4]))C([O-])[*:1]",
        "step_weight": 0,
        "rationale": "The nucleophilic carbanion attacks the electrophilic carbonyl carbon of the aldehyde, driven by the strong polarization of the C=O bond and minimal steric hindrance."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2]OC(=O)C1C([*:1])OP1([O-])(O[*:3])(O[*:4])",
        "step_weight": 0,
        "rationale": "Intramolecular cyclization to the oxaphosphetane is favored due to proximity effects and stabilization from the phosphoryl oxygen, locking in the (Z)-geometry."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]/C=C\\C(=O)O[*:2]",
        "step_weight": 0,
        "rationale": "Collapse of the oxaphosphetane eliminates the phosphate group, a good leaving group stabilized by resonance, to form the thermodynamically favored (Z)-alkene ester."
      }
    ],
    "description": "A strong, non-nucleophilic base deprotonates the electron-withdrawing phosphonate to form a stabilized carbanion, which adds to the aldehyde. Rapid cyclization to an oxaphosphetane intermediate ensures (Z)-selectivity, followed by elimination of the phosphate to yield the (Z)-alkene ester."
  },
  {
    "reaction_id": "NR-242",
    "name": "Stobbe Condensation",
    "level": "hard",
    "reactants_smiles": [
      "C(=O)([*:1])([*:2])",
      "C(=O)(O[*:3])CCC(=O)(O[*:3])"
    ],
    "products_smiles": [
      "C(=C(C(=O)O[*:3])CC(=O)O)([*:1])([*:2])"
    ],
    "conditions": "1. Base (e.g. NaOMe), 2. H3O+",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([O-])([*:1])([*:2])C(C(=O)O[*:3])CC(=O)O[*:3]",
        "rationale": "Base deprotonates the α-position of [*:1]–[*:2] ketone, generating an enolate stabilized by resonance with the carbonyl, which then attacks the electrophilic ester carbonyl of the diester."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1([*:1])([*:2])C(C(=O)O[*:3])CC([O-])(O[*:3])O1",
        "rationale": "Intramolecular nucleophilic attack occurs as the alkoxide oxygen attacks another ester carbonyl, favored by proximity and formation of a five-membered cyclic intermediate."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1([*:1])([*:2])C(C(=O)O[*:3])CC(=O)O1",
        "rationale": "The alkoxide eliminates the alkoxy group from the ester, as the leaving group is stabilized by resonance with the adjacent carbonyl, forming a lactone."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1([*:1])([*:2])[C-](C(=O)O[*:3])CC(=O)O1",
        "rationale": "Base abstracts an acidic α-proton adjacent to the lactone carbonyl, generating an enolate stabilized by conjugation with the carbonyl group."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C(C(=O)O[*:3])CC(=O)[O-])([*:1])([*:2])",
        "rationale": "The enolate facilitates elimination of the alkoxide from the lactone, opening the ring and forming a conjugated α,β-unsaturated diester anion, driven by extended conjugation."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=C(C(=O)O[*:3])CC(=O)O)([*:1])([*:2])",
        "rationale": "Acidic work-up protonates the carboxylate anion, yielding the neutral α,β-unsaturated diacid product."
      }
    ],
    "description": "Under basic conditions, the Stobbe condensation proceeds via nucleophilic attack of an enolate on a diester, forming a cyclic intermediate. Sequential eliminations and proton transfers lead to an α,β-unsaturated diacid framework after acid work-up, driven by resonance stabilization and relief of ring strain."
  },
  {
    "reaction_id": "NR-243",
    "name": "Stollé Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "N(c1ccccc1)([*:1])",
      "O=C(Cl)CCl"
    ],
    "products_smiles": [
      "O=C1Cc2c(N1[*:1])cccc2"
    ],
    "conditions": "AlCl3",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "O=C(CCl)[NH+](c1ccccc1)([*:1])",
        "rationale": "The amine nitrogen attacks the electrophilic carbonyl carbon of dichloroacetyl chloride, favored by the strong electron-withdrawing effect of the carbonyl and chloride, leading to chloride displacement."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C(CCl)N(c1ccccc1)([*:1]).[Al](Cl)(Cl)Cl",
        "rationale": "Proton transfer neutralizes the positively charged nitrogen, driven by acid-base equilibrium under Lewis acidic conditions, stabilizing the amide intermediate."
      },
      {
        "step": 3,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "O=C(CCl([Al-](Cl)(Cl)Cl))N(c1ccccc1)([*:1])",
        "rationale": "AlCl3 coordinates to the carbonyl oxygen, increasing the electrophilicity of the adjacent carbon and facilitating subsequent intramolecular electrophilic attack."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "electrophilic_substitution",
        "intermediate_smiles": "C1=CC=CC2=[N+](C(CC12)=O)([*:1])",
        "rationale": "The activated carbonyl enables intramolecular electrophilic aromatic substitution, where the aromatic ring attacks the electrophilic carbon, favored by proximity and ring closure thermodynamics."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "O=C1Cc2c(N1[*:1])cccc2",
        "rationale": "Loss of the leaving group restores aromaticity and completes lactam ring formation, driven by the stability of the fused aromatic-lactam system."
      }
    ],
    "description": "In the Stollé synthesis, the amine first undergoes nucleophilic substitution with dichloroacetyl chloride, followed by proton transfer and Lewis acid coordination to activate the carbonyl. Electrophilic aromatic substitution then forms the heterocyclic ring, and elimination yields the fused lactam product under AlCl3 catalysis."
  },
  {
    "reaction_id": "NR-244",
    "name": "Stork Enamine Synthesis",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])(=C)N1CCCC1",
      "C([*:4])Br"
    ],
    "products_smiles": [
      "C(=O)([*:1])CC([*:4])"
    ],
    "conditions": "H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])(=[N+]1CCCC1)CC([*:4])",
        "rationale": "The enamine's electron-rich α-carbon attacks the electrophilic carbon in the alkyl halide via SN2, favored by the good leaving ability of bromide and minimal steric hindrance at the electrophilic site."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([*:1])(N1CCCC1)(CC[*:4])[OH2+]",
        "rationale": "Water, activated by the iminium's strong electrophilicity, adds to the iminium carbon due to resonance stabilization of the positive charge on nitrogen, facilitating nucleophilic attack."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([NH+]1CCCC1)(CC[*:4])O",
        "rationale": "Proton transfer from the oxonium to nitrogen relieves positive charge on oxygen, stabilizing the intermediate and preparing for C–N bond cleavage."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])(=[OH+])CC([*:4])",
        "rationale": "Elimination of the amine occurs as nitrogen's lone pair reforms, expelling it as a leaving group; the driving force is formation of the strong C=O double bond."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([*:1])CC([*:4])",
        "rationale": "Deprotonation of the protonated carbonyl restores neutrality, favored by the stability of the neutral ketone under aqueous conditions."
      }
    ],
    "description": "The enamine acts as a nucleophile toward the alkyl halide via SN2, forming an iminium intermediate. Subsequent aqueous hydrolysis converts the iminium to a carbonyl through nucleophilic addition of water, proton transfers, and elimination, yielding the ketone product."
  },
  {
    "reaction_id": "NR-245",
    "name": "Swern Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C(O)([*:1])([*:2])",
      "CS(C)=O",
      "O=C(Cl)C(=O)Cl",
      "CCN(CC)CC"
    ],
    "products_smiles": [
      "C(=O)([*:1])([*:2])"
    ],
    "conditions": "Low temperature (-78 °C)",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C[S+](C)OC([O-])(Cl)C(=O)Cl",
        "rationale": "DMSO oxygen attacks electrophilic carbonyl of oxalyl chloride due to strong polarization, forming a chlorosulfonium intermediate stabilized by resonance with sulfur."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C[S+](C)OC(=O)C(=O)Cl",
        "rationale": "Chloride leaves as CO2 is expelled, driven by formation of stable gaseous products and relief of electron density on sulfur."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C[S+](C)Cl",
        "rationale": "Further elimination of CO gas occurs, favored by thermodynamic stability of gaseous products and increased electrophilicity of the sulfonium species."
      },
      {
        "step": 4,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C([*:1])([*:2])O[S](Cl)(C)C",
        "rationale": "Alcohol oxygen attacks the highly electrophilic sulfonium center, facilitated by low temperature preventing side reactions and by good leaving group potential of chloride."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])O[S](=C)C",
        "rationale": "Base-induced elimination removes a proton adjacent to oxygen, forming an alkoxysulfonium ylide stabilized by adjacent heteroatoms."
      },
      {
        "step": 6,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "C(=O)([*:1])([*:2])",
        "rationale": "The ylide undergoes a [2,3]-sigmatropic rearrangement, driven by relief of charge separation and formation of the stable carbonyl product."
      }
    ],
    "description": "In the Swern oxidation, DMSO is activated by oxalyl chloride at low temperature to form an electrophilic sulfonium species. The alcohol attacks this intermediate, leading to an alkoxysulfonium salt. Subsequent elimination and rearrangement steps yield the aldehyde or ketone product under mild, non-aqueous conditions, avoiding overoxidation."
  },
  {
    "reaction_id": "NR-300",
    "level": "hard",
    "name": "Seyfert-Gilbert Homologation",
    "reactants_smiles": [
      "O=C([H])([*:1])",
      "COP(=O)(OC)C=[N+]=[N-]"
    ],
    "products_smiles": [
      "[*:1]C#C"
    ],
    "conditions": "tert-Butoxide",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "COP(=O)(OC)[C-]=[N+]=[N-]",
        "rationale": "tert-Butoxide deprotonates the acidic methylene between phosphonate and diazo groups, stabilized by resonance with the phosphonate and diazo moieties."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C([H])(C(P(=O)(OC)OC)=[N+]=[N-])[O-]",
        "rationale": "The nucleophilic carbanion attacks the electrophilic aldehyde carbon, driven by the strong polarization of the C=O bond and lack of steric hindrance at [*:1]."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "intramolecular_nucleophilic_addition",
        "intermediate_smiles": "[*:1]C1([H])C(P(O1)([O-])(OC)(OC))=[N+]=[N-]",
        "rationale": "The alkoxide oxygen attacks the phosphorus intramolecularly, favored by proximity and the electrophilicity of phosphorus enhanced by electron-withdrawing substituents."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "cycloreversion",
        "intermediate_smiles": "[*:1]C([H])=C=[N+]=[N-]",
        "rationale": "Cycloreversion occurs as the strained cyclic intermediate breaks, releasing the diazo functionality and forming a cumulene, driven by relief of ring strain."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]C([H])=[C]",
        "rationale": "Loss of nitrogen gas from the diazo group is highly favorable due to the stability of N2, generating a reactive carbene or vinylidene intermediate."
      },
      {
        "step": 6,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "[*:1]C#C",
        "rationale": "A 1,2-shift rearranges the vinylidene to the thermodynamically stable terminal alkyne, driven by formation of a strong C≡C bond."
      }
    ],
    "description": "Under strong basic conditions, the Seyferth–Gilbert homologation converts aldehydes into terminal alkynes via deprotonation of the diazomethylphosphonate, nucleophilic addition to the carbonyl, cycloaddition, and stepwise elimination to form the alkyne through a rearrangement."
  },
  {
    "reaction_id": "NR-301",
    "level": "medium",
    "name": "Shapiro reaction",
    "reactants_smiles": [
      "C(=N[N-]S(=O)(=O)c1ccc(C)cc1)([*:3])C([*:1])([*:2])",
      "CCCC[Li]"
    ],
    "products_smiles": [
      "C([*:1])([*:2])=C([*:3])"
    ],
    "conditions": "n-BuLi (2 equiv.), then H2O workup",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=N[N-]S(=O)(=O)c1ccc(C)cc1)([*:3])C([*:1])([*:2])",
        "rationale": "n-BuLi deprotonates the hydrazone NH due to its strong basicity, facilitated by resonance stabilization of the resulting anion by the sulfonyl group."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=N[N-]S(=O)(=O)c1ccc(C)cc1)([*:3])[C([*:1])([*:2])-]",
        "rationale": "A second equivalent of n-BuLi deprotonates the α-carbon, favored by the electron-withdrawing tosylhydrazone moiety which stabilizes the adjacent carbanion."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])=C(N=[N-])[*:3]",
        "rationale": "The α-carbanion promotes elimination of the tosylate anion, driven by the good leaving group ability of the tosyl group and formation of a diazo intermediate."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])([*:2])=[C-][*:3]",
        "rationale": "The diazo compound loses N₂ gas, a highly favorable step due to the thermodynamic stability of nitrogen and formation of a reactive vinyllithium species."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])",
        "rationale": "Aqueous workup protonates the vinyllithium, yielding the alkene; protonation is rapid due to the high basicity of the organolithium intermediate."
      }
    ],
    "description": "In the Shapiro reaction, strong base deprotonates the tosylhydrazone to generate a carbanion, which undergoes sequential eliminations to form a diazo intermediate. Loss of nitrogen gas yields a vinyllithium species, which is protonated during aqueous workup to give the alkene."
  },
  {
    "reaction_id": "NR-303",
    "level": "easy",
    "name": "Simmons-Smith Reaction",
    "reactants_smiles": [
      "[*:1]C([*:2])=C([*:3])[*:4]",
      "C(I)I",
      "[Zn]"
    ],
    "products_smiles": [
      "[*:1]C1([*:2])CC1([*:3])[*:4]",
      "I[Zn]I"
    ],
    "conditions": "Zn/Cu couple",
    "mechanism_step_nums": 2,
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "I[CH2][Zn]I",
        "step_weight": 0,
        "rationale": "Zn inserts into the C–I bond of diiodomethane due to its reducing power and affinity for halides, forming a zinc carbenoid stabilized by the adjacent iodide atoms."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "cheletropic_reaction",
        "intermediate_smiles": "[*:1]C1([*:2])CC1([*:3])[*:4]",
        "step_weight": 0,
        "rationale": "The zinc carbenoid adds to the alkene in a concerted cheletropic step, driven by the high reactivity of the carbene-like carbon and the relief of π-bond strain, yielding a stereospecific cyclopropane."
      }
    ],
    "description": "The Simmons–Smith reaction forms cyclopropanes from alkenes via a zinc carbenoid intermediate. Zn/Cu couple activates diiodomethane to generate the reactive carbenoid, which undergoes a concerted cycloaddition to the alkene, preserving stereochemistry and minimizing side reactions."
  },
  {
    "reaction_id": "NR-304",
    "level": "medium",
    "name": "Takai Olefination",
    "reactants_smiles": [
      "O=C([H])([*:1])",
      "C(I)(I)I",
      "Cl[Cr]Cl"
    ],
    "products_smiles": [
      "[*:1]/C=C/I"
    ],
    "conditions": "CrCl2",
    "mechnism_text_description": "The Takai olefination synthesizes E-vinyl iodides from aldehydes using iodoform and chromium(II) chloride. The mechanism begins with the formation of a reactive gem-dichromium species. Two successive oxidative additions of CrCl2 into the C-I bonds of iodoform generate a nucleophilic (iodomethyl)dichromium reagent. This species then adds to the aldehyde carbonyl to form a chromium-bound 1,2-adduct. The final step is a stereoselective syn-elimination from this intermediate to furnish the E-alkenyl iodide product.",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "IC(I)[Cr](Cl)Cl",
        "rationale": "Cr(II) undergoes oxidative addition into a C–I bond due to iodine’s excellent leaving group ability and the high polarizability of the C–I bond, forming a reactive organochromium intermediate."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "IC([Cr](Cl)Cl)[Cr](Cl)Cl",
        "rationale": "A second oxidative addition occurs because the remaining C–I bond is similarly activated, and Cr(II) readily inserts, producing a gem-dichromium species with enhanced nucleophilicity at the methylene carbon."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C(O[Cr](Cl)Cl)C(I)([Cr](Cl)Cl)",
        "rationale": "The nucleophilic iodomethyl-dichromium attacks the electrophilic aldehyde carbonyl, facilitated by polarization of the C=O bond and stabilization of the alkoxide by coordination to chromium."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]/C=C/I",
        "rationale": "Syn-elimination is favored due to the chelation geometry imposed by chromium, leading to selective E-alkenyl iodide formation driven by steric minimization between substituents."
      }
    ],
    "description": "In the Takai olefination, CrCl2 activates iodoform through successive oxidative additions, generating a nucleophilic iodomethyl-dichromium species. This species adds to the aldehyde, and stereoselective elimination yields the E-vinyl iodide, driven by chromium coordination and thermodynamic product stability."
  },
  {
    "reaction_id": "NR-305",
    "level": "easy",
    "name": "Tebbe-Petasis Olefination",
    "reactants_smiles": [
      "O=C([*:1])([*:2])",
      "C[Ti](C)(C1C=CC=C1)(C1C=CC=C1)"
    ],
    "products_smiles": [
      "C=C([*:1])([*:2])",
      "C",
      "O=[Ti](C1C=CC=C1)(C1C=CC=C1)"
    ],
    "conditions": "In situ generation of Tebbe/Petasis reagent",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C=[Ti](C1C=CC=C1)(C1C=CC=C1)",
        "rationale": "Thermal conditions promote elimination of a methyl group from titanium, forming a reactive Ti–carbene stabilized by π-donating cyclopentadienyl ligands."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "C1([*:1])([*:2])O[Ti]([CH2]1)(C1C=CC=C1)(C1C=CC=C1)",
        "rationale": "The electrophilic Ti–carbene reacts with the nucleophilic carbonyl oxygen in a [2+2] cycloaddition, favored by orbital symmetry and the strong Ti–O bond formation."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "C=C([*:1])([*:2])",
        "rationale": "Cycloreversion occurs to relieve ring strain, driven by formation of a stable Ti=O bond and the thermodynamically favored alkene product."
      }
    ],
    "description": "The Tebbe-Petasis olefination converts a carbonyl group into an alkene via a titanium–carbene complex. The reagent is generated in situ, undergoes [2+2] cycloaddition with the carbonyl, and then eliminates to yield the alkene and a titanium oxo species."
  },
  {
    "reaction_id": "NR-306",
    "level": "medium",
    "name": "Thorpe-Ziegler Reaction",
    "reactants_smiles": [
      "N#C[CH2][*:1][CH2]C#N",
      "[O-]C(C)(C)C"
    ],
    "products_smiles": [
      "N#CC1=C(N)C[*:1]C1"
    ],
    "conditions": "tert-butoxide base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N#C[C-][CH2][*:1][CH2]C#N",
        "rationale": "tert-Butoxide deprotonates the methylene flanked by nitriles due to the strong acidity from electron-withdrawing cyano groups, stabilizing the resulting carbanion via resonance."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "N#CC1C(=[N-])C[*:1]C1",
        "rationale": "The resonance-stabilized carbanion attacks the electrophilic carbon of the second nitrile intramolecularly, favored by proximity and relief of ring strain in forming a five-membered ring."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N#CC1C(=N)C[*:1]C1",
        "rationale": "Protonation of the imide anion occurs to neutralize charge, driven by the basicity of the anion and availability of proton donors in the medium."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N#CC1=C([NH-])C[*:1]C1",
        "rationale": "Deprotonation at the adjacent nitrogen generates an anionic intermediate, facilitated by the electron-withdrawing cyano group and conjugation with the C=N bond."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N#CC1=C(N)C[*:1]C1",
        "rationale": "Final protonation of the nitrogen anion yields the neutral amine, thermodynamically favored under the reaction conditions."
      }
    ],
    "description": "Under strong basic conditions, tert-butoxide deprotonates a methylene between two nitriles, generating a stabilized carbanion. This nucleophile undergoes intramolecular attack on the other nitrile, forming a cyclic imine anion. Sequential proton transfers yield the neutral aminopyridine derivative."
  },
  {
    "reaction_id": "NR-307",
    "level": "hard",
    "name": "Tiffeneau–Demjanov rearrangement",
    "reactants_smiles": [
      "NC([*:3])([*:4])C(O)([*:1])([*:2])"
    ],
    "products_smiles": [
      "O=C([*:1])C([*:2])([*:3])[*:4]"
    ],
    "conditions": "HONO, H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[OH2+]N=O",
        "rationale": "Acidic conditions protonate nitrous acid, increasing electrophilicity of the nitrosonium species precursor."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "N#[O+]",
        "rationale": "Protonated nitrous acid loses water, forming the highly electrophilic nitrosonium ion (NO⁺)."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "OC(C([*:3])([*:4])[NH2+]N=O)([*:1])([*:2])",
        "rationale": "The amine nitrogen attacks NO⁺ due to its lone pair, forming an N-nitrosamine intermediate."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OC(C([*:3])([*:4])[NH]N=O)([*:1])([*:2])",
        "rationale": "Proton transfer stabilizes the N-nitrosamine by adjusting charge distribution for further rearrangement."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OC(C([*:3])([*:4])[NH+]=NO)([*:1])([*:2])",
        "rationale": "Protonation of the nitroso group increases its leaving group potential and sets up diazotization."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OC(C([*:3])([*:4])N=NO)([*:1])([*:2])",
        "rationale": "Deprotonation restores neutrality, facilitating tautomerization toward the diazonium precursor."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[OH2+]N=NC([*:3])([*:4])C(O)([*:1])([*:2])",
        "rationale": "Protonation at the hydroxyl oxygen enhances leaving group ability for subsequent nitrogen extrusion."
      },
      {
        "step": 8,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "N#[N+]C([*:3])([*:4])C(O)([*:1])([*:2])",
        "rationale": "Heterolytic cleavage releases N₂, driven by the stability of the neutral nitrogen molecule."
      },
      {
        "step": 9,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "[OH+]=C([*:1])C([*:2])([*:3])([*:4])",
        "rationale": "A 1,2-shift occurs to stabilize the carbocation via migration of the adjacent substituent, yielding a more substituted cation."
      },
      {
        "step": 10,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O=C([*:1])C([*:2])([*:3])([*:4])",
        "rationale": "Deprotonation of the oxonium intermediate yields the neutral ketone product."
      }
    ],
    "description": "Under acidic nitrosation conditions, the amine is converted to a diazonium-like intermediate, which undergoes nitrogen loss and a 1,2-shift to expand the ring or rearrange the carbon skeleton. Proton transfers facilitate intermediate stability, and water assists in hydrolysis to the ketone product."
  },
  {
    "reaction_id": "NR-308",
    "level": "medium",
    "name": "Tollens Oxidation",
    "reactants_smiles": [
      "O=C[*:1]",
      "O",
      "[Ag+](N)N"
    ],
    "products_smiles": [
      "O=C(O)([*:1])",
      "[Ag]"
    ],
    "conditions": "Aqueous Ammonia",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "O([Ag](N)(N))C([OH2+])[*:1]",
        "step_weight": 0,
        "rationale": "The carbonyl carbon of the aldehyde is electrophilic due to the polar C=O bond, allowing nucleophilic attack by the oxygen ligand of the diamminesilver complex under basic aqueous conditions."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "O([Ag](N)(N))C(O([Ag](N)(N)))[*:1]",
        "step_weight": 0,
        "rationale": "Proton transfer stabilizes the addition intermediate by deprotonating the oxonium species, favored in basic ammonia solution, yielding a more stable alkoxide coordinated to silver."
      },
      {
        "step": 3,
        "type": "cleavage",
        "subtype": "homolytic_cleavage",
        "intermediate_smiles": "[O]C(O([Ag](N)(N)))[*:1]",
        "step_weight": 0,
        "rationale": "Homolytic cleavage of the Ag–O bond occurs as silver is reduced, facilitated by the high reduction potential of Ag+ and the stability of the resulting oxygen-centered radical intermediate."
      },
      {
        "step": 4,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "O[C](O([Ag](N)(N)))[*:1]",
        "step_weight": 0,
        "rationale": "A 1,2-shift rearranges the radical center to the carbon, driven by the formation of a more stable carbon-centered intermediate and relief of electron deficiency at oxygen."
      },
      {
        "step": 5,
        "type": "cleavage",
        "subtype": "homolytic_cleavage",
        "intermediate_smiles": "O=C(O)[*:1]",
        "step_weight": 0,
        "rationale": "Final homolytic cleavage of the C–O bond to silver releases the oxidized carboxylate product, favored by the stability of the carboxylate anion in aqueous ammonia and precipitation of metallic silver."
      }
    ],
    "description": "In Tollens oxidation, the aldehyde undergoes nucleophilic addition by the diamminesilver(I) complex in aqueous ammonia, followed by proton transfers and oxidative steps that convert it into a carboxylate, with concurrent reduction of silver ions to metallic silver."
  },
  {
    "reaction_id": "NR-309",
    "level": "medium",
    "name": "Trost Asymmetric Allylation Alkylation",
    "reactants_smiles": [
      "[*:1]C([*:2])=C([*:3])C([*:4])([*:5])([*:6])",
      "COC(=O)CC(=O)OC",
      "[Pd]"
    ],
    "products_smiles": [
      "COC(=O)C(C(=O)OC)C([*:4])([*:5])/C([*:3])=C([*:2])([*:1])"
    ],
    "conditions": "Chiral Ligand, Base, Pd",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C([Pd]([*:6])([*:7])([*:7]))([*:4])([*:5])",
        "step_weight": 0,
        "rationale": "Pd(0) undergoes oxidative addition to the allylic substrate due to the high reactivity of the allyl moiety and stabilization of the resulting π-allyl Pd(II) complex by conjugation."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "COC(=O)[CH-]C(=O)OC",
        "step_weight": 0,
        "rationale": "The base deprotonates the methylene between two carbonyls, as the α-protons are strongly acidified by resonance stabilization of the resulting enolate."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "COC(=O)C(C(=O)OC)C([*:4])([*:5])/C1([*:3])[Pd]([*:7])([*:7])C1([*:2])([*:1])",
        "step_weight": 0,
        "rationale": "The nucleophilic enolate attacks the electrophilic π-allyl Pd complex, with chiral ligand control directing stereoselective C–C bond formation."
      },
      {
        "step": 4,
        "type": "dissociation",
        "subtype": "dissociation",
        "intermediate_smiles": "COC(=O)C(C(=O)OC)C([*:4])([*:5])/C([*:3])=C([*:2])([*:1])",
        "step_weight": 0,
        "rationale": "Product dissociates as Pd–C bond breaks, driven by the stability of the neutral organic product and regeneration of the active Pd(0) catalyst."
      }
    ],
    "description": "The Pd-catalyzed asymmetric allylation proceeds via oxidative addition of the allylic substrate to Pd(0), generating a π-allyl Pd complex. A base deprotonates the nucleophile, which then attacks the π-allyl complex in a stereocontrolled fashion, followed by product release and catalyst regeneration."
  },
  {
    "reaction_id": "NR-310",
    "level": "medium",
    "name": "Tsuji-Trost Reaction",
    "reactants_smiles": [
      "[*:1]C([*:2])=C([*:3])C([*:4])([*:5])([*:6])",
      "N#CCC#N",
      "[Pd]"
    ],
    "products_smiles": [
      "[*:1]C([*:2])=C([*:3])C([*:4])([*:5])C(C#N)C#N"
    ],
    "conditions": "Ligand, Base (e.g. NaH), Pd",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C([Pd]([*:6])([*:7])([*:7]))([*:4])([*:5])",
        "step_weight": 0,
        "rationale": "Pd(0) coordinates to the allylic system and undergoes oxidative addition due to the good leaving group ability and stabilization of the resulting π-allyl–Pd(II) complex by conjugation."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[CH-](C#N)C#N",
        "step_weight": 0,
        "rationale": "The base deprotonates malononitrile, as the α-proton is highly acidic due to strong electron-withdrawing cyano groups stabilizing the resulting carbanion."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "N#CC(C#N)C([*:4])([*:5])/C1([*:3])[Pd]([*:7])([*:7])C1([*:2])([*:1])",
        "step_weight": 0,
        "rationale": "The nucleophilic carbanion attacks the electrophilic π-allyl–Pd complex at the less hindered terminus, favored by orbital overlap and reduced steric hindrance."
      },
      {
        "step": 4,
        "type": "dissociation",
        "subtype": "dissociation",
        "intermediate_smiles": "[*:1]C([*:2])=C([*:3])C([*:4])([*:5])C(C#N)C#N",
        "step_weight": 0,
        "rationale": "Product dissociates via reductive elimination, regenerating Pd(0) due to the thermodynamic stability of the C–C bond and the catalyst turnover requirement."
      }
    ],
    "description": "In the Tsuji–Trost reaction, Pd(0) first undergoes oxidative addition to the allylic substrate, forming a π-allyl–Pd complex. The base deprotonates malononitrile to generate a stabilized nucleophile, which attacks the π-allyl complex. Reductive elimination releases the substituted product and regenerates Pd(0)."
  },
  {
    "reaction_id": "NR-311",
    "level": "hard",
    "name": "Ugi Reaction",
    "reactants_smiles": [
      "N[*:2]",
      "[*:3]C([*:4])=O",
      "[*:1]C(=O)O",
      "[C-]#[N+][*:5]"
    ],
    "products_smiles": [
      "[*:1]C(=O)N([*:2])C([*:3])([*:4])C(=O)N"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:3]C([*:4])(O)[NH2+][*:2]",
        "step_weight": 0,
        "rationale": "The amine attacks the electrophilic carbonyl carbon due to its partial positive charge, facilitated by the polar environment, forming a tetrahedral intermediate stabilized by protonation."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:3]C([*:4])=[NH+][*:2]",
        "step_weight": 0,
        "rationale": "Loss of water occurs because the hydroxyl group is protonated, making it a good leaving group, and imine formation is favored by conjugation between C=N and adjacent substituents."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2]NC([*:3])([*:4])C#[N+][*:5]",
        "step_weight": 0,
        "rationale": "The isocyanide carbon, being nucleophilic due to adjacent positive nitrogen, attacks the electrophilic iminium carbon, forming a new C–C bond."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2]NC([*:3])([*:4])C(OC(=[OH+])[*:1])=N[*:5]",
        "step_weight": 0,
        "rationale": "The carboxylic acid carbonyl oxygen attacks the electron-deficient isocyanide-derived imidoyl carbon, driven by nucleophilicity of the deprotonated acid and electrophilicity of the imidoyl carbon."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:2][NH+]1C([*:3])([*:4])C(=N[*:5])OC1(O)[*:1]",
        "step_weight": 0,
        "rationale": "Intramolecular cyclization occurs as the oxygen attacks the imidoyl carbon, favored by proximity and relief of strain, forming a five-membered oxazoline-like intermediate."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:2]N1C([*:3])([*:4])C(=[NH+][*:5])OC1(O)[*:1]",
        "step_weight": 0,
        "rationale": "Proton transfer stabilizes the intermediate by neutralizing charges, facilitated by the acidic and basic sites within the molecule and solvent-mediated proton shuttling."
      },
      {
        "step": 7,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:5]NC(=O)C([*:3])([*:4])N([*:2])C(=[OH+])[*:1]",
        "step_weight": 0,
        "rationale": "Ring opening with elimination of the leaving group occurs because the protonated oxygen enhances leaving group ability, driving rearrangement to the amide."
      },
      {
        "step": 8,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:5]NC(=O)C([*:3])([*:4])N([*:2])C(=O)[*:1]",
        "step_weight": 0,
        "rationale": "Final proton transfer restores neutrality, yielding the stable amide product favored by resonance stabilization of the C=O and N lone pair."
      }
    ],
    "description": "The Ugi reaction proceeds via sequential nucleophilic additions and eliminations involving an amine, carbonyl compound, carboxylic acid, and isocyanide. Imine formation and isocyanide attack are followed by cyclization and rearrangement, driven by electronic stabilization and favorable leaving group departure under mild conditions, yielding the peptidomimetic product."
  },
  {
    "reaction_id": "NR-312",
    "name": "Ullmann Condensation",
    "level": "easy",
    "reactants_smiles": [
      "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1O",
      "c1([*:6])c([*:7])c([*:8])c([*:9])c([*:10])c1I"
    ],
    "products_smiles": [
      "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1Oc2c([*:6])c([*:7])c([*:8])c([*:9])c2([*:10])"
    ],
    "conditions": "CuI, Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1[O-]",
        "rationale": "Base deprotonates phenol because the phenolic proton is acidic and the resulting phenoxide is resonance-stabilized, increasing nucleophilicity for subsequent copper-mediated coupling."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "c1([*:6])c([*:7])c([*:8])c([*:9])c([*:10])c1[Cu](I)I",
        "rationale": "Cu(I) undergoes oxidative addition into the aryl–iodine bond due to the good leaving group ability of iodide and the polarizable C–I bond, forming a reactive aryl–Cu(III) species."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "c2([*:6])c([*:7])c([*:8])c([*:9])c([*:10])c2[Cu](I)Oc1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5])",
        "rationale": "The phenoxide oxygen attacks the aryl–Cu complex via nucleophilic substitution, favored by the strong Cu–O bond formation and the activated aryl group bound to copper."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "reductive_elimination",
        "intermediate_smiles": "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1Oc2c([*:6])c([*:7])c([*:8])c([*:9])c2([*:10])",
        "rationale": "Reductive elimination from Cu(III) forms the C–O bond of the biaryl ether, driven by the thermodynamic stability of the product and regeneration of the Cu(I) catalyst."
      }
    ],
    "description": "In the Ullmann condensation, the phenol is first deprotonated by base to form a nucleophilic phenoxide. Copper(I) catalyzes the coupling by oxidative addition to the aryl iodide, enabling nucleophilic attack and subsequent reductive elimination to form the biaryl ether linkage."
  },
  {
    "reaction_id": "NR-313",
    "name": "Ullmann Coupling",
    "level": "easy",
    "reactants_smiles": [
      "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1I"
    ],
    "products_smiles": [
      "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1c2c([*:1])c([*:2])c([*:3])c([*:4])c2([*:5])"
    ],
    "conditions": "Cu",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1[Cu]I",
        "rationale": "Cu(0) inserts into the aryl–iodine bond via oxidative addition because iodine is a good leaving group and the aryl–Cu bond is stabilized by π-backbonding from the aromatic ring."
      },
      {
        "step": 2,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1[Cu]",
        "rationale": "Single-electron transfer from Cu to the aryl fragment generates a reactive aryl radical, favored by the low ionization potential of Cu and the stability of the aryl radical through resonance."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1[Cu](I)c2c([*:1])c([*:2])c([*:3])c([*:4])c2([*:5])",
        "rationale": "A second oxidative addition occurs with another aryl iodide, driven by the high reactivity of the aryl radical and the good leaving ability of iodide, forming a bis-aryl copper(III) species."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "reductive_elimination",
        "intermediate_smiles": "c1([*:1])c([*:2])c([*:3])c([*:4])c([*:5])c1c2c([*:1])c([*:2])c([*:3])c([*:4])c2([*:5])",
        "rationale": "Reductive elimination from the Cu(III) complex forms the biaryl product, favored by the thermodynamic stability of the C–C bond and the regeneration of the lower oxidation state Cu catalyst."
      }
    ],
    "description": "In the Ullmann coupling, copper mediates the formation of a biaryl bond from aryl iodides. Copper undergoes oxidative addition to the aryl halide, facilitates electron transfer, and couples two aryl groups via a second oxidative addition followed by reductive elimination, forming the C–C bond."
  },
  {
    "reaction_id": "NR-314",
    "name": "Upjohn Dihydroxylation",
    "level": "medium",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])([*:4])",
      "C[N+]1(CCOCC1)[O-]"
    ],
    "products_smiles": [
      "C(O)([*:1])([*:2])C(O)([*:3])([*:4])"
    ],
    "conditions": "cat. OsO4, NMO, H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "C1([*:1])([*:2])O[Os](=O)(=O)OC1([*:3])([*:4])",
        "rationale": "The alkene’s π electrons coordinate to electrophilic Os(VIII) in OsO4, forming a cyclic osmate ester via concerted [3+2] cycloaddition, favored by strong osmium–oxygen π-acceptor interactions and minimal steric hindrance in the transition state."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(O)([*:1])([*:2])C(O)([*:3])([*:4])",
        "rationale": "Water attacks the electrophilic osmium-bound carbons, cleaving the Os–O–C bonds; the good leaving ability of the osmium species and relief of ring strain drive formation of the cis-diol."
      },
      {
        "step": 3,
        "type": "electron_transfer",
        "subtype": "single_electron_transfer",
        "intermediate_smiles": "O=[Os](=O)(=O)=O",
        "rationale": "NMO oxidizes Os(VI) back to Os(VIII) via single-electron transfer, driven by N–O bond cleavage and the high thermodynamic stability of the reoxidized osmium species, allowing catalytic turnover."
      }
    ],
    "description": "The alkene undergoes syn-dihydroxylation via OsO4-mediated [3+2] cycloaddition to form a cyclic osmate ester. Hydrolysis releases the cis-diol, and NMO reoxidizes Os(VI) to Os(VIII), enabling catalytic turnover under mild aqueous conditions."
  },
  {
    "reaction_id": "NR-315",
    "name": "Van Leusen Reaction",
    "level": "hard",
    "reactants_smiles": [
      "C(=O)([*:1])([*:2])",
      "Cc1ccc(cc1)S(=O)(=O)C[N+]#[C-]",
      "CC(C)(C)[O-]"
    ],
    "products_smiles": [
      "C(C#N)([*:1])([*:2])"
    ],
    "conditions": "t-BuOK",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "Cc1ccc(cc1)S(=O)(=O)[CH-][N+]#[C-]",
        "rationale": "t-BuOK deprotonates the acidic methylene of TosMIC due to resonance stabilization by the sulfone and isonitrile groups, generating a strong nucleophile."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "Cc1ccc(cc1)S(=O)(=O)C([N+]#[C-])C([O-])([*:1])([*:2])",
        "rationale": "The carbanion attacks the electrophilic carbonyl carbon of [*:1]C(=O)[*:2], driven by polarization of the C=O bond and the high nucleophilicity of the TosMIC anion."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "Cc1ccc(cc1)S(=O)(=O)C1N=[C-]OC1([*:1])([*:2])",
        "rationale": "Intramolecular cyclization occurs as the alkoxide attacks the isonitrile carbon, favored by proximity and relief of charge through formation of a five-membered oxazoline ring."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "Cc1ccc(cc1)S(=O)(=O)[C-]1N=COC1([*:1])([*:2])",
        "rationale": "Base deprotonates the oxazoline methylene, increasing electron density and preparing for elimination by generating a carbanion adjacent to the sulfone."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "Cc1ccc(cc1)S(=O)(=O)C(N=C[O-])=C([*:1])([*:2])",
        "rationale": "Elimination of the tosylate group occurs because the sulfone-stabilized anion is a good leaving group, driven by formation of a conjugated imidate system."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C=NC=O)([*:1])([*:2])",
        "rationale": "Further elimination expels the oxygen-containing fragment, driven by the stability of the resulting cumulene-like C=C=NC=O system."
      },
      {
        "step": 7,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(=C=NC([O-])OC(C)(C)C)([*:1])([*:2])",
        "rationale": "Nucleophilic attack by t-BuO− on the carbonyl carbon of the isocyanate intermediate occurs due to high electrophilicity and strong basicity of t-BuO−."
      },
      {
        "step": 8,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=C=[N-])([*:1])([*:2])",
        "rationale": "Elimination of t-BuO− from the adduct forms the nitrile anion, favored by the thermodynamic stability of the C≡N triple bond."
      },
      {
        "step": 9,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C#N)([*:1])([*:2])",
        "rationale": "Protonation of the nitrile anion by solvent or conjugate acid yields the neutral nitrile product, driven by the strong basicity of the anion."
      }
    ],
    "description": "Under strong basic conditions (t-BuOK), the Van Leusen reaction proceeds via deprotonation of the TosMIC methylene, nucleophilic addition to the carbonyl, cyclization to an oxazoline intermediate, and sequential eliminations to form the nitrile product. The base promotes each step by generating reactive anions and facilitating leaving group departure."
  },
  {
    "reaction_id": "NR-316",
    "name": "Vilsmeier-Haack Formylation",
    "level": "medium",
    "reactants_smiles": [
      "c1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
      "CN(C)C=O",
      "O=P(Cl)(Cl)Cl"
    ],
    "products_smiles": [
      "c1(C=O)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]"
    ],
    "conditions": "1. POCl3, DMF; 2. H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C[N+](C)=COP([O-])(Cl)(Cl)Cl",
        "rationale": "DMF oxygen attacks electrophilic phosphorus in POCl3 due to strong P=O polarization, forming a stabilized adduct."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "CN(C)C=[O+]P(=O)(Cl)Cl",
        "rationale": "Chloride elimination occurs as POCl3 is a good leaving group source, generating a more electrophilic iminium-type phosphorus species."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "ClC(N(C)C)OP(=O)(Cl)Cl",
        "rationale": "Chloride attacks the activated DMF–POCl3 complex at the carbon center, driven by positive charge and good leaving group potential."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "ClC(=[N+](C)C)",
        "rationale": "Elimination of the phosphoryl group yields the iminium chloride, stabilized by resonance between nitrogen and carbon."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "c1([*:5])c([*:4])c([*:3])c([*:2])[C+]([*:1])C1C(Cl)N(C)C",
        "rationale": "The electron-rich aromatic ring attacks the iminium carbon, favored by strong electrophilicity and resonance stabilization of the arenium ion."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "CN(C)C(Cl)c1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "Proton elimination restores aromaticity, a thermodynamically favorable step in electrophilic aromatic substitution."
      },
      {
        "step": 7,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=[N+](C)C)c1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "Dimethylamino group leaves as a stable amine, driven by formation of a conjugated iminium intermediate."
      },
      {
        "step": 8,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "O=Cc1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "Water attacks the iminium carbon during aqueous workup, hydrolyzing it to the aldehyde under acidic conditions."
      }
    ],
    "description": "POCl3 activates DMF to form an electrophilic iminium species, which undergoes electrophilic aromatic substitution with the aromatic ring. Subsequent elimination and hydrolysis steps yield the formylated aromatic product under Vilsmeier–Haack conditions."
  },
  {
    "reaction_id": "NR-317",
    "name": "Weinreb Ketone Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "[*:1][Mg]Br",
      "CON(C)C(=O)([*:2])",
      "O"
    ],
    "products_smiles": [
      "C(=O)([*:1])([*:2])"
    ],
    "conditions": "1. Grignard Reagent; 2. Aqueous workup",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C([*:2])(O[Mg-]1(Br))N(C)[O+]1C",
        "rationale": "The strongly nucleophilic Grignard carbon attacks the electrophilic carbonyl carbon, aided by the electron-withdrawing carbonyl and chelation of the methoxy amide to Mg, stabilizing the tetrahedral intermediate."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(O)([*:2])N(C)OC",
        "rationale": "Aqueous workup protonates the alkoxide oxygen, driven by the high basicity of the alkoxide and the availability of protons in acidic or neutral aqueous conditions."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])(O)([*:2])[NH+](C)OC",
        "rationale": "Protonation of the amide nitrogen increases its leaving group ability by generating a positively charged, resonance-stabilized ammonium species."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)([*:1])([*:2])",
        "rationale": "Elimination occurs as the protonated amine departs, driven by formation of the strong C=O π bond and the stability of the neutral amine leaving group."
      }
    ],
    "description": "The Grignard reagent attacks the electrophilic carbonyl carbon of the Weinreb amide, forming a tetrahedral intermediate stabilized by chelation to magnesium. Proton transfers under aqueous workup prepare the intermediate for elimination of the amine, yielding the ketone selectively without over-addition."
  },
  {
    "reaction_id": "NR-318",
    "name": "Weiss-Cook Condensation",
    "level": "hard",
    "reactants_smiles": [
      "[*:1]OC(=O)CC(=O)CC(=O)O[*:1]",
      "O=CC=O"
    ],
    "products_smiles": [
      "[*:1]OC(=O)C1=C(O)C(C(=O)O[*:1])C2C1C(C(=O)O[*:1])C(O)=C2(C(=O)O[*:1])"
    ],
    "conditions": "Base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]OC(=O)CC(=O)[CH-]C(=O)O[*:1]",
        "rationale": "Base abstracts an α-proton adjacent to a carbonyl, forming a resonance-stabilized enolate due to strong electron-withdrawing ester groups."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]OC(=O)CC(=O)C(C([O-])C=O)C(=O)O[*:1]",
        "rationale": "The nucleophilic enolate attacks the electrophilic aldehyde carbon, favored by aldehyde’s high reactivity and minimal steric hindrance."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]OC(=O)CC(=O)[C-](C(O)C=O)C(=O)O[*:1]",
        "rationale": "Proton transfer regenerates a nucleophilic enolate at the newly formed β-hydroxyketone, enabling further transformations."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]OC(=O)CC(=O)C(=CC=O)C(=O)O[*:1]",
        "rationale": "Base-promoted elimination of hydroxide forms an α,β-unsaturated carbonyl, driven by conjugation and increased thermodynamic stability."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]OC(=O)[CH-]C(=O)C(=CC=O)C(=O)O[*:1]",
        "rationale": "Another α-proton is abstracted to generate an enolate stabilized by adjacent carbonyl and conjugated alkene."
      },
      {
        "step": 6,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]OC(=O)C1C(=O)C(=CC1[O-])C(=O)O[*:1]",
        "rationale": "Intramolecular nucleophilic attack of the enolate on a carbonyl forms a new C–C bond, favored by ring closure and proximity effects."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]OC(=O)[C-]1C(=O)C(=CC1O)C(=O)O[*:1]",
        "rationale": "Proton transfer generates an enolate within the cyclic intermediate, activating it for further elimination."
      },
      {
        "step": 8,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]OC(=O)C1C(=O)C(=CC=1)C(=O)O[*:1]",
        "rationale": "Elimination of a leaving group restores conjugation in the ring system, increasing stability via extended π-delocalization."
      },
      {
        "step": 9,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]OC(=O)C1C(=O)C(=CC1(CC(=O)C(C(=O)O[*:1])C(=O)O[*:1]))C(=O)O[*:1]",
        "rationale": "Nucleophilic addition to another carbonyl occurs, driven by electrophilicity and intramolecular proximity in the polycyclic framework."
      },
      {
        "step": 10,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]OC(=O)C1C(=O)C(C(=O)O[*:1])C2C1C(C(=O)O[*:1])C(=O)C2(C(=O)O[*:1])",
        "rationale": "Further nucleophilic addition closes an additional ring, favored by entropic advantage of intramolecular reactions and relief of strain."
      },
      {
        "step": 11,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]OC(=O)C1=C(O)C(C(=O)O[*:1])C2C1C(C(=O)O[*:1])C(O)=C2(C(=O)O[*:1])",
        "rationale": "Final proton transfer yields the neutral polycyclic lactone, stabilizing the product through conjugation and hydrogen bonding."
      }
    ],
    "description": "Under basic conditions, the Weiss-Cook condensation proceeds via sequential enolate formation, nucleophilic additions to aldehyde and carbonyl groups, and intramolecular cyclizations. Resonance-stabilized enolates and good leaving groups drive the formation of the polycyclic lactone framework with multiple ester substituents."
  },
  {
    "reaction_id": "NR-319",
    "name": "Wharton Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])C1([*:2])OC1([*:3])[*:4]",
      "NN"
    ],
    "products_smiles": [
      "[CH](=C([*:2])C(O)([*:3])[*:4])[*:1]"
    ],
    "conditions": "Acid/Base catalyst (e.g., Acetic Acid)",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(=NN)([*:1])C1([*:2])OC1([*:3])[*:4]",
        "rationale": "Hydrazine acts as a nucleophile, attacking the electrophilic carbonyl carbon due to its partial positive charge, facilitated by acid/base catalysis that activates the carbonyl."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[NH2+]=NC([*:1])=C([*:2])C(O)([*:3])[*:4]",
        "rationale": "Protonation of the leaving group and resonance stabilization of the diazonium-like intermediate promote elimination of the cyclic ether moiety."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N=NC([*:1])=C([*:2])C(O)([*:3])[*:4]",
        "rationale": "Proton transfer neutralizes charge and generates the neutral diazene, stabilizing the intermediate for the next elimination step."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[C-](=C([*:2])C(O)([*:3])[*:4])[*:1]",
        "rationale": "Loss of nitrogen gas is highly favorable due to its inertness and strong N≡N bond, forming a carbanion stabilized by adjacent substituents."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[CH](=C([*:2])C(O)([*:3])[*:4])[*:1]",
        "rationale": "Protonation of the carbanion yields the alkene, driven by the thermodynamic stability of the C=C bond and relief of negative charge."
      }
    ],
    "description": "In the Wharton reaction, hydrazine attacks the carbonyl to form a hydrazone, which under acidic/basic conditions eliminates to form a diazene intermediate. Subsequent proton transfers and nitrogen extrusion yield the alkene, driven by the stability of N₂ and conjugated product."
  },
  {
    "reaction_id": "NR-320",
    "name": "Willgerodt-Kindler Reaction",
    "level": "hard",
    "reactants_smiles": [
      "CC(=O)c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5])",
      "N([*:6])([*:7])",
      "S1SSSSSSS1"
    ],
    "products_smiles": [
      "N([*:6])([*:7])C(=S)Cc1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5])"
    ],
    "conditions": "Heat",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C=C(N([*:6])([*:7]))c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5])",
        "rationale": "The amine nitrogen attacks the electrophilic carbonyl carbon, facilitated by resonance withdrawal from the aromatic ring, forming an imine-like intermediate after dehydration."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[N+]([*:6])([*:7])=C(c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5]))CSSSSSSS[S-]",
        "rationale": "The iminium carbon is electrophilic; polysulfide sulfur attacks, displacing a leaving group due to sulfur’s high nucleophilicity and polarizability."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N([*:6])([*:7])C(c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5]))=CSSSSSSSS",
        "rationale": "Proton transfer stabilizes the intermediate by neutralizing charge, driven by the basicity of nitrogen and the polar environment."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "N([*:6])([*:7])C(c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5]))C=[S+]SSSSSSSS",
        "rationale": "Another proton shift occurs to activate the sulfur atom for subsequent nucleophilic addition, aligning charges for stability."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[N+]([*:6])([*:7])2C(c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5]))C2SSSSSSSS",
        "rationale": "Nucleophilic sulfur attacks the activated iminium carbon, favored by the soft–soft interaction between sulfur and the polarized carbon."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C(c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5]))=C(N([*:6])([*:7]))SSSSSSSS",
        "rationale": "Elimination of a proton restores conjugation and relieves ring strain, driven by thermodynamic stability of the conjugated system."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(c1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5]))C(N([*:6])([*:7]))=[S+]SSSSSSS",
        "rationale": "Proton transfer reorganizes the intermediate to place positive charge on sulfur, enhancing its leaving group ability for the next substitution."
      },
      {
        "step": 8,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "N([*:6])([*:7])C(=S)Cc1c([*:1])c([*:2])c([*:3])c([*:4])c1([*:5])",
        "rationale": "Final nucleophilic substitution by amine on the thiocarbonyl carbon occurs, favored by the electrophilicity of C=S and the good leaving ability of polysulfide."
      }
    ],
    "description": "Under heating, the Willgerodt–Kindler reaction converts an aryl methyl ketone into a thiocarbonyl amide via sequential nucleophilic substitutions, proton transfers, and rearrangements. The amine and polysulfide react to form a thioamide, driven by resonance stabilization and favorable leaving group departure under thermal conditions."
  },
  {
    "reaction_id": "NR-321",
    "name": "Williamson Ether Synthesis",
    "level": "easy",
    "reactants_smiles": [
      "O[*:1]",
      "BrC([*:2])[*:3]",
      "[Na][H]"
    ],
    "products_smiles": [
      "C(O[*:1])([*:2])[*:3]"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[O-][*:1]",
        "rationale": "NaH acts as a strong base, abstracting the alcohol proton due to the high acidity of the O–H bond and forming a resonance-stabilized alkoxide anion."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(O[*:1])([*:2])[*:3]",
        "rationale": "The alkoxide, being a strong nucleophile, attacks the electrophilic carbon of the alkyl bromide in an SN2 fashion, favored by the good leaving ability of bromide and minimal steric hindrance."
      }
    ],
    "description": "In the Williamson ether synthesis, an alcohol is first deprotonated by a strong base to form an alkoxide, which is a strong nucleophile. This alkoxide then undergoes an SN2 reaction with an alkyl halide, yielding the ether product efficiently under mild conditions."
  },
  {
    "reaction_id": "NR-322",
    "name": "Wittig Reaction",
    "level": "easy",
    "reactants_smiles": [
      "c1ccccc1[P+](c1ccccc1)(c1ccccc1)C([H])([*:1])[*:2]",
      "O=C([*:3])[*:4]"
    ],
    "products_smiles": [
      "C(=C([*:3])[*:4])([*:1])[*:2]",
      "O=P(c1ccccc1)(c1ccccc1)c1ccccc1"
    ],
    "conditions": "Strong base (e.g., LDA, nBuLi)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1ccccc1[P+](c1ccccc1)(c1ccccc1)[C-]([*:1])[*:2]",
        "rationale": "The strong base abstracts the acidic α-proton next to the positively charged phosphorus, stabilized by adjacent phenyl groups through inductive and resonance effects, generating the nucleophilic ylide."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "cycloaddition",
        "intermediate_smiles": "c1ccccc1P1(c2ccccc2)(c2ccccc2)OC([*:3])([*:4])C1([*:1])[*:2]",
        "rationale": "The nucleophilic ylide carbon attacks the electrophilic carbonyl carbon, while the carbonyl oxygen coordinates to phosphorus, forming a four-membered oxaphosphetane via concerted cycloaddition favored by orbital symmetry."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "cycloreversion",
        "intermediate_smiles": "C(=C([*:3])[*:4])([*:1])[*:2]",
        "rationale": "The strained oxaphosphetane undergoes cycloreversion, driven by relief of ring strain and formation of strong P=O and C=C bonds, yielding the alkene and triphenylphosphine oxide."
      }
    ],
    "description": "A strong base deprotonates the phosphonium salt to form a stabilized ylide, which undergoes [2+2] cycloaddition with the carbonyl to give an oxaphosphetane intermediate. Cycloreversion then yields the alkene and triphenylphosphine oxide as the thermodynamically favored products."
  },
  {
    "reaction_id": "NR-323",
    "name": "Wittig Rearrangement-[2,3]",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])([*:2])=C([*:3])C([*:4])([*:5])OC[*:6]",
      "CCCC[Li]"
    ],
    "products_smiles": [
      "OC([*:6])C([*:1])([*:2])C([*:3])=C([*:4])([*:5])"
    ],
    "conditions": "1. Strong Base (e.g., n-BuLi); 2. H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])([*:2])=C([*:3])C([*:4])([*:5])O[CH-][*:6]",
        "rationale": "n-BuLi, a strong base, abstracts the relatively acidic α-proton adjacent to oxygen due to inductive electron withdrawal and stabilization of the resulting alkoxide by oxygen."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "sigmatropic_rearrangement",
        "intermediate_smiles": "[O-]C([*:6])C([*:1])([*:2])C([*:3])=C([*:4])([*:5])",
        "rationale": "The alkoxide undergoes a [2,3]-sigmatropic rearrangement, favored by orbital symmetry and relief of electron density through concerted bond reorganization, forming a more stable carbon–carbon bond adjacent to oxygen."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "OC([*:6])C([*:1])([*:2])C([*:3])=C([*:4])([*:5])",
        "rationale": "Aqueous workup protonates the alkoxide intermediate, driven by the strong thermodynamic preference for neutral alcohol formation in protic conditions."
      }
    ],
    "description": "A strong base deprotonates the α-position to oxygen, generating an alkoxide that undergoes a concerted [2,3]-sigmatropic rearrangement. This rearrangement shifts the carbon framework, forming a new C–C bond. Subsequent protonation yields the rearranged alcohol product."
  },
  {
    "reaction_id": "NR-324",
    "name": "Wohl-Ziegler Reaction",
    "level": "medium",
    "reactants_smiles": [
      "[*:1]C([*:2])=C([*:3])C([*:4])[*:5]",
      "O=C1CCC(=O)N1Br",
      "CC(C)(C#N)N=NC(C)(C#N)C"
    ],
    "products_smiles": [
      "[*:1]C([*:2])=C([*:3])C([*:4])([*:5])Br"
    ],
    "conditions": "Heat or Light, Non-polar solvent (e.g. CCl4)",
    "mechanism": [
      {
        "step": 1,
        "type": "radical",
        "subtype": "radical_initiation",
        "intermediate_smiles": "C[C](C)C#N",
        "rationale": "Thermal or photolytic homolysis of the azo initiator produces a stabilized carbon-centered radical due to adjacent electron-withdrawing cyano groups, facilitating radical chain initiation."
      },
      {
        "step": 2,
        "type": "radical",
        "subtype": "radical_initiation",
        "intermediate_smiles": "[Br]",
        "rationale": "The carbon radical abstracts bromine from NBS, generating a bromine radical; NBS is an effective bromine source due to the weak N–Br bond and resonance stabilization of the succinimide byproduct."
      },
      {
        "step": 3,
        "type": "radical",
        "subtype": "radical_propagation",
        "intermediate_smiles": "[*:1]C([*:2])=C([*:3])[C]([*:4])[*:5]",
        "rationale": "The bromine radical abstracts an allylic hydrogen from the alkene, favored by the resonance stabilization of the resulting allylic radical and the relatively weak allylic C–H bond."
      },
      {
        "step": 4,
        "type": "radical",
        "subtype": "radical_propagation",
        "intermediate_smiles": "[*:1]C([*:2])=C([*:3])C([*:4])([*:5])Br",
        "rationale": "The allylic radical reacts with molecular bromine (from NBS equilibrium) to form the C–Br bond, driven by the stability of the product and the high reactivity of bromine radicals."
      }
    ],
    "description": "Under heat or light in a non-polar solvent, the NBS-based Wohl–Ziegler reaction generates bromine radicals that selectively allylically brominate the alkene. Radical initiation produces a stable radical source, which abstracts allylic hydrogen, followed by bromine radical capture to yield the brominated product."
  },
  {
    "reaction_id": "NR-325",
    "name": "Wolff-Kishner Reduction",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)([*:1])[*:2]",
      "NN",
      "[OH-]"
    ],
    "products_smiles": [
      "C([*:1])[*:2]"
    ],
    "conditions": "Strong base (e.g., KOH), High temperature",
    "mechanism": [
      {
        "step": 1,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(=NN)([*:1])[*:2]",
        "rationale": "The carbonyl carbon is electrophilic; hydrazine attacks to form a hydrazone, driven by resonance stabilization of the C=N bond and removal of the polar C=O under basic conditions."
      },
      {
        "step": 2,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-](N=N)([*:1])[*:2]",
        "rationale": "Strong base deprotonates the α-carbon of the hydrazone, favored by the adjacent electron-withdrawing N=N group stabilizing the carbanion via resonance."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(N=N)([*:1])[*:2]",
        "rationale": "Proton transfer to nitrogen occurs to prepare a good leaving group, as protonated nitrogen facilitates N₂ elimination."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[CH-]([*:1])[*:2]",
        "rationale": "Elimination of N₂ gas is highly favorable due to its inertness and strong triple bond, driving formation of a carbanion intermediate."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([*:1])[*:2]",
        "rationale": "The carbanion is protonated by solvent or conjugate acid, yielding the thermodynamically stable alkane product."
      }
    ],
    "description": "Under strongly basic, high-temperature conditions, the Wolff–Kishner reduction converts a carbonyl into a methylene group via hydrazone formation, deprotonation, nitrogen elimination, and final protonation. The driving force is the formation of stable N₂ gas and the thermodynamic stability of the alkane."
  },
  {
    "reaction_id": "NR-326",
    "name": "Wolff Rearrangement",
    "level": "easy",
    "reactants_smiles": [
      "C([*:1])(=O)C(=[N+]=[N-])[*:2]"
    ],
    "products_smiles": [
      "O=C=C([*:2])[*:1]"
    ],
    "conditions": "Heat, light, or metal catalyst (e.g., Ag2O)",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C([*:1])(=O)[C][*:2]",
        "rationale": "Heating or catalysis promotes N₂ loss from the diazo group, favored by the excellent leaving ability of nitrogen and stabilization of the adjacent carbene by the carbonyl through resonance."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "O=C=C([*:2])[*:1]",
        "rationale": "The electron-deficient carbene undergoes a 1,2-shift of [*:1] to stabilize via ketene formation, driven by conjugation between C=C=O and relief of carbene instability."
      }
    ],
    "description": "Under thermal, photochemical, or metal-catalyzed conditions, the α-diazoketone loses nitrogen gas to form a reactive carbene. This intermediate undergoes a 1,2-shift, driven by carbene instability and the formation of a conjugated ketene, yielding the rearranged product."
  },
  {
    "reaction_id": "NR-327",
    "name": "Yamaguchi Esterification",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)(O)[*:1]",
      "O[*:2]",
      "O=C(Cl)c1c(Cl)cc(Cl)cc1Cl",
      "CCN(CC)CC",
      "CN(C)c1ccncc1"
    ],
    "products_smiles": [
      "C(=O)(O[*:2])[*:1]"
    ],
    "conditions": "1. Triethylamine, 2,4,6-Trichlorobenzoyl chloride; 2. DMAP",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)([O-])[*:1]",
        "rationale": "Triethylamine deprotonates the carboxylic acid, generating a nucleophilic carboxylate stabilized by resonance, primed for acyl chloride attack."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(=O)(OC(Cl)([O-])c1c(Cl)cc(Cl)cc1Cl)[*:1]",
        "rationale": "The carboxylate attacks the electrophilic carbonyl of 2,4,6-trichlorobenzoyl chloride, whose electron-withdrawing chlorines enhance carbonyl susceptibility."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)(OC(=O)c1c(Cl)cc(Cl)cc1Cl)[*:1]",
        "rationale": "Chloride leaves due to its good leaving group ability, forming a mixed anhydride stabilized by resonance and aromatic electron withdrawal."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([O-])(OC(=O)c1c(Cl)cc(Cl)cc1Cl)([n+]1ccc(N(C)C)cc1)[*:1]",
        "rationale": "DMAP, a strong nucleophilic catalyst, attacks the less hindered carbonyl of the mixed anhydride, forming an acylpyridinium intermediate with enhanced electrophilicity."
      },
      {
        "step": 5,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)([n+]1ccc(N(C)C)cc1)[*:1]",
        "rationale": "The trichlorobenzoate anion departs, stabilized by resonance and inductive effects from chlorines, leaving the reactive acylpyridinium species."
      },
      {
        "step": 6,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C([O-])([OH+][*:2])([n+]1ccc(N(C)C)cc1)[*:1]",
        "rationale": "The alcohol nucleophile attacks the activated acylpyridinium carbonyl, favored by reduced steric hindrance and strong electrophilicity."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C([O-])(O[*:2])([n+]1ccc(N(C)C)cc1)[*:1]",
        "rationale": "Proton transfer occurs to neutralize the alkoxide and regenerate the DMAP leaving group, driven by acid-base equilibrium."
      },
      {
        "step": 8,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C(=O)(O[*:2])[*:1]",
        "rationale": "DMAP departs as a stable neutral species, yielding the ester product through collapse of the tetrahedral intermediate."
      }
    ],
    "description": "In the Yamaguchi esterification, the carboxylate is activated by 2,4,6-trichlorobenzoyl chloride in the presence of base, forming a mixed anhydride. DMAP catalyzes nucleophilic attack by the alcohol, facilitating ester formation via enhanced electrophilicity and good leaving group expulsion under mild conditions."
  },
  {
    "reaction_id": "NR-328",
    "level": "medium",
    "name": "Zincke Reaction",
    "reactants_smiles": [
      "c1cccc[n+]1(c1cc(cc(c1)[N+]([O-])=O)[N+]([O-])=O)",
      "N([*:1])[*:2]"
    ],
    "products_smiles": [
      "N([*:1])([*:2])C=CC=CC=O"
    ],
    "conditions": "Polar solvent (e.g., water, ethanol)",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]N([*:2])C1C=CC=CN1(c1cc(cc(c1)[N+]([O-])=O)[N+]([O-])=O)",
        "rationale": "The amine nucleophile attacks the electron-deficient pyridinium ring, activated by nitro groups, enabling ring opening due to resonance-stabilized cationic intermediates in polar solvent."
      },
      {
        "step": 2,
        "type": "pericyclic",
        "subtype": "electrocyclization",
        "intermediate_smiles": "[*:1]N([*:2])C=CC=CC=N(c1cc(cc(c1)[N+]([O-])=O)[N+]([O-])=O)",
        "rationale": "The opened chain undergoes electrocyclization driven by conjugation and relief of charge separation, forming a more stable extended π-system."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "[*:1]N([*:2])C=CC=CC=O",
        "rationale": "Nucleophilic substitution occurs as the leaving group departs, favored by the stability of the conjugated enaminone product and good leaving ability of the nitro-activated fragment."
      }
    ],
    "description": "In the Zincke reaction, a nucleophilic amine opens an activated pyridinium ring substituted with strong electron-withdrawing nitro groups. The ring undergoes electrocyclic rearrangement, followed by substitution to yield a conjugated enaminone. Polar solvents stabilize charged intermediates, facilitating the transformation."
  },
  {
    "reaction_id": "NR-329",
    "name": "Ramberg-Bäcklund Reaction",
    "level": "medium",
    "reactants_smiles": [
      "C([H])([*:1])([*:2])S(=O)(=O)C(Cl)([*:3])[*:4]"
    ],
    "products_smiles": [
      "C(=C([*:3])[*:4])([*:1])[*:2]"
    ],
    "conditions": "Strong base (e.g., t-BuOK)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[C-]([*:1])([*:2])S(=O)(=O)C(Cl)([*:3])[*:4]",
        "rationale": "t-BuOK deprotonates the acidic α-proton due to strong electron-withdrawing sulfone stabilization of the resulting carbanion via resonance and inductive effects."
      },
      {
        "step": 2,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C1([*:1])([*:2])S(=O)(=O)C1([*:3])[*:4]",
        "rationale": "The nucleophilic carbanion attacks intramolecularly, displacing chloride, favored by good leaving group ability of Cl⁻ and proximity-driven cyclization."
      },
      {
        "step": 3,
        "type": "pericyclic",
        "subtype": "cheletropic_reaction",
        "intermediate_smiles": "C(=C([*:3])[*:4])([*:1])[*:2]",
        "rationale": "The strained episulfone undergoes concerted SO₂ extrusion, driven by formation of a stable alkene and release of gaseous SO₂."
      }
    ],
    "description": "Under strong base, the α-proton adjacent to the sulfone is abstracted to form a stabilized carbanion, which intramolecularly displaces chloride to form a strained episulfone. This intermediate undergoes a cheletropic elimination of SO₂, yielding the substituted alkene product."
  },
  {
    "reaction_id": "NR-330",
    "level": "medium",
    "name": "Rauhut-Currier Reaction",
    "reactants_smiles": [
      "[*:1]C(=O)C=C([*:2])[*:3]",
      "[*:7]C(=O)C([*:6])=C([*:5])[*:4]",
      "P([*:8])([*:8])[*:8]"
    ],
    "products_smiles": [
      "[*:1]C(=O)C(=C([*:2])[*:3])C([*:4])([*:5])C([*:6])C(=O)[*:7]"
    ],
    "conditions": "Nucleophilic Catalyst (e.g., P(n-Bu)3)",
    "mechanism_step_nums": 4,
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C([O-])=CC([*:2])([*:3])[P+]([*:8])([*:8])[*:8]",
        "step_weight": 0,
        "rationale": "The phosphine's lone pair attacks the β-position of the electron-deficient alkene, favored by conjugation with the carbonyl, forming a zwitterionic intermediate stabilized by resonance."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C(=O)C(C([*:2])([*:3])([P+]([*:8])([*:8])[*:8]))C([*:4])([*:5])C([*:6])=C([O-])[*:7]",
        "step_weight": 0,
        "rationale": "The nucleophilic carbon in the phosphonium enolate intermediate attacks the β-position of the second activated alkene, driven by its strong electron-withdrawing carbonyl group."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C([O-])=C(C([*:2])([*:3])([P+]([*:8])([*:8])[*:8]))C([*:4])([*:5])C([*:6])C(=O)[*:7]",
        "step_weight": 0,
        "rationale": "Proton transfer occurs to stabilize the alkoxide and generate a neutral intermediate, facilitated by the basicity of the alkoxide and the acidity of nearby protons."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]C(=O)C(=C([*:2])[*:3])C([*:4])([*:5])C([*:6])C(=O)[*:7]",
        "step_weight": 0,
        "rationale": "Elimination of the phosphine regenerates the catalyst, driven by formation of a conjugated enone system, which is thermodynamically favored due to extended π-delocalization."
      }
    ],
    "description": "A nucleophilic phosphine catalyst activates an electron-deficient alkene toward conjugate addition, enabling C–C bond formation between two Michael acceptors. Subsequent proton transfer and elimination regenerate the catalyst, yielding the conjugated enone product under mild conditions with high atom economy."
  },
  {
    "reaction_id": "NR-331",
    "name": "Reformatsky Reaction",
    "level": "easy",
    "reactants_smiles": [
      "C(Br)([*:2])([*:3])C(=O)O[*:1]",
      "O=C([*:4])[*:5]",
      "[Zn]"
    ],
    "products_smiles": [
      "C(C(O)([*:4])[*:5])([*:2])([*:3])C(=O)O[*:1]"
    ],
    "conditions": "1. Zn dust; 2. Aqueous workup",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "[*:1]OC(=O)C([*:2])([*:3])[Zn]Br",
        "rationale": "Zinc undergoes oxidative addition into the C–Br bond due to the electrophilicity of the α-carbon adjacent to the ester carbonyl, forming a stabilized organozinc species that is less reactive than a Grignard reagent."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(C([O-])([*:4])[*:5])([*:2])([*:3])C(=O)O[*:1].[Zn+2].[Br-]",
        "rationale": "The organozinc reagent acts as a soft nucleophile, attacking the electrophilic carbonyl carbon of the aldehyde; the ester group remains intact due to the mild nucleophilicity of zinc enolates."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(C(O)([*:4])[*:5])([*:2])([*:3])C(=O)O[*:1]",
        "rationale": "Aqueous workup protonates the alkoxide intermediate, driven by the strong thermodynamic preference for neutral alcohol formation under acidic or neutral conditions."
      }
    ],
    "description": "Zinc inserts into the α-bromo ester via oxidative addition, forming an organozinc reagent. This nucleophilic species adds to the aldehyde, generating an alkoxide intermediate. Aqueous workup protonates the alkoxide, yielding the β-hydroxy ester product characteristic of the Reformatsky reaction."
  },
  {
    "reaction_id": "NR-332",
    "level": "hard",
    "name": "Reimer-Tiemann Formylation",
    "reactants_smiles": [
      "c1(O)c([*:1])c([*:2])c([*:3])c([*:4])c1",
      "ClC(Cl)Cl",
      "[OH-]"
    ],
    "products_smiles": [
      "c1(O)c([*:1])c([*:2])c([*:3])c([*:4])c1(C=O)"
    ],
    "conditions": "Strong base (e.g., KOH), Heat",
    "mechanism": [
      {
        "step": 1,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[C](Cl)Cl",
        "rationale": "Strong base abstracts a proton from chloroform, and the adjacent chloride leaves due to the stability of the resulting dichlorocarbene under these conditions."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1(=O)C([C-](Cl)Cl)C([*:1])=C([*:2])C([*:3])=C1([*:4])",
        "rationale": "The electron-rich aromatic ring, activated by the ortho/para-directing hydroxyl group, attacks the electrophilic dichlorocarbene to form a cyclohexadienyl intermediate."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1([O-])c([*:1])c([*:2])c([*:3])c([*:4])c1(C(Cl)Cl)",
        "rationale": "Base deprotonates the phenolic OH, increasing electron density on the ring and stabilizing the intermediate via resonance."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1(=O)C(=CCl)C([*:4])=C([*:3])C([*:2])=C1([*:1])",
        "rationale": "Loss of chloride from the benzylic position is favored due to resonance stabilization of the resulting cationic character in the aromatic system."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "c1([O-])c(C(O)Cl)c([*:4])c([*:3])c([*:2])c1([*:1])",
        "rationale": "Hydroxide attacks the electrophilic carbon bearing chlorine, driven by the strong leaving group ability of chloride and the polar medium."
      },
      {
        "step": 6,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1(=O)C(=CO)C([*:4])=C([*:3])C([*:2])=C1([*:1])",
        "rationale": "Elimination of chloride from the geminal chlorohydrin intermediate forms the aldehyde functionality, favored by the stability of the carbonyl."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "c1(O)c([*:1])c([*:2])c([*:3])c([*:4])c1(C=O)",
        "rationale": "Protonation of the phenoxide restores the neutral phenol, completing the ortho-formylation."
      }
    ],
    "description": "Under strongly basic and heated conditions, chloroform undergoes deprotonation and α-elimination to generate dichlorocarbene, which electrophilically attacks the activated aromatic ring ortho to the hydroxyl group. Subsequent hydrolysis and elimination steps convert the carbene adduct into the ortho-formylated phenol via the Reimer–Tiemann pathway."
  },
  {
    "reaction_id": "NR-333",
    "level": "medium",
    "name": "Rieche Formylation",
    "reactants_smiles": [
      "c1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
      "COC(Cl)Cl",
      "Cl[Ti](Cl)(Cl)Cl"
    ],
    "products_smiles": [
      "c1(C=O)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]"
    ],
    "conditions": "1. Lewis Acid (e.g., TiCl4); 2. Aqueous Hydrolysis",
    "mechanism_step_nums": 5,
    "mechanism": [
      {
        "step": 1,
        "type": "coordination",
        "subtype": "lewis_acid_base_coordination",
        "intermediate_smiles": "COC(Cl)Cl[Ti](Cl)(Cl)(Cl)Cl",
        "step_weight": 0,
        "rationale": "TiCl4, a strong Lewis acid, coordinates to the ether oxygen, increasing the electrophilicity of the adjacent carbon by withdrawing electron density through coordination."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "C[O+]=CCl",
        "step_weight": 0,
        "rationale": "Lewis acid activation facilitates heterolytic cleavage of the C–Cl bond, generating a resonance-stabilized chloroalkoxy carbocation suitable for electrophilic aromatic attack."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C1(C(Cl)OC)c([*:5])c([*:4])c([*:3])c([*:2])[c+]1[*:1]",
        "step_weight": 0,
        "rationale": "The electron-rich aromatic π-system attacks the activated electrophile, favored by resonance stabilization of the resulting arenium ion intermediate."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "c1(C(Cl)OC)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "step_weight": 0,
        "rationale": "Loss of a proton from the arenium ion restores aromaticity, a strong thermodynamic driving force for electrophilic aromatic substitution."
      },
      {
        "step": 5,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "c1(C=O)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "step_weight": 0,
        "rationale": "Aqueous hydrolysis replaces the chloromethoxy group with a formyl group, driven by the instability of the C–Cl bond in water and the stability of the aldehyde product."
      }
    ],
    "description": "In the Rieche formylation, TiCl4 activates dichloromethyl methyl ether to generate a potent electrophile. The aromatic ring undergoes electrophilic substitution, installing a chloromethoxy group, which is then hydrolyzed to the aldehyde under aqueous workup, driven by intermediate stability and strong Lewis acid activation."
  },
  {
    "reaction_id": "NR-334",
    "name": "Ritter Reaction",
    "level": "medium",
    "reactants_smiles": [
      "N#C[*:1]",
      "OC([*:2])([*:3])[*:4]"
    ],
    "products_smiles": [
      "C(=O)(NC([*:2])([*:3])[*:4])[*:1]"
    ],
    "conditions": "H2SO4, H2O",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[OH2+]C([*:2])([*:3])[*:4]",
        "rationale": "Protonation of the alcohol oxygen increases its leaving group ability by converting OH into water, a much better leaving group under acidic conditions."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "[C+]([*:2])([*:3])[*:4]",
        "rationale": "Loss of water generates a carbocation stabilized by adjacent alkyl groups through hyperconjugation and inductive effects."
      },
      {
        "step": 3,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(#[N+]C([*:2])([*:3])[*:4])[*:1]",
        "rationale": "The nitrile nitrogen, being nucleophilic, attacks the carbocation, forming a nitrilium ion stabilized by resonance with the triple bond."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(=NC([*:2])([*:3])[*:4])([OH2+])[*:1]",
        "rationale": "Water, activated by the acidic medium, adds to the electrophilic carbon of the nitrilium ion, forming a protonated imidate intermediate."
      },
      {
        "step": 5,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=NC([*:2])([*:3])[*:4])(O)[*:1]",
        "rationale": "Deprotonation of the protonated imidate oxygen restores neutrality, yielding the neutral imidic acid form."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)(NC([*:2])([*:3])[*:4])[*:1]",
        "rationale": "Acid-catalyzed tautomerization converts the imidic acid to the more thermodynamically stable amide via proton transfers."
      }
    ],
    "description": "Under strong acid, the alcohol is protonated and loses water to form a stable carbocation. The nitrile attacks, forming an iminium intermediate, which is then hydrated and tautomerizes to the amide. Acid catalysis drives each step by stabilizing intermediates and activating electrophiles."
  },
  {
    "reaction_id": "NR-335",
    "name": "Robinson Annulation",
    "level": "medium",
    "reactants_smiles": [
      "C(=C([*:3])C(=O)[*:4])([*:1])[*:2]",
      "C([*:5])([*:6])C(=O)[*:7]"
    ],
    "products_smiles": [
      "C1(=C([*:4])C(=O)C(C([*:1])([*:2])C1([*:5])[*:6])[*:3])[*:7]"
    ],
    "conditions": "Catalytic base",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=C([*:5])[*:6])([O-])[*:7]",
        "rationale": "The base abstracts an α-proton adjacent to the carbonyl, generating a resonance-stabilized enolate due to delocalization over the carbonyl oxygen."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C(=O)(C(C([*:1])([*:2])C(=C([O-])C[*:4])[*:3])([*:5])[*:6])[*:7]",
        "rationale": "The nucleophilic enolate attacks the β-carbon of the α,β-unsaturated carbonyl via Michael addition, favored by conjugation and electrophilicity at the β-position."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)(C(C([*:1])([*:2])C([*:3])C(=O)C[*:4])([*:5])[*:6])[*:7]",
        "rationale": "Protonation of the enolate oxygen regenerates a neutral carbonyl, stabilizing the intermediate and preparing for further enolate formation."
      },
      {
        "step": 4,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)(C(C([*:1])([*:2])C([*:3])C([O-])=C[*:4])([*:5])[*:6])[*:7]",
        "rationale": "The base deprotonates another α-position, forming a new enolate that is positioned for intramolecular nucleophilic attack."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C1(C([*:4])C(=O)C(C([*:1])([*:2])C1([*:5])[*:6])[*:3])([*:7])[O-]",
        "rationale": "The enolate attacks the intramolecular carbonyl, forming a six-membered ring via aldol cyclization, favored by minimal ring strain."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C1(C([*:4])=C([O-])C(C([*:1])([*:2])C1([*:5])[*:6])[*:3])([*:7])O",
        "rationale": "Proton transfer converts the alkoxide intermediate into a β-hydroxy carbonyl, setting up for elimination."
      },
      {
        "step": 7,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "C1(=C([*:4])C(=O)C(C([*:1])([*:2])C1([*:5])[*:6])[*:3])[*:7]",
        "rationale": "Base-induced elimination of water forms the α,β-unsaturated carbonyl, driven by conjugation and thermodynamic stability of the enone."
      }
    ],
    "description": "Under basic conditions, the Robinson annulation proceeds via enolate formation, Michael addition to an α,β-unsaturated carbonyl, followed by intramolecular aldol condensation and dehydration. The base promotes enolate generation, facilitates C–C bond formation, and drives cyclization to the conjugated cyclohexenone product."
  },
  {
    "reaction_id": "NR-336",
    "name": "Robinson-Gabriel Synthesis",
    "level": "medium",
    "reactants_smiles": [
      "C(=O)(NC([H])([*:2])C(=O)[*:3])[*:1]"
    ],
    "products_smiles": [
      "[*:1]c1nc([*:2])c([*:3])o1"
    ],
    "conditions": "Acid (e.g., H-OTs, H2SO4)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=O)(NC([H])([*:2])C(=[OH+])[*:3])[*:1]",
        "rationale": "Protonation of the carbonyl oxygen increases the electrophilicity of the adjacent carbon, making it more susceptible to nucleophilic attack by the nearby amide nitrogen."
      },
      {
        "step": 2,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "[*:1]C1=[NH+]C([*:2])C(O)([*:3])O1",
        "rationale": "The amide nitrogen attacks the activated carbonyl carbon intramolecularly, favored by proximity and ring closure, forming a five-membered oxazolinium intermediate."
      },
      {
        "step": 3,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "[*:1]C1=NC([*:2])C([OH2+])([*:3])O1",
        "rationale": "Proton transfer to the hydroxyl group converts it into a better leaving group (water), facilitated by the acidic medium."
      },
      {
        "step": 4,
        "type": "elimination",
        "subtype": "leaving_group_elimination",
        "intermediate_smiles": "[*:1]c1nc([*:2])c([*:3])o1",
        "rationale": "Loss of water generates a conjugated aromatic oxazole ring, driven by the stability of the aromatic system and the good leaving ability of water under acidic conditions."
      }
    ],
    "description": "Under acidic conditions, the amide carbonyl is activated toward intramolecular cyclization. Protonation increases electrophilicity, enabling nucleophilic attack by the amide nitrogen to form an oxazole ring. Subsequent proton transfers and water elimination yield the aromatic heterocycle."
  },
  {
    "reaction_id": "NR-337",
    "name": "Rosenmund-von Braun Reaction",
    "level": "medium",
    "reactants_smiles": [
      "c1(I)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
      "N#C[Cu]"
    ],
    "products_smiles": [
      "c1(C#N)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]"
    ],
    "conditions": "High temperature",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "oxidative_addition",
        "intermediate_smiles": "[Cu](I)(C#N)c1c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "High temperature promotes oxidative addition of the aryl iodide to Cu(I), facilitated by the weak C–I bond and good leaving group ability of iodide, forming a higher oxidation state Cu(III) intermediate with CN ligand."
      },
      {
        "step": 2,
        "type": "elimination",
        "subtype": "reductive_elimination",
        "intermediate_smiles": "c1(C#N)c([*:1])c([*:2])c([*:3])c([*:4])c1[*:5]",
        "rationale": "Reductive elimination from Cu(III) is favored by the strong bond formation between the aryl group and the nucleophilic CN, releasing stable Cu(I) and driving the reaction thermodynamically."
      }
    ],
    "description": "In the Rosenmund–von Braun reaction, aryl iodide undergoes oxidative addition to a copper(I) cyanide species at high temperature, forming an aryl–Cu(III)–CN intermediate. Subsequent reductive elimination yields the aryl nitrile, driven by strong C–CN bond formation and thermodynamic stability."
  },
  {
    "reaction_id": "NR-338",
    "name": "Rubottom Oxidation",
    "level": "medium",
    "reactants_smiles": [
      "C(=C([*:2])[*:3])([*:1])O[Si]([*:4])([*:4])[*:4]",
      "O=C(OO)[*:5]"
    ],
    "products_smiles": [
      "C(=O)(C(O[Si]([*:4])([*:4])[*:4])([*:2])[*:3])[*:1]"
    ],
    "conditions": "",
    "mechanism": [
      {
        "step": 1,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C1(O[Si]([*:4])([*:4])[*:4])([*:1])C([*:2])([*:3])O1",
        "rationale": "The electron-rich alkene of the silyl enol ether attacks the electrophilic peracid oxygen, favored by π-electron donation from the oxygen substituent and the strong electrophilicity of the peracid's terminal oxygen."
      },
      {
        "step": 2,
        "type": "rearrangement",
        "subtype": "1,2-shift",
        "intermediate_smiles": "C(=[O+][Si]([*:4])([*:4])[*:4])([*:1])C([O-])([*:2])[*:3]",
        "rationale": "The 1,2-shift of the silyl group is driven by the stability of the silicon–oxygen bond and the ability of silicon to stabilize positive charge via hyperconjugation and empty d-orbital participation."
      },
      {
        "step": 3,
        "type": "substitution",
        "subtype": "nucleophilic_substitution",
        "intermediate_smiles": "C(=O)(C(O[Si]([*:4])([*:4])[*:4])([*:2])[*:3])[*:1]",
        "rationale": "Nucleophilic attack by the oxygen displaces the leaving group, restoring the carbonyl; silicon’s strong affinity for oxygen makes the silyloxy group stable in the product."
      }
    ],
    "description": "The silyl enol ether undergoes electrophilic addition with the peracid to form a dioxirane-like intermediate. A 1,2-shift transfers the silyl group with concurrent oxygen insertion, driven by stabilization of the developing positive charge. Finally, nucleophilic substitution regenerates the carbonyl, yielding the α-silyloxy ketone."
  },
  {
    "reaction_id": "NR-339",
    "name": "Rupe Rearrangement",
    "level": "hard",
    "reactants_smiles": [
      "C#CC(O)([*:1])C([*:2])[*:3]"
    ],
    "products_smiles": [
      "CC(=O)C(=C([*:2])[*:3])[*:1]"
    ],
    "conditions": "Acid (e.g., H2SO4, Formic Acid)",
    "mechanism": [
      {
        "step": 1,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C#CC([OH2+])([*:1])C([*:2])[*:3]",
        "rationale": "Protonation of the hydroxyl increases its leaving group ability by converting OH into water, favored under strong acid due to the high basicity of oxygen."
      },
      {
        "step": 2,
        "type": "cleavage",
        "subtype": "heterolytic_cleavage",
        "intermediate_smiles": "C#C[C+]([*:1])C([*:2])[*:3]",
        "rationale": "Heterolytic cleavage of the C–O bond occurs because water is an excellent leaving group and the resulting carbocation is stabilized by the adjacent propargyl system."
      },
      {
        "step": 3,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "C#CC(=C([*:2])[*:3])[*:1]",
        "rationale": "Proton elimination forms an allene, driven by the stability from cumulated double bonds and relief of carbocation instability."
      },
      {
        "step": 4,
        "type": "addition",
        "subtype": "electrophilic_addition",
        "intermediate_smiles": "C=[C+]C(=C([*:2])[*:3])[*:1]",
        "rationale": "Electrophilic addition to the allene occurs at the less substituted carbon to generate a more substituted, resonance-stabilized allylic carbocation."
      },
      {
        "step": 5,
        "type": "addition",
        "subtype": "nucleophilic_addition",
        "intermediate_smiles": "C=C([OH2+])C(=C([*:2])[*:3])[*:1]",
        "rationale": "Water adds to the carbocation center because the cation is highly electrophilic and water is abundant under acidic aqueous conditions."
      },
      {
        "step": 6,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C=C(O)C(=C([*:2])[*:3])[*:1]",
        "rationale": "Deprotonation of the oxonium intermediate restores the neutral alcohol, favored by the stability of the C–OH bond."
      },
      {
        "step": 7,
        "type": "proton_transfer",
        "subtype": "acid_base_proton_transfer",
        "intermediate_smiles": "C(=[OH+])(C)C(=C([*:2])[*:3])[*:1]",
        "rationale": "Protonation of the alcohol oxygen activates it for tautomerization by increasing the electrophilicity of the adjacent carbon."
      },
      {
        "step": 8,
        "type": "elimination",
        "subtype": "proton_elimination",
        "intermediate_smiles": "CC(=O)C(=C([*:2])[*:3])[*:1]",
        "rationale": "Proton elimination from the α-carbon leads to the conjugated enone, favored thermodynamically by extended π-conjugation."
      }
    ],
    "description": "Under strong acid, the propargyl tertiary alcohol undergoes protonation to activate the hydroxyl as a leaving group, forming a stabilized carbocation. Rearrangement and addition steps proceed via resonance-stabilized cationic intermediates, ultimately yielding the α,β-unsaturated ketone through tautomerization and elimination."
  }
]